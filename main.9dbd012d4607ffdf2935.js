(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[179],{255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=255,t.exports=e},10:t=>{var e=.1,n="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function i(t){return 3*t}function o(t,e,n){return((r(e,n)*t+s(e,n))*t+i(e))*t}function a(t,e,n){return 3*r(e,n)*t*t+2*s(e,n)*t+i(e)}function c(t){return t}t.exports=function(t,r,s,i){if(!(0<=t&&t<=1&&0<=s&&s<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&s===i)return c;for(var l=n?new Float32Array(11):new Array(11),u=0;u<11;++u)l[u]=o(u*e,t,s);return function(n){return 0===n?0:1===n?1:o(function(n){for(var r=0,i=1;10!==i&&l[i]<=n;++i)r+=e;--i;var c=r+(n-l[i])/(l[i+1]-l[i])*e,u=a(c,t,s);return u>=.001?function(t,e,n,r){for(var s=0;s<4;++s){var i=a(e,n,r);if(0===i)return e;e-=(o(e,n,r)-t)/i}return e}(n,c,t,s):0===u?c:function(t,e,n,r,s){var i,a,c=0;do{(i=o(a=e+(n-e)/2,r,s)-t)>0?n=a:e=a}while(Math.abs(i)>1e-7&&++c<10);return a}(n,r,r+e,t,s)}(n),r,i)}}},55:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}let s=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},c=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:s,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i)){s&&(this._unsubscribe=void 0);try{i.call(this)}catch(a){e=a instanceof u?d(a.errors):[a]}}if(c(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(l(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof u?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class g extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new g(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class f extends g{constructor(t,e,n,s){let i;super(),this._parentSubscriber=t;let o=this;r(e)?i=e:e&&(i=e.next,n=e.error,s=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,s=function(t,e,n){if(t){if(t instanceof g)return t;if(t[p])return t[p]()}return t||e||n?new g(t,e,n):new g(a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),i.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(s){n(s),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=_(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const y=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends g{constructor(t){super(t),this.destination=t}}let O=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(t){const e=new x(this,this);return e.operator=t,e}next(t){if(this.closed)throw new y;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let s=0;s<n;s++)r[s].next(t)}}error(t){if(this.closed)throw new y;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let s=0;s<n;s++)r[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new y;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new y;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new y;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new x(t,e),t})();class x extends O{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function P(t){return t&&"function"==typeof t.schedule}function E(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new T(t,e))}}class T{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new M(t,this.project,this.thisArg))}}class M extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const S=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const k=I(),A=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return n=t,t=>{const e=n[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(A(t))return S(t);if(N(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e))(t);if(t&&"function"==typeof t[k])return e=t,t=>{const n=e[k]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function D(t,e){return new b(n=>{const r=new h;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function L(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>{const s=t[m]();r.add(s.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(N(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(A(t))return D(t,e);if(function(t){return t&&"function"==typeof t[k]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const r=new h;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(e.schedule(()=>{s=t[k](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=s.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(R(t))}class U extends g{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class z extends g{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function j(t,e){if(e.closed)return;if(t instanceof b)return t.subscribe(e);let n;try{n=R(t)(e)}catch(r){e.error(r)}return n}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(q((n,r)=>L(t(n,r)).pipe(E((t,s)=>e(n,t,r,s))),n)):("number"==typeof e&&(n=e),e=>e.lift(new F(t,n)))}class F{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends z{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new U(this),n=this.destination;n.add(e);const r=j(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function V(t=Number.POSITIVE_INFINITY){return q(v,t)}function H(t,e){return e?D(t,e):new b(S(t))}function B(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return P(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:V(e)(H(t,n))}function G(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new W(t,n),s=e.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class W extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class X extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const K=(()=>{const t=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Z(){return new O}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function tt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rt=J({__forward_ref__:J});function st(t){return t.__forward_ref__=st,t.toString=function(){return et(this())},t}function it(t){return"function"==typeof(e=t)&&e.hasOwnProperty(rt)&&e.__forward_ref__===st?t():t;var e}class ot extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function at(t){return"string"==typeof t?t:null==t?"":String(t)}function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():at(t)}function lt(t,e){const n=e?` in ${e}`:"";throw new ot("201",`No provider for ${ct(t)} found${n}`)}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function dt(t){return pt(t,ft)||pt(t,vt)}function pt(t,e){return t.hasOwnProperty(e)?t[e]:null}function gt(t){return t&&(t.hasOwnProperty(mt)||t.hasOwnProperty(bt))?t[mt]:null}const ft=J({"\u0275prov":J}),mt=J({"\u0275inj":J}),vt=J({ngInjectableDef:J}),bt=J({ngInjectorDef:J});var _t=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let yt;function wt(t){const e=yt;return yt=t,e}function Ct(t,e,n){const r=dt(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&_t.Optional?null:void 0!==e?e:void lt(et(t),"Injector")}function Ot(t){return{toString:t}.toString()}var xt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Pt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Et="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,Mt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St="undefined"!=typeof global&&global,It=Et||St||Tt||Mt,kt={},At=[],Nt=J({"\u0275cmp":J}),Rt=J({"\u0275dir":J}),Dt=J({"\u0275pipe":J}),Lt=J({"\u0275mod":J}),Ut=J({"\u0275loc":J}),zt=J({"\u0275fac":J}),jt=J({__NG_ELEMENT_ID__:J});let qt=0;function Ft(t){return Ot(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Pt.Emulated,id:"c",styles:t.styles||At,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,s=t.features,i=t.pipes;return n.id+=qt++,n.inputs=Gt(t.inputs,e),n.outputs=Gt(t.outputs),s&&s.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map($t):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(Vt):null,n})}function $t(t){const e=Xt(t)||function(t){return t[Rt]||null}(t);return e}function Vt(t){const e=function(t){return t[Dt]||null}(t);return e}const Ht={};function Bt(t){return Ot(()=>{const e={type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ht[t.id]=t.type),e})}function Gt(t,e){if(null==t)return kt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let s=t[r],i=s;Array.isArray(s)&&(i=s[1],s=s[0]),n[s]=r,e&&(e[s]=i)}return n}const Yt=Ft;function Wt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[Nt]||null}function Kt(t,e){const n=t[Lt]||null;if(!n&&!0===e)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}const Qt=20,Zt=10;function Jt(t){return Array.isArray(t)&&"object"==typeof t[1]}function te(t){return Array.isArray(t)&&!0===t[1]}function ee(t){return 0!=(8&t.flags)}function ne(t){return 2==(2&t.flags)}function re(t){return 1==(1&t.flags)}function se(t){return null!==t.template}function ie(t,e){return t.hasOwnProperty(zt)?t[zt]:null}class oe{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ae(){return ce}function ce(t){return t.type.prototype.ngOnChanges&&(t.setInput=ue),le}function le(){const t=he(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===kt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ue(t,e,n,r){const s=he(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:kt,current:null}),i=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[n],c=o[a];i[a]=new oe(c&&c.currentValue,e,o===kt),t[r]=e}function he(t){return t.__ngSimpleChanges__||null}let de;function pe(t){return!!t.listen}ae.ngInherit=!0;const ge={createRenderer:(t,e)=>void 0!==de?de:"undefined"!=typeof document?document:void 0};function fe(t){for(;Array.isArray(t);)t=t[0];return t}function me(t,e){return fe(e[t])}function ve(t,e){return fe(e[t.index])}function be(t,e){return t.data[e]}function _e(t,e){return t[e]}function ye(t,e){const n=e[t];return Jt(n)?n:n[0]}function we(t){return 4==(4&t[2])}function Ce(t){return 128==(128&t[2])}function Oe(t,e){return null==e?null:t[e]}function xe(t){t[18]=0}function Pe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ee={lFrame:Ke(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Te(){return Ee.bindingsEnabled}function Me(){return Ee.lFrame.lView}function Se(){return Ee.lFrame.tView}function Ie(t){return Ee.lFrame.contextLView=t,t[8]}function ke(){let t=Ae();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ae(){return Ee.lFrame.currentTNode}function Ne(t,e){const n=Ee.lFrame;n.currentTNode=t,n.isParent=e}function Re(){return Ee.lFrame.isParent}function De(){Ee.lFrame.isParent=!1}function Le(){return Ee.isInCheckNoChangesMode}function Ue(t){Ee.isInCheckNoChangesMode=t}function ze(){const t=Ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function je(){return Ee.lFrame.bindingIndex}function qe(){return Ee.lFrame.bindingIndex++}function Fe(t){const e=Ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $e(t,e){const n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ve(e)}function Ve(t){Ee.lFrame.currentDirectiveIndex=t}function He(){return Ee.lFrame.currentQueryIndex}function Be(t){Ee.lFrame.currentQueryIndex=t}function Ge(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ye(t,e,n){if(n&_t.SkipSelf){let r=e,s=t;for(;r=r.parent,!(null!==r||n&_t.Host||(r=Ge(s),null===r)||(s=s[15],10&r.type)););if(null===r)return!1;e=r,t=s}const r=Ee.lFrame=Xe();return r.currentTNode=e,r.lView=t,!0}function We(t){const e=Xe(),n=t[1];Ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Xe(){const t=Ee.lFrame,e=null===t?null:t.child;return null===e?Ke(t):e}function Ke(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Qe(){const t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ze=Qe;function Je(){const t=Qe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tn(){return Ee.lFrame.selectedIndex}function en(t){Ee.lFrame.selectedIndex=t}function nn(){const t=Ee.lFrame;return be(t.tView,t.selectedIndex)}function rn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:s,ngAfterViewInit:i,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),s&&((t.contentHooks||(t.contentHooks=[])).push(n,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,s)),i&&(t.viewHooks||(t.viewHooks=[])).push(-n,i),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function sn(t,e,n){cn(t,e,3,n)}function on(t,e,n,r){(3&t[2])===n&&cn(t,e,n,r)}function an(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function cn(t,e,n,r){const s=null!=r?r:-1,i=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<i;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<s||-1==s)&&(ln(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ln(t,e,n,r){const s=n[r]<0,i=n[r+1],o=t[s?-n[r]:n[r]];if(s){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{i.call(o)}finally{}}}else try{i.call(o)}finally{}}const un=-1;class hn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function dn(t,e,n){const r=pe(t);let s=0;for(;s<n.length;){const i=n[s];if("number"==typeof i){if(0!==i)break;s++;const o=n[s++],a=n[s++],c=n[s++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=i,a=n[++s];gn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),s++}}return s}function pn(t){return 3===t||4===t||6===t}function gn(t){return 64===t.charCodeAt(0)}function fn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const s=e[r];"number"==typeof s?n=s:0===n||mn(t,n,s,null,-1===n||2===n?e[++r]:null)}}return t}function mn(t,e,n,r,s){let i=0,o=t.length;if(-1===e)o=-1;else for(;i<t.length;){const n=t[i++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=i-1;break}}}for(;i<t.length;){const e=t[i];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==s&&(t[i+1]=s));if(r===t[i+1])return void(t[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==o&&(t.splice(o,0,e),i=o+1),t.splice(i++,0,n),null!==r&&t.splice(i++,0,r),null!==s&&t.splice(i++,0,s)}function vn(t){return t!==un}function bn(t){return 32767&t}function _n(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let yn=!0;function wn(t){const e=yn;return yn=t,e}let Cn=0;function On(t,e){const n=Pn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,xn(r.data,t),xn(e,null),xn(r.blueprint,null));const s=En(t,e),i=t.injectorIndex;if(vn(s)){const t=bn(s),n=_n(s,e),r=n[1].data;for(let s=0;s<8;s++)e[i+s]=n[t+s]|r[t+s]}return e[i+8]=s,i}function xn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function En(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,s=e;for(;null!==s;){const t=s[1],e=t.type;if(r=2===e?t.declTNode:1===e?s[6]:null,null===r)return un;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return un}function Tn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(jt)&&(r=n[jt]),null==r&&(r=n[jt]=Cn++);const s=255&r;e.data[t+(s>>5)]|=1<<s}(t,e,n)}function Mn(t,e,n){if(n&_t.Optional)return t;lt(e,"NodeInjector")}function Sn(t,e,n,r){if(n&_t.Optional&&void 0===r&&(r=null),0==(n&(_t.Self|_t.Host))){const s=t[9],i=wt(void 0);try{return s?s.get(e,r,n&_t.Optional):Ct(e,r,n&_t.Optional)}finally{wt(i)}}return Mn(r,e,n)}function In(t,e,n,r=_t.Default,s){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(jt)?t[jt]:void 0;return"number"==typeof e?e>=0?255&e:An:e}(n);if("function"==typeof i){if(!Ye(e,t,r))return r&_t.Host?Mn(s,n,r):Sn(e,n,r,s);try{const t=i(r);if(null!=t||r&_t.Optional)return t;lt(n)}finally{Ze()}}else if("number"==typeof i){let s=null,o=Pn(t,e),a=un,c=r&_t.Host?e[16][6]:null;for((-1===o||r&_t.SkipSelf)&&(a=-1===o?En(t,e):e[o+8],a!==un&&Un(r,!1)?(s=e[1],o=bn(a),e=_n(a,e)):o=-1);-1!==o;){const t=e[1];if(Ln(i,o,t.data)){const t=Nn(o,e,n,s,r,c);if(t!==kn)return t}a=e[o+8],a!==un&&Un(r,e[1].data[o+8]===c)&&Ln(i,o,e)?(s=t,o=bn(a),e=_n(a,e)):o=-1}}}return Sn(e,n,r,s)}const kn={};function An(){return new zn(ke(),Me())}function Nn(t,e,n,r,s,i){const o=e[1],a=o.data[t+8],c=Rn(a,o,n,null==r?ne(a)&&yn:r!=o&&0!=(3&a.type),s&_t.Host&&i===a);return null!==c?Dn(e,o,c,a):kn}function Rn(t,e,n,r,s){const i=t.providerIndexes,o=e.data,a=1048575&i,c=t.directiveStart,l=i>>20,u=s?a+l:t.directiveEnd;for(let h=r?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(s){const t=o[c];if(t&&se(t)&&t.type===n)return c}return null}function Dn(t,e,n,r){let s=t[n];const i=e.data;if(s instanceof hn){const o=s;o.resolving&&function(t,e){throw new ot("200",`Circular dependency in DI detected for ${t}`)}(ct(i[n]));const a=wn(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?wt(o.injectImpl):null;Ye(t,r,_t.Default);try{s=t[n]=o.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=e.type.prototype;if(r){const r=ce(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,s),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i))}(n,i[n],e)}finally{null!==c&&wt(c),wn(a),o.resolving=!1,Ze()}}return s}function Ln(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Un(t,e){return!(t&_t.Self||t&_t.Host&&e)}class zn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return In(this._tNode,this._lView,t,void 0,e)}}const jn="__parameters__";function qn(t,e,n){return Ot(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function s(...t){if(this instanceof s)return r.apply(this,t),this;const e=new s(...t);return n.annotation=e,n;function n(t,n,r){const s=t.hasOwnProperty(jn)?t[jn]:Object.defineProperty(t,jn,{value:[]})[jn];for(;s.length<=r;)s.push(null);return(s[r]=s[r]||[]).push(e),t}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}class Fn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $n=new Fn("AnalyzeForEntryComponents"),Vn=Function;function Hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Hn(r,e)):e!==t&&e.push(r)}return e}function Bn(t,e){t.forEach(t=>Array.isArray(t)?Bn(t,e):e(t))}function Gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Wn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Xn(t,e,n){let r=Qn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let s=t.length;if(s==e)t.push(n,r);else if(1===s)t.push(r,t[0]),t[0]=n;else{for(s--,t.push(t[s-1],t[s]);s>e;)t[s]=t[s-2],s--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Kn(t,e){const n=Qn(t,e);if(n>=0)return t[1|n]}function Qn(t,e){return function(t,e,n){let r=0,s=t.length>>1;for(;s!==r;){const n=r+(s-r>>1),i=t[n<<1];if(e===i)return n<<1;i>e?s=n:r=n+1}return~(s<<1)}(t,e)}const Zn={},Jn=/\n/gm,tr="__source",er=J({provide:String,useValue:J});let nr;function rr(t){const e=nr;return nr=t,e}function sr(t,e=_t.Default){if(void 0===nr)throw new Error("inject() must be called from an injection context");return null===nr?Ct(t,void 0,e):nr.get(t,e&_t.Optional?null:void 0,e)}function ir(t,e=_t.Default){return(yt||sr)(it(t),e)}const or=ir;function ar(t){const e=[];for(let n=0;n<t.length;n++){const r=it(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=_t.Default;for(let e=0;e<r.length;e++){const s=r[e],i=s.__NG_DI_FLAG__;"number"==typeof i?-1===i?t=s.token:n|=i:t=s}e.push(ir(t,n))}else e.push(ir(r))}return e}function cr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const lr=cr(qn("Inject",t=>({token:t})),-1),ur=cr(qn("Optional"),8),hr=cr(qn("SkipSelf"),4);function dr(t){return t instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}function pr(t,e){t.__ngContext__=e}function gr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function fr(t){return t.ngDebugContext}function mr(t){return t.ngOriginalError}function vr(t,...e){t.error(...e)}class br{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fr(t)?fr(t):this._findContext(mr(t)):null}_findOriginalError(t){let e=mr(t);for(;e&&mr(e);)e=mr(e);return e}}const _r=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function yr(t){return t instanceof Function?t():t}var wr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Cr(t,e){return(void 0)(t,e)}function Or(t){const e=t[3];return te(e)?e[3]:e}function xr(t){return Er(t[13])}function Pr(t){return Er(t[4])}function Er(t){for(;null!==t&&!te(t);)t=t[4];return t}function Tr(t,e,n,r,s){if(null!=r){let i,o=!1;te(r)?i=r:Jt(r)&&(o=!0,r=r[0]);const a=fe(r);0===t&&null!==n?null==s?Dr(e,n,a):Rr(e,n,a,s||null,!0):1===t&&null!==n?Rr(e,n,a,s||null,!0):2===t?function(t,e,n){const r=Ur(t,e);r&&function(t,e,n,r){pe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=i&&function(t,e,n,r,s){const i=n[7];i!==fe(n)&&Tr(e,t,r,i,s);for(let o=Zt;o<n.length;o++){const s=n[o];Br(s[1],s,t,e,r,i)}}(e,t,i,n,s)}}function Mr(t,e,n){return pe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Sr(t,e){const n=t[9],r=n.indexOf(e),s=e[3];1024&e[2]&&(e[2]&=-1025,Pe(s,-1)),n.splice(r,1)}function Ir(t,e){if(t.length<=Zt)return;const n=Zt+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Sr(i,r),e>0&&(t[n-1][4]=r[4]);const o=Yn(t,Zt+e);Br(r[1],s=r,s[11],2,null,null),s[0]=null,s[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var s;return r}function kr(t,e){if(!(256&e[2])){const n=e[11];pe(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ar(t[1],t);for(;e;){let n=null;if(Jt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Jt(e)&&Ar(e[1],e),e=e[3];null===e&&(e=t),Jt(e)&&Ar(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ar(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof hn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],s=e[n+1];try{s.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let s=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const t=n[i+1],o="function"==typeof t?t(e):fe(e[t]),a=r[s=n[i+2]],c=n[i+3];"boolean"==typeof c?o.removeEventListener(n[i],a,c):c>=0?r[s=c]():r[s=-c].unsubscribe(),i+=2}else{const t=r[s=n[i+1]];n[i].call(t)}if(null!==r){for(let t=s+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&pe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&te(e[3])){n!==e[3]&&Sr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Nr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===Pt.None||e===Pt.Emulated)return null}return ve(r,n)}(t,e.parent,n)}function Rr(t,e,n,r,s){pe(t)?t.insertBefore(e,n,r,s):e.insertBefore(n,r,s)}function Dr(t,e,n){pe(t)?t.appendChild(e,n):e.appendChild(n)}function Lr(t,e,n,r,s){null!==r?Rr(t,e,n,r,s):Dr(t,e,n)}function Ur(t,e){return pe(t)?t.parentNode(e):e.parentNode}function zr(t,e,n){return jr(t,e,n)}let jr=function(t,e,n){return 40&t.type?ve(t,n):null};function qr(t,e,n,r){const s=Nr(t,r,e),i=e[11],o=zr(r.parent||e[6],r,e);if(null!=s)if(Array.isArray(n))for(let a=0;a<n.length;a++)Lr(i,s,n[a],o,!1);else Lr(i,s,n,o,!1)}function Fr(t,e){if(null!==e){const n=e.type;if(3&n)return ve(e,t);if(4&n)return Vr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Fr(t,n);{const n=t[e.index];return te(n)?Vr(-1,n):fe(n)}}if(32&n)return Cr(e,t)()||fe(t[e.index]);{const n=$r(t,e);return null!==n?Array.isArray(n)?n[0]:Fr(Or(t[16]),n):Fr(t,e.next)}}return null}function $r(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Vr(t,e){const n=Zt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Fr(t,r)}return e[7]}function Hr(t,e,n,r,s,i,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&pr(fe(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Hr(t,e,n.child,r,s,i,!1),Tr(e,t,s,a,i);else if(32&c){const o=Cr(n,r);let c;for(;c=o();)Tr(e,t,s,c,i);Tr(e,t,s,a,i)}else 16&c?Gr(t,e,r,n,s,i):Tr(e,t,s,a,i);n=o?n.projectionNext:n.next}}function Br(t,e,n,r,s,i){Hr(n,r,t.firstChild,e,s,i,!1)}function Gr(t,e,n,r,s,i){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Tr(e,t,s,a[c],i);else Hr(t,e,a,o[3],s,i,!0)}function Yr(t,e,n){pe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wr(t,e,n){pe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Xr(t,e,n){let r=t.length;for(;;){const s=t.indexOf(e,n);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const n=e.length;if(s+n===r||t.charCodeAt(s+n)<=32)return s}n=s+1}}const Kr="ng-template";function Qr(t,e,n){let r=0;for(;r<t.length;){let s=t[r++];if(n&&"class"===s){if(s=t[r],-1!==Xr(s.toLowerCase(),e,0))return!0}else if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function Zr(t){return 4===t.type&&t.value!==Kr}function Jr(t,e,n){return e===(4!==t.type||n?t.value:Kr)}function ts(t,e,n){let r=4;const s=t.attrs||[],i=function(t){for(let e=0;e<t.length;e++)if(pn(t[e]))return e;return t.length}(s);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Jr(t,c,n)||""===c&&1===e.length){if(es(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Qr(t.attrs,l,n)){if(es(r))return!1;o=!0}continue}const u=ns(8&r?"class":c,s,Zr(t),n);if(-1===u){if(es(r))return!1;o=!0;continue}if(""!==l){let t;t=u>i?"":s[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Xr(e,l,0)||2&r&&l!==t){if(es(r))return!1;o=!0}}}}else{if(!o&&!es(r)&&!es(c))return!1;if(o&&es(c))continue;o=!1,r=c|1&r}}return es(r)||o}function es(t){return 0==(1&t)}function ns(t,e,n,r){if(null===e)return-1;let s=0;if(r||!n){let n=!1;for(;s<e.length;){const r=e[s];if(r===t)return s;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++s];for(;"string"==typeof t;)t=e[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function rs(t,e,n=!1){for(let r=0;r<e.length;r++)if(ts(t,e[r],n))return!0;return!1}function ss(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function is(t,e){return t?":not("+e.trim()+")":e}function os(t){let e=t[0],n=1,r=2,s="",i=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];s+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?s+="."+o:4&r&&(s+=" "+o);else""===s||es(o)||(e+=is(i,s),s=""),r=o,i=i||!es(r);n++}return""!==s&&(e+=is(i,s)),e}const as={};function cs(t){ls(Se(),Me(),tn()+t,Le())}function ls(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&sn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&on(e,r,0,n)}en(n)}function us(t,e){return t<<17|e<<2}function hs(t){return t>>17&32767}function ds(t){return 2|t}function ps(t){return(131068&t)>>2}function gs(t,e){return-131069&t|e<<2}function fs(t){return 1|t}function ms(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],i=n[r+1];if(-1!==i){const n=t.data[i];Be(s),n.contentQueries(2,e[i],i)}}}function vs(t,e,n,r,s,i,o,a,c,l){const u=e.blueprint.slice();return u[0]=s,u[2]=140|r,xe(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=i,u[16]=2==e.type?t[16]:u,u}function bs(t,e,n,r,s){let i=t.data[e];if(null===i)i=function(t,e,n,r,s){const i=Ae(),o=Re(),a=t.data[e]=function(t,e,n,r,s,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,n,e,r,s);return null===t.firstChild&&(t.firstChild=a),null!==i&&(o?null==i.child&&null!==a.parent&&(i.child=a):null===i.next&&(i.next=a)),a}(t,e,n,r,s),Ee.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const t=function(){const t=Ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===t?-1:t.injectorIndex}return Ne(i,!0),i}function _s(t,e,n,r){if(0===n)return-1;const s=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return s}function ys(t,e,n){We(e);try{const r=t.viewQuery;null!==r&&Xs(1,r,n);const s=t.template;null!==s&&Os(t,e,s,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ms(t,e),t.staticViewQueries&&Xs(2,t.viewQuery,n);const i=t.components;null!==i&&function(t,e){for(let n=0;n<e.length;n++)Hs(t,e[n])}(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Je()}}function ws(t,e,n,r){const s=e[2];if(256==(256&s))return;We(e);const i=Le();try{xe(e),Ee.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Os(t,e,n,2,r);const o=3==(3&s);if(!i)if(o){const n=t.preOrderCheckHooks;null!==n&&sn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&on(e,n,0,null),an(e,0)}if(function(t){for(let e=xr(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Pe(r,1),n[2]|=1024}}}(e),function(t){for(let e=xr(t);null!==e;e=Pr(e))for(let t=Zt;t<e.length;t++){const n=e[t],r=n[1];Ce(n)&&ws(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ms(t,e),!i)if(o){const n=t.contentCheckHooks;null!==n&&sn(e,n)}else{const n=t.contentHooks;null!==n&&on(e,n,1),an(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)en(~r);else{const s=r,i=n[++t],o=n[++t];$e(i,s),o(2,e[s])}}}finally{en(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)$s(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Xs(2,c,r),!i)if(o){const n=t.viewCheckHooks;null!==n&&sn(e,n)}else{const n=t.viewHooks;null!==n&&on(e,n,2),an(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Pe(e[3],-1))}finally{Je()}}function Cs(t,e,n,r){const s=e[10],i=!Le(),o=we(e);try{i&&!o&&s.begin&&s.begin(),o&&ys(t,e,r),ws(t,e,n,r)}finally{i&&!o&&s.end&&s.end()}}function Os(t,e,n,r,s){const i=tn(),o=2&r;try{en(-1),o&&e.length>Qt&&ls(t,e,Qt,Le()),n(r,s)}finally{en(i)}}function xs(t,e,n){if(ee(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const e=t.data[s];e.contentQueries&&e.contentQueries(1,n[s],s)}}}function Ps(t,e,n){Te()&&(function(t,e,n,r){const s=n.directiveStart,i=n.directiveEnd;t.firstCreatePass||On(n,e),pr(r,e);const o=n.initialInputs;for(let a=s;a<i;a++){const r=t.data[a],i=se(r);i&&zs(e,n,r);const c=Dn(e,t,a,n);pr(c,e),null!==o&&js(0,a-s,c,r,0,o),i&&(ye(n.index,e)[8]=c)}}(t,e,n,ve(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,o=Ee.lFrame.currentDirectiveIndex;try{en(i);for(let n=r;n<s;n++){const r=t.data[n],s=e[n];Ve(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ns(r,s)}}finally{en(-1),Ve(o)}}(t,e,n))}function Es(t,e,n=ve){const r=e.localNames;if(null!==r){let s=e.index+1;for(let i=0;i<r.length;i+=2){const o=r[i+1],a=-1===o?n(e,t):t[o];t[s++]=a}}}function Ts(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ms(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ms(t,e,n,r,s,i,o,a,c,l){const u=Qt+r,h=u+s,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:as);return n}(u,h),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Ss(t,e,n,r){const s=Qs(e);null===n?s.push(r):(s.push(n),t.firstCreatePass&&Zs(t).push(r,s.length-1))}function Is(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const s=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,s):n[r]=[e,s]}return n}function ks(t,e,n,r){let s=!1;if(Te()){const i=function(t,e,n){const r=t.directiveRegistry;let s=null;if(r)for(let i=0;i<r.length;i++){const o=r[i];rs(n,o.selectors,!1)&&(s||(s=[]),Tn(On(n,e),t,o.type),se(o)?(Rs(t,n),s.unshift(o)):s.push(o))}return s}(t,e,n),o=null===r?null:{"":-1};if(null!==i){s=!0,Ls(n,t.data.length,i.length);for(let t=0;t<i.length;t++){const e=i[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=_s(t,e,i.length,null);for(let s=0;s<i.length;s++){const l=i[s];n.mergedAttrs=fn(n.mergedAttrs,l.hostAttrs),Us(t,n,e,c,l),Ds(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,s=e.attrs,i=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,l=null===s||Zr(e)?null:qs(n,s);i.push(l),o=Is(n,c,o),a=Is(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=i,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const s=n[e[t+1]];if(null==s)throw new ot("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],s)}}}(n,r,o)}return n.mergedAttrs=fn(n.mergedAttrs,n.attrs),s}function As(t,e,n,r,s,i){const o=i.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const i=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(r,s,o)}}function Ns(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Rs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ds(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;se(e)&&(n[""]=t)}}function Ls(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Us(t,e,n,r,s){t.data[r]=s;const i=s.factory||(s.factory=ie(s.type)),o=new hn(i,se(s),null);t.blueprint[r]=o,n[r]=o,As(t,e,0,r,_s(t,n,s.hostVars,as),s)}function zs(t,e,n){const r=ve(e,t),s=Ts(n),i=t[10],o=Bs(t,vs(t,s,null,n.onPush?64:16,r,e,i,i.createRenderer(r,n),null,null));t[e.index]=o}function js(t,e,n,r,s,i){const o=i[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const s=o[e++],i=o[e++],a=o[e++];null!==t?r.setInput(n,a,s,i):n[i]=a}}}function qs(t,e){let n=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;t.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,t[s],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Fs(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function $s(t,e){const n=ye(e,t);if(Ce(n)){const t=n[1];80&n[2]?ws(t,n,t.template,n[8]):n[5]>0&&Vs(n)}}function Vs(t){for(let n=xr(t);null!==n;n=Pr(n))for(let t=Zt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ws(t,e,t.template,e[8])}else e[5]>0&&Vs(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ye(e[n],t);Ce(r)&&r[5]>0&&Vs(r)}}function Hs(t,e){const n=ye(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ys(r,n,n[8])}function Bs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gs(t){for(;t;){t[2]|=64;const e=Or(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ys(t,e,n){const r=e[10];r.begin&&r.begin();try{ws(t,e,t.template,n)}catch(s){throw Js(e,s),s}finally{r.end&&r.end()}}function Ws(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=gr(n),s=r[1];Cs(s,r,s.template,n)}}(t[8])}function Xs(t,e,n){Be(0),e(t,n)}const Ks=(()=>Promise.resolve(null))();function Qs(t){return t[7]||(t[7]=[])}function Zs(t){return t.cleanup||(t.cleanup=[])}function Js(t,e){const n=t[9],r=n?n.get(br,null):null;r&&r.handleError(e)}function ti(t,e,n,r,s){for(let i=0;i<n.length;){const o=n[i++],a=n[i++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,s,r,a):c[a]=s}}function ei(t,e,n){const r=me(e,t);!function(t,e,n){pe(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ni(t,e,n){let r=n?t.styles:null,s=n?t.classes:null,i=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?s=nt(s,t):2==i&&(r=nt(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=s:t.classesWithoutHost=s}const ri=new Fn("INJECTOR",-1);class si{get(t,e=Zn){if(e===Zn){const e=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw e.name="NullInjectorError",e}return e}}const ii=new Fn("Set Injector scope."),oi={},ai={};let ci;function li(){return void 0===ci&&(ci=new si),ci}function ui(t,e=null,n=null,r){return new hi(t,n,e||li(),r)}class hi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Bn(e,n=>this.processProvider(n,t,e)),Bn([t],t=>this.processInjectorType(t,[],s)),this.records.set(ri,pi(void 0,this));const i=this.records.get(ii);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof t?null:et(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Zn,n=_t.Default){this.assertNotDestroyed();const r=rr(this);try{if(!(n&_t.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(s=t)||"object"==typeof s&&s instanceof Fn)&&dt(t);e=n&&this.injectableDefInScope(n)?pi(di(t),oi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&_t.Self?li():this.parent).get(t,e=n&_t.Optional&&e===Zn?null:e)}catch(i){if("NullInjectorError"===i.name){if((i.ngTempTokenPath=i.ngTempTokenPath||[]).unshift(et(t)),r)throw i;return function(t,e,n,r){const s=t.ngTempTokenPath;throw e[tr]&&s.unshift(e[tr]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let s=et(e);if(Array.isArray(e))s=e.map(et).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):et(r)))}s=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${t.replace(Jn,"\n  ")}`}("\n"+t.message,s,n,r),t.ngTokenPath=s,t.ngTempTokenPath=null,t}(i,t,"R3InjectorError",this.source)}throw i}finally{rr(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(et(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=it(t)))return!1;let r=gt(t);const s=null==r&&t.ngModule||void 0,i=void 0===s?t:s,o=-1!==n.indexOf(i);if(void 0!==s&&(r=gt(s)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(i);try{Bn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Bn(r,t=>this.processProvider(t,n,r||At))}}this.injectorDefTypes.add(i);const a=ie(i)||(()=>new i);this.records.set(i,pi(a,oi));const c=r.providers;if(null!=c&&!o){const e=t;Bn(c,t=>this.processProvider(t,e,c))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,n){let r=fi(t=it(t))?t:it(t&&t.provide);const s=function(t,e,n){return gi(t)?pi(void 0,t.useValue):pi(function(t,e,n){let r;if(fi(t)){const e=it(t);return ie(e)||di(e)}if(gi(t))r=()=>it(t.useValue);else if((s=t)&&s.useFactory)r=()=>t.useFactory(...ar(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ir(it(t.useExisting));else{const e=it(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ie(e)||di(e);r=()=>new e(...ar(t.deps))}var s;return r}(t),oi)}(t);if(fi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=pi(void 0,oi,!0),e.factory=()=>ar(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,s)}hydrate(t,e){var n;return e.value===oi&&(e.value=ai,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=it(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function di(t){const e=dt(t),n=null!==e?e.factory:ie(t);if(null!==n)return n;if(t instanceof Fn)throw new Error(`Token ${et(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Wn(e,"?");throw new Error(`Can't resolve all parameters for ${et(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[vt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gi(t){return null!==t&&"object"==typeof t&&er in t}function fi(t){return"function"==typeof t}const mi=function(t,e,n){return function(t,e=null,n=null,r){const s=ui(t,e,n,r);return s._resolveInjectorDefTypes(),s}({name:n},e,t,n)};let vi=(()=>{class t{static create(t,e){return Array.isArray(t)?mi(t,e,""):mi(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Zn,t.NULL=new si,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>ir(ri)}),t.__NG_ELEMENT_ID__=-1,t})();function bi(t,e){rn(gr(t)[1],ke())}function _i(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let s;if(se(t))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");s=e.\u0275dir}if(s){if(n){r.push(s);const e=t;e.inputs=yi(t.inputs),e.declaredInputs=yi(t.declaredInputs),e.outputs=yi(t.outputs);const n=s.hostBindings;n&&Oi(t,n);const i=s.viewQuery,o=s.contentQueries;if(i&&wi(t,i),o&&Ci(t,o),tt(t.inputs,s.inputs),tt(t.declaredInputs,s.declaredInputs),tt(t.outputs,s.outputs),se(s)&&s.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(s.data.animation)}}const e=s.features;if(e)for(let r=0;r<e.length;r++){const s=e[r];s&&s.ngInherit&&s(t),s===_i&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const s=t[r];s.hostVars=e+=s.hostVars,s.hostAttrs=fn(s.hostAttrs,n=fn(n,s.hostAttrs))}}(r)}function yi(t){return t===kt?{}:t===At?[]:t}function wi(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ci(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,s)=>{e(t,r,s),n(t,r,s)}:e}function Oi(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let xi=null;function Pi(){if(!xi){const t=It.Symbol;if(t&&t.iterator)xi=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(xi=n)}}}return xi}class Ei{constructor(t){this.wrapped=t}static wrap(t){return new Ei(t)}static unwrap(t){return Ei.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ei}}function Ti(t){return!!Mi(t)&&(Array.isArray(t)||!(t instanceof Map)&&Pi()in t)}function Mi(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Si(t,e,n){return t[e]=n}function Ii(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ki(t,e,n,r){const s=Ii(t,e,n);return Ii(t,e+1,r)||s}function Ai(t,e,n,r){const s=Me();return Ii(s,qe(),e)&&(Se(),function(t,e,n,r,s,i){const o=ve(t,e);!function(t,e,n,r,s,i,o){if(null==i)pe(t)?t.removeAttribute(e,s,n):e.removeAttribute(s);else{const a=null==o?at(i):o(i,r||"",s);pe(t)?t.setAttribute(e,s,a,n):n?e.setAttributeNS(n,s,a):e.setAttribute(s,a)}}(e[11],o,i,t.value,n,r,s)}(nn(),s,t,e,n,r)),Ai}function Ni(t,e,n,r){return Ii(t,qe(),n)?e+at(n)+r:as}function Ri(t,e,n,r,s,i,o,a){const c=Me(),l=Se(),u=t+Qt,h=l.firstCreatePass?function(t,e,n,r,s,i,o,a,c){const l=e.consts,u=bs(e,t,4,o||null,Oe(l,a));ks(e,n,u,Oe(l,c)),rn(e,u);const h=u.tViews=Ms(2,u,r,s,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,s,i,o):l.data[u];Ne(h,!1);const d=c[11].createComment("");qr(l,c,d,h),pr(d,c),Bs(c,c[u]=Fs(d,c,d,h)),re(h)&&Ps(l,c,h),null!=o&&Es(c,h,a)}function Di(t,e=_t.Default){const n=Me();return null===n?ir(t,e):In(ke(),n,it(t),e)}function Li(t,e,n){const r=Me();return Ii(r,qe(),e)&&function(t,e,n,r,s,i,o,a){const c=ve(e,n);let l,u=e.inputs;var h;null!=u&&(l=u[r])?(ti(t,n,l,r,s),ne(e)&&function(t,e){const n=ye(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,s=null!=o?o(s,e.value||"",r):s,pe(i)?i.setProperty(c,r,s):gn(r)||(c.setProperty?c.setProperty(r,s):c[r]=s))}(Se(),nn(),r,t,e,r[11],n),Li}function Ui(t,e,n,r,s){const i=s?"class":"style";ti(t,n,e.inputs[i],i,r)}function zi(t,e,n,r){const s=Me(),i=Se(),o=Qt+t,a=s[11],c=s[o]=Mr(a,e,Ee.lFrame.currentNamespace),l=i.firstCreatePass?function(t,e,n,r,s,i,o){const a=e.consts,c=bs(e,t,2,s,Oe(a,i));return ks(e,n,c,Oe(a,o)),null!==c.attrs&&ni(c,c.attrs,!1),null!==c.mergedAttrs&&ni(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,i,s,0,e,n,r):i.data[o];Ne(l,!0);const u=l.mergedAttrs;null!==u&&dn(a,c,u);const h=l.classes;null!==h&&Wr(a,c,h);const d=l.styles;null!==d&&Yr(a,c,d),64!=(64&l.flags)&&qr(i,s,c,l),0===Ee.lFrame.elementDepthCount&&pr(c,s),Ee.lFrame.elementDepthCount++,re(l)&&(Ps(i,s,l),xs(i,l,s)),null!==r&&Es(s,l)}function ji(){let t=ke();Re()?De():(t=t.parent,Ne(t,!1));const e=t;Ee.lFrame.elementDepthCount--;const n=Se();n.firstCreatePass&&(rn(n,t),ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ui(n,e,Me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ui(n,e,Me(),e.stylesWithoutHost,!1)}function qi(t,e,n,r){zi(t,e,n,r),ji()}function Fi(){return Me()}function $i(t){return!!t&&"function"==typeof t.then}const Vi=function(t){return!!t&&"function"==typeof t.subscribe};function Hi(t,e,n,r){const s=Me(),i=Se(),o=ke();return function(t,e,n,r,s,i,o,a){const c=re(r),l=t.firstCreatePass&&Zs(t),u=Qs(e);let h=!0;if(3&r.type||a){const d=ve(r,e),p=a?a(d):d,g=u.length,f=a?t=>a(fe(t[r.index])):r.index;if(pe(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const s=t.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const t=s[i];if(t===n&&s[i+1]===r){const t=e[7],n=s[i+2];return t.length>n?t[n]:null}"string"==typeof t&&(i+=2)}return null}(t,e,s,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=i,o.__ngLastListenerFn__=i,h=!1;else{i=Gi(r,e,0,i,!1);const t=n.listen(p,s,i);u.push(i,t),l&&l.push(s,f,g,g+1)}}else i=Gi(r,e,0,i,!0),p.addEventListener(s,i,o),u.push(i),l&&l.push(s,f,g,o)}else i=Gi(r,e,0,i,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[s])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(i),o=u.length;u.push(i,t),l&&l.push(s,r.index,o,-(o+1))}}}(i,s,s[11],o,t,e,!!n,r),Hi}function Bi(t,e,n,r){try{return!1!==n(r)}catch(s){return Js(t,s),!1}}function Gi(t,e,n,r,s){return function n(i){if(i===Function)return r;const o=2&t.flags?ye(t.index,e):e;0==(32&e[2])&&Gs(o);let a=Bi(e,0,r,i),c=n.__ngNextListenerFn__;for(;c;)a=Bi(e,0,c,i)&&a,c=c.__ngNextListenerFn__;return s&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function Yi(t=1){return function(t){return(Ee.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ee.lFrame.contextLView))[8]}(t)}function Wi(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let s=0;s<e.length;s++){const i=e[s];if("*"!==i){if(null===r?rs(t,i,!0):ss(r,i))return s}else n=s}return n}function Xi(t){const e=Me()[16][6];if(!e.projection){const n=e.projection=Wn(t?t.length:1,null),r=n.slice();let s=e.child;for(;null!==s;){const e=t?Wi(s,t):0;null!==e&&(r[e]?r[e].projectionNext=s:n[e]=s,r[e]=s),s=s.next}}}function Ki(t,e=0,n){const r=Me(),s=Se(),i=bs(s,Qt+t,16,null,n||null);null===i.projection&&(i.projection=e),De(),64!=(64&i.flags)&&function(t,e,n){Gr(e[11],0,e,n,Nr(t,n,e),zr(n.parent||e[6],n,e))}(s,r,i)}function Qi(t,e,n,r,s){const i=t[n+1],o=null===e;let a=r?hs(i):ps(i),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Zi(t[a],e)&&(c=!0,t[a+1]=r?fs(n):ds(n)),a=r?hs(n):ps(n)}c&&(t[n+1]=r?ds(i):fs(i))}function Zi(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qn(t,e)>=0}const Ji={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function to(t){return t.substring(Ji.key,Ji.keyEnd)}function eo(t,e){const n=Ji.textEnd;return n===e?-1:(e=Ji.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ji.key=e,n),no(t,e,n))}function no(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ro(t,e,n){return oo(t,e,n,!1),ro}function so(t,e){return oo(t,e,null,!0),so}function io(t,e){for(let n=function(t){return function(t){Ji.key=0,Ji.keyEnd=0,Ji.value=0,Ji.valueEnd=0,Ji.textEnd=t.length}(t),eo(t,no(t,0,Ji.textEnd))}(e);n>=0;n=eo(e,n))Xn(t,to(e),!0)}function oo(t,e,n,r){const s=Me(),i=Se(),o=Fe(2);i.firstUpdatePass&&co(i,t,o,r),e!==as&&Ii(s,o,e)&&ho(i,i.data[tn()],s,s[11],t,s[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=et(dr(t)))),t}(e,n),r,o)}function ao(t,e){return e>=t.expandoStartIndex}function co(t,e,n,r){const s=t.data;if(null===s[n+1]){const i=s[tn()],o=ao(t,n);fo(i,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const s=function(t){const e=Ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=r?e.residualClasses:e.residualStyles;if(null===s)0===(r?e.classBindings:e.styleBindings)&&(n=uo(n=lo(null,t,e,n,r),e.attrs,r),i=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==s)if(n=lo(s,t,e,n,r),null===i){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ps(r))return t[hs(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=lo(null,t,e,n[1],r),n=uo(n,e.attrs,r),function(t,e,n,r){t[hs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else i=function(t,e,n){let r;const s=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<s;i++)r=uo(r,t[i].hostAttrs,n);return uo(r,e.attrs,n)}(t,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),n}(s,i,e,r),function(t,e,n,r,s,i){let o=i?e.classBindings:e.styleBindings,a=hs(o),c=ps(o);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||Qn(t,l)>0)&&(u=!0)}else l=n;if(s)if(0!==c){const e=hs(t[a+1]);t[r+1]=us(e,a),0!==e&&(t[e+1]=gs(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=us(a,0),0!==a&&(t[a+1]=gs(t[a+1],r)),a=r;else t[r+1]=us(c,0),0===a?a=r:t[c+1]=gs(t[c+1],r),c=r;u&&(t[r+1]=ds(t[r+1])),Qi(t,l,r,!0),Qi(t,l,r,!1),function(t,e,n,r,s){const i=s?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&Qn(i,e)>=0&&(n[r+1]=fs(n[r+1]))}(e,l,t,r,i),o=us(a,c),i?e.classBindings=o:e.styleBindings=o}(s,i,e,n,o,r)}}function lo(t,e,n,r,s){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=e[a],r=uo(r,i.hostAttrs,s),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function uo(t,e,n){const r=n?1:2;let s=-1;if(null!==e)for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?s=o:s===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xn(t,o,!!n||e[++i]))}return void 0===t?null:t}function ho(t,e,n,r,s,i,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];go(1==(1&l)?po(c,e,n,s,ps(l),o):void 0)||(go(i)||2==(2&l)&&(i=po(c,null,n,s,a,o)),function(t,e,n,r,s){const i=pe(t);if(e)s?i?t.addClass(n,r):n.classList.add(r):i?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:wr.DashCase;if(null==s)i?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),e|=wr.Important),i?t.setStyle(n,r,s,e):n.style.setProperty(r,s,o?"important":"")}}}(r,o,me(tn(),n),s,i))}function po(t,e,n,r,s,i){const o=null===e;let a;for(;s>0;){const e=t[s],i=Array.isArray(e),c=i?e[1]:e,l=null===c;let u=n[s+1];u===as&&(u=l?At:void 0);let h=l?Kn(u,r):c===r?u:void 0;if(i&&!go(h)&&(h=Kn(e,r)),go(h)&&(a=h,o))return a;const d=t[s+1];s=o?hs(d):ps(d)}if(null!==e){let t=i?e.residualClasses:e.residualStyles;null!=t&&(a=Kn(t,r))}return a}function go(t){return void 0!==t}function fo(t,e){return 0!=(t.flags&(e?16:32))}function mo(t,e=""){const n=Me(),r=Se(),s=t+Qt,i=r.firstCreatePass?bs(r,s,1,e,null):r.data[s],o=n[s]=function(t,e){return pe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);qr(r,n,o,i),Ne(i,!1)}function vo(t){return bo("",t,""),vo}function bo(t,e,n){const r=Me(),s=Ni(r,t,e,n);return s!==as&&ei(r,tn(),s),bo}function _o(t,e,n,r,s){const i=Me(),o=function(t,e,n,r,s,i){const o=ki(t,je(),n,s);return Fe(2),o?e+at(n)+r+at(s)+i:as}(i,t,e,n,r,s);return o!==as&&ei(i,tn(),o),_o}function yo(t,e,n){!function(t,e,n,r){const s=Se(),i=Fe(2);s.firstUpdatePass&&co(s,null,i,r);const o=Me();if(n!==as&&Ii(o,i,n)){const a=s.data[tn()];if(fo(a,r)&&!ao(s,i)){let t=a.classesWithoutHost;null!==t&&(n=nt(t,n||"")),Ui(s,a,o,n,r)}else!function(t,e,n,r,s,i,o,a){s===as&&(s=At);let c=0,l=0,u=0<s.length?s[0]:null,h=0<i.length?i[0]:null;for(;null!==u||null!==h;){const o=c<s.length?s[c+1]:void 0,d=l<i.length?i[l+1]:void 0;let p,g=null;u===h?(c+=2,l+=2,o!==d&&(g=h,p=d)):null===h||null!==u&&u<h?(c+=2,g=u):(l+=2,g=h,p=d),null!==g&&ho(t,e,n,r,g,p,true,a),u=c<s.length?s[c]:null,h=l<i.length?i[l]:null}}(s,a,o,o[11],o[i+1],o[i+1]=function(t,e,n){if(null==n||""===n)return At;const r=[],s=dr(n);if(Array.isArray(s))for(let i=0;i<s.length;i++)t(r,s[i],!0);else if("object"==typeof s)for(const i in s)s.hasOwnProperty(i)&&t(r,i,s[i]);else"string"==typeof s&&e(r,s);return r}(t,e,n),0,i)}}(Xn,io,Ni(Me(),t,e,n),!0)}const wo=void 0;var Co=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Oo={};function xo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Po(e);if(n)return n;const r=e.split("-")[0];if(n=Po(r),n)return n;if("en"===r)return Co;throw new Error(`Missing locale data for the locale "${t}".`)}function Po(t){return t in Oo||(Oo[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),Oo[t]}var Eo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const To="en-US";let Mo=To;function So(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Mo=t.toLowerCase().replace(/_/g,"-"))}class Io{}class ko{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${et(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ao=(()=>{class t{}return t.NULL=new ko,t})();function No(...t){}function Ro(t,e){return new Lo(ve(t,e))}const Do=function(){return Ro(ke(),Me())};let Lo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Do,t})();function Uo(t){return t instanceof Lo?t.nativeElement:t}class zo{}let jo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qo(),t})();const qo=function(){const t=Me(),e=ye(ke().index,t);return function(t){return t[11]}(Jt(e)?e:t)};let Fo=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class $o{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Vo=new $o("12.0.5");class Ho{constructor(){}supports(t){return Ti(t)}create(t){return new Go(t)}}const Bo=(t,e)=>e;class Go{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Bo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,s=null;for(;e||n;){const i=!n||e&&e.currentIndex<Ko(n,r,s)?e:n,o=Ko(i,r,s),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{s||(s=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<s.length?s[n]:s[n]=0,i=r+n;e<=i&&i<t&&(s[n]=r+1)}s[i.previousIndex]=e-t}}o!==a&&t(i,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ti(t))throw new Error(`Error trying to diff '${et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,s=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,n,r,e)),Object.is(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,r,e),i=!0),s=s._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Pi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,t,r,e)),Object.is(s.item,t)||this._addIdentityChange(s,t)):(s=this._mismatch(s,t,r,e),i=!0),s=s._next,e++}),this.length=e;return this._truncate(s),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Yo(e,n),s,r),t}_verifyReinsertion(t,e,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Xo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Wo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ko(t,e,n){const r=t.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+e+s}class Qo{constructor(){}supports(t){return t instanceof Map||Mi(t)}create(){return new Zo}}class Zo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Mi(t)))throw new Error(`Error trying to diff '${et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,s=n._next;return r&&(r._next=s),s&&(s._prev=r),n._next=null,n._prev=null,n}const n=new Jo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Jo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ta(){return new ea([new Ho])}let ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ta()),deps:[[t,new hr,new ur]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:ta}),t})();function na(){return new ra([new Qo])}let ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||na()),deps:[[t,new hr,new ur]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:na}),t})();function sa(t,e,n,r,s=!1){for(;null!==n;){const i=e[n.index];if(null!==i&&r.push(fe(i)),te(i))for(let t=Zt;t<i.length;t++){const e=i[t],n=e[1].firstChild;null!==n&&sa(e[1],e,n,r)}const o=n.type;if(8&o)sa(t,e,n.child,r);else if(32&o){const t=Cr(n,e);let s;for(;s=t();)r.push(s)}else if(16&o){const t=$r(e,n);if(Array.isArray(t))r.push(...t);else{const n=Or(e[16]);sa(n[1],n,t,r,!0)}}n=s?n.projectionNext:n.next}return r}class ia{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return sa(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(te(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ir(t,n),Yn(e,n))}this._attachedToViewContainer=!1}kr(this._lView[1],this._lView)}onDestroy(t){Ss(this._lView[1],this._lView,null,t)}markForCheck(){Gs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ys(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ue(!0);try{Ys(t,e,n)}finally{Ue(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class oa extends ia{constructor(t){super(t),this._view=t}detectChanges(){Ws(this._view)}checkNoChanges(){!function(t){Ue(!0);try{Ws(t)}finally{Ue(!1)}}(this._view)}get context(){return null}}const aa=function(t){return function(t,e,n){if(ne(t)&&!n){const n=ye(t.index,e);return new ia(n,n)}return 47&t.type?new ia(e[16],e):null}(ke(),Me(),16==(16&t))};let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=aa,t})();const la=[new Qo],ua=new ea([new Ho]),ha=new ra(la),da=function(){return ma(ke(),Me())};let pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=da,t})();const ga=pa,fa=class extends ga{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=vs(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ys(e,n,t),new ia(n)}};function ma(t,e){return 4&t.type?new fa(e,t,Ro(t,e)):null}class va{}class ba{}const _a=function(){return Pa(ke(),Me())};let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=_a,t})();const wa=ya,Ca=class extends wa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ro(this._hostTNode,this._hostLView)}get injector(){return new zn(this._hostTNode,this._hostLView)}get parentInjector(){const t=En(this._hostTNode,this._hostLView);if(vn(t)){const e=_n(t,this._hostLView),n=bn(t);return new zn(e[1].data[n+8],e)}return new zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Oa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,s){const i=n||this.parentInjector;if(!s&&null==t.ngModule&&i){const t=i.get(va,null);t&&(s=t)}const o=t.create(i,r,void 0,s);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(te(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ca(e,e[6],e[3]);r.detach(r.indexOf(t))}}const s=this._adjustIndex(e),i=this._lContainer;!function(t,e,n,r){const s=Zt+r,i=n.length;r>0&&(n[s-1][4]=e),r<i-Zt?(e[4]=n[s],Gn(n,Zt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,i,s);const o=Vr(s,i),a=n[11],c=Ur(a,i[7]);return null!==c&&function(t,e,n,r,s,i){r[0]=s,r[6]=e,Br(t,r,n,1,s,i)}(r,i[6],a,n,c,o),t.attachToViewContainerRef(),Gn(xa(i),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Oa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ir(this._lContainer,e);n&&(Yn(xa(this._lContainer),e),kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ir(this._lContainer,e);return n&&null!=Yn(xa(this._lContainer),e)?new ia(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Oa(t){return t[8]}function xa(t){return t[8]||(t[8]=[])}function Pa(t,e){let n;const r=e[t.index];if(te(r))n=r;else{let s;if(8&t.type)s=fe(r);else{const n=e[11];s=n.createComment("");const r=ve(t,e);Rr(n,Ur(n,r),s,function(t,e){return pe(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Fs(r,e,s,t),Bs(e,n)}return new Ca(n,t,e)}const Ea={};class Ta extends Ao{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xt(t);return new Ia(e,this.ngModule)}}function Ma(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Sa=new Fn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_r});class Ia extends Io{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(os).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ma(this.componentDef.inputs)}get outputs(){return Ma(this.componentDef.outputs)}create(t,e,n,r){const s=(r=r||this.ngModule)?function(t,e){return{get:(n,r,s)=>{const i=t.get(n,Ea,s);return i!==Ea||r===Ea?i:e.get(n,r,s)}}}(t,r.injector):t,i=s.get(zo,ge),o=s.get(Fo,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(pe(t))return t.selectRootElement(e,n===Pt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mr(i.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:_r,clean:Ks,playerHandler:null,flags:0},d=Ms(0,null,null,1,0,null,null,null,null,null),p=vs(null,d,h,u,null,null,i,a,o,s);let g,f;We(p);try{const t=function(t,e,n,r,s,i){const o=n[1];n[20]=t;const a=bs(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(ni(a,c,!0),null!==t&&(dn(s,t,c),null!==a.classes&&Wr(s,t,a.classes),null!==a.styles&&Yr(s,t,a.styles)));const l=r.createRenderer(t,e),u=vs(n,Ts(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(Tn(On(a,n),o,e.type),Rs(o,a),Ls(a,n.length,1)),Bs(n,u),n[20]=u}(l,this.componentDef,p,i,a);if(l)if(n)dn(a,l,["ng-version",Vo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,s=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===s?""!==i&&e.push(i,t[++r]):8===s&&n.push(i);else{if(!es(s))break;s=i}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&dn(a,l,t),e&&e.length>0&&Wr(a,l,e.join(" "))}if(f=be(d,Qt),void 0!==e){const t=f.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}g=function(t,e,n,r,s){const i=n[1],o=function(t,e,n){const r=ke();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Us(t,r,e,_s(t,e,1,null),n));const s=Dn(e,t,r.directiveStart,r);pr(s,e);const i=ve(r,e);return i&&pr(i,e),s}(i,n,e);if(r.components.push(o),t[8]=o,s&&s.forEach(t=>t(o,e)),e.contentQueries){const t=ke();e.contentQueries(1,o,t.directiveStart)}const a=ke();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(en(a.index),As(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ns(e,o)),o}(t,this.componentDef,p,h,[bi]),ys(d,p,null)}finally{Je()}return new ka(this.componentType,g,Ro(f,p),p,f)}}class ka extends class{}{constructor(t,e,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new oa(r),this.componentType=t}get injector(){return new zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Aa=new Map;class Na extends va{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ta(this);const n=Kt(t),r=t[Ut]||null;r&&So(r),this._bootstrapComponents=yr(n.bootstrap),this._r3Injector=ui(t,e,[{provide:va,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],et(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vi.THROW_IF_NOT_FOUND,n=_t.Default){return t===vi||t===va||t===ri?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ra extends ba{constructor(t){super(),this.moduleType=t,null!==Kt(t)&&function(t){const e=new Set;!function t(n){const r=Kt(n,!0),s=r.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${et(e)} vs ${et(e.name)}`)}(s,Aa.get(s),n),Aa.set(s,n));const i=yr(r.imports);for(const o of i)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Na(this.moduleType,t)}}function Da(t,e){const n=t[e];return n===as?void 0:n}function La(t,e){const n=Se();let r;const s=t+Qt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new ot("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,r.onDestroy)):r=n.data[s];const i=r.factory||(r.factory=ie(r.type)),o=wt(Di);try{const t=wn(!1),e=i();return wn(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Me(),s,e),e}finally{wt(o)}}function Ua(t,e,n){const r=t+Qt,s=Me(),i=_e(s,r);return qa(s,ja(s,r)?function(t,e,n,r,s,i){const o=e+n;return Ii(t,o,s)?Si(t,o+1,i?r.call(i,s):r(s)):Da(t,o+1)}(s,ze(),e,i.transform,n,i):i.transform(n))}function za(t,e,n,r){const s=t+Qt,i=Me(),o=_e(i,s);return qa(i,ja(i,s)?function(t,e,n,r,s,i,o){const a=e+n;return ki(t,a,s,i)?Si(t,a+2,o?r.call(o,s,i):r(s,i)):Da(t,a+2)}(i,ze(),e,o.transform,n,r,o):o.transform(n,r))}function ja(t,e){return t[1].data[e].pure}function qa(t,e){return Ei.isWrapped(e)&&(e=Ei.unwrap(e),t[je()]=as),e}function Fa(t){return e=>{setTimeout(t,void 0,e)}}const $a=class extends O{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,i;let o=t,a=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;o=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}this.__isAsync&&(a=Fa(a),o&&(o=Fa(o)),c&&(c=Fa(c)));const l=super.subscribe({next:o,error:a,complete:c});return t instanceof h&&t.add(l),l}};function Va(){return this._results[Pi()]()}class Ha{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Pi(),n=Ha.prototype;n[e]||(n[e]=Va)}get changes(){return this._changes||(this._changes=new $a)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Hn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let s=t[r],i=e[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ba{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ba(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ga{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ga(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ic(t,e).matches&&this.queries[e].setDirty()}}class Ya{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Wa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,s=this.getByIndex(n).embeddedTView(t,r);s&&(s.indexInDeclarationView=n,null!==e?e.push(s):e=[s])}return null!==e?new Wa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Xa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Xa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(t,e,Ka(e,s)),this.matchTNodeWithReadOption(t,e,Rn(e,t,s,!1,!1))}else n===pa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Rn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Lo||r===ya||r===pa&&4&e.type)this.addMatch(e.index,-2);else{const n=Rn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ka(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Qa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ro(t,e):4&t.type?ma(t,e):null}(e,t):-2===n?function(t,e,n){return n===Lo?Ro(e,t):n===pa?ma(e,t):n===ya?Pa(e,t):void 0}(t,e,r):Dn(t,t[1],n,e)}function Za(t,e,n,r){const s=e[19].queries[r];if(null===s.matches){const r=t.data,i=n.matches,o=[];for(let t=0;t<i.length;t+=2){const s=i[t];o.push(s<0?null:Qa(e,r[s],i[t+1],n.metadata.read))}s.matches=o}return s.matches}function Ja(t,e,n,r){const s=t.queries.getByIndex(n),i=s.matches;if(null!==i){const o=Za(t,e,s,n);for(let t=0;t<i.length;t+=2){const n=i[t];if(n>0)r.push(o[t/2]);else{const s=i[t+1],o=e[-n];for(let t=Zt;t<o.length;t++){const e=o[t];e[17]===e[3]&&Ja(e[1],e,s,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Ja(n[1],n,s,r)}}}}}return r}function tc(t){const e=Me(),n=Se(),r=He();Be(r+1);const s=ic(n,r);if(t.dirty&&we(e)===(2==(2&s.metadata.flags))){if(null===s.matches)t.reset([]);else{const i=s.crossesNgTemplate?Ja(n,e,r,[]):Za(n,e,s,r);t.reset(i,Uo),t.notifyOnChanges()}return!0}return!1}function ec(t,e,n){const r=Se();r.firstCreatePass&&(sc(r,new Ya(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),rc(r,Me(),e)}function nc(){return t=Me(),e=He(),t[19].queries[e].queryList;var t,e}function rc(t,e,n){const r=new Ha(4==(4&n));Ss(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ga),e[19].queries.push(new Ba(r))}function sc(t,e,n){null===t.queries&&(t.queries=new Wa),t.queries.track(new Xa(e,n))}function ic(t,e){return t.queries.getByIndex(e)}const oc=new Fn("Application Initializer");let ac=(()=>{class t{constructor(t){this.appInits=t,this.resolve=No,this.reject=No,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if($i(e))t.push(e);else if(Vi(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ir(oc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const cc=new Fn("AppId"),lc={provide:cc,useFactory:function(){return`${uc()}${uc()}${uc()}`},deps:[]};function uc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hc=new Fn("Platform Initializer"),dc=new Fn("Platform ID"),pc=new Fn("appBootstrapListener");let gc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const fc=new Fn("LocaleId"),mc=new Fn("DefaultCurrencyCode");class vc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const bc=function(t){return new Ra(t)},_c=bc,yc=function(t){return Promise.resolve(bc(t))},wc=function(t){const e=bc(t),n=yr(Kt(t).declarations).reduce((t,e)=>{const n=Xt(e);return n&&t.push(new Ia(n)),t},[]);return new vc(e,n)},Cc=wc,Oc=function(t){return Promise.resolve(wc(t))};let xc=(()=>{class t{constructor(){this.compileModuleSync=_c,this.compileModuleAsync=yc,this.compileModuleAndAllComponentsSync=Cc,this.compileModuleAndAllComponentsAsync=Oc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Pc=(()=>Promise.resolve(0))();function Ec(t){"undefined"==typeof Zone?Pc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Tc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $a(!1),this.onMicrotaskEmpty=new $a(!1),this.onStable=new $a(!1),this.onError=new $a(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,e=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ic(t),t.isCheckStableRunning=!0,Sc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ic(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,i,o,a)=>{try{return kc(t),n.invokeTask(s,i,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),Ac(t)}},onInvoke:(n,r,s,i,o,a,c)=>{try{return kc(t),n.invoke(s,i,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ac(t)}},onHasTask:(e,n,r,s)=>{e.hasTask(r,s),n===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ic(t),Sc(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,n,r,s)=>(e.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+r,t,Mc,No,No);try{return s.runTask(i,e,n)}finally{s.cancelTask(i)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Mc={};function Sc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ic(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function kc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ac(t){t._nesting--,Sc(t)}class Nc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $a,this.onMicrotaskEmpty=new $a,this.onStable=new $a,this.onError=new $a}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Rc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tc.assertNotInAngularZone(),Ec(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ec(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ir(Tc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Dc=(()=>{class t{constructor(){this._applications=new Map,zc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return zc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Lc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Uc,zc=new Lc,jc=!0,qc=!1;const Fc=new Fn("AllowMultipleToken");class $c{constructor(t,e){this.name=t,this.token=e}}function Vc(t,e,n=[]){const r=`Platform: ${e}`,s=new Fn(r);return(e=[])=>{let i=Hc();if(!i||i.injector.get(Fc,!1))if(t)t(n.concat(e).concat({provide:s,useValue:!0}));else{const t=n.concat(e).concat({provide:s,useValue:!0},{provide:ii,useValue:"platform"});!function(t){if(Uc&&!Uc.destroyed&&!Uc.injector.get(Fc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Uc=t.get(Bc);const e=t.get(hc,null);e&&e.forEach(t=>t())}(vi.create({providers:t,name:r}))}return function(t){const e=Hc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(s)}}function Hc(){return Uc&&!Uc.destroyed?Uc:null}let Bc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Nc:("zone.js"===t?void 0:t)||new Tc({enableLongStackTrace:(qc=!0,jc),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Tc,useValue:n}];return n.run(()=>{const e=vi.create({providers:r,parent:this.injector,name:t.moduleType.name}),s=t.create(e),i=s.injector.get(br,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{i.handleError(t)}});s.onDestroy(()=>{Wc(this._modules,s),t.unsubscribe()})}),function(t,e,n){try{const r=n();return $i(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(i,n,()=>{const t=s.injector.get(ac);return t.runInitializers(),t.donePromise.then(()=>(So(s.injector.get(fc,To)||To),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,e=[]){const n=Gc({},e);return function(t,e,n){const r=new Ra(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Yc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ir(vi))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Gc(t,e){return Array.isArray(e)?e.reduce(Gc,t):Object.assign(Object.assign({},t),e)}let Yc=(()=>{class t{constructor(t,e,n,r,s){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Tc.assertNotInAngularZone(),Ec(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Tc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=B(i,o.pipe(t=>{return G()((e=Z,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,K);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Io?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(va),s=n.create(vi.NULL,[],e||n.selector,r),i=s.location.nativeElement,o=s.injector.get(Rc,null),a=o&&s.injector.get(Dc);return o&&a&&a.registerApplication(i,o),s.onDestroy(()=>{this.detachView(s.hostView),Wc(this.components,s),a&&a.unregisterApplication(i)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Wc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(pc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ir(Tc),ir(vi),ir(br),ir(Ao),ir(ac))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Wc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Xc{}class Kc{}const Qc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Zc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Qc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(255)(e).then(t=>t[r]).then(t=>Jc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),n(255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+s]).then(t=>Jc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ir(xc),ir(Kc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Jc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const tl=Vc(null,"core",[{provide:dc,useValue:"unknown"},{provide:Bc,deps:[vi]},{provide:Dc,deps:[]},{provide:gc,deps:[]}]),el=[{provide:Yc,useClass:Yc,deps:[Tc,vi,br,Ao,ac]},{provide:Sa,deps:[Tc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ac,useClass:ac,deps:[[new ur,oc]]},{provide:xc,useClass:xc,deps:[]},lc,{provide:ea,useFactory:function(){return ua},deps:[]},{provide:ra,useFactory:function(){return ha},deps:[]},{provide:fc,useFactory:function(t){return So(t=t||"undefined"!=typeof $localize&&$localize.locale||To),t},deps:[[new lr(fc),new ur,new hr]]},{provide:mc,useValue:"USD"}];let nl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(ir(Yc))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:el}),t})(),rl=null;function sl(){return rl}const il=new Fn("DocumentToken");let ol=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:al,token:t,providedIn:"platform"}),t})();function al(){return ir(ll)}const cl=new Fn("Location Initialized");let ll=(()=>{class t extends ol{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sl().getBaseHref(this._doc)}onPopState(t){const e=sl().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=sl().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){ul()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){ul()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(ir(il))},t.\u0275prov=ut({factory:hl,token:t,providedIn:"platform"}),t})();function ul(){return!!window.history.pushState}function hl(){return new ll(ir(il))}function dl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function pl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function gl(t){return t&&"?"!==t[0]?"?"+t:t}let fl=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:ml,token:t,providedIn:"root"}),t})();function ml(t){const e=ir(il).location;return new bl(ir(ol),e&&e.origin||"")}const vl=new Fn("appBaseHref");let bl=(()=>{class t extends fl{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return dl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+gl(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const s=this.prepareExternalUrl(n+gl(r));this._platformLocation.pushState(t,e,s)}replaceState(t,e,n,r){const s=this.prepareExternalUrl(n+gl(r));this._platformLocation.replaceState(t,e,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(ir(ol),ir(vl,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),_l=(()=>{class t extends fl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=dl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let s=this.prepareExternalUrl(n+gl(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,e,s)}replaceState(t,e,n,r){let s=this.prepareExternalUrl(n+gl(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(ir(ol),ir(vl,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),yl=(()=>{class t{constructor(t,e){this._subject=new $a,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=pl(Cl(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+gl(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Cl(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gl(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gl(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(ir(fl),ir(ol))},t.normalizeQueryParams=gl,t.joinWithSlash=dl,t.stripTrailingSlash=pl,t.\u0275prov=ut({factory:wl,token:t,providedIn:"root"}),t})();function wl(){return new yl(ir(fl),ir(ol))}function Cl(t){return t.replace(/\/index.html$/,"")}var Ol=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),xl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Pl=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function El(t,e){const n=xo(t),r=n[Eo.NumberSymbols][e];if(void 0===r){if(e===Pl.CurrencyDecimal)return n[Eo.NumberSymbols][Pl.Decimal];if(e===Pl.CurrencyGroup)return n[Eo.NumberSymbols][Pl.Group]}return r}const Tl=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ml=".",Sl="0";function Il(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class kl{}let Al=(()=>{class t extends kl{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return xo(t)[Eo.PluralCase]}(e||this.locale)(t)){case xl.Zero:return"zero";case xl.One:return"one";case xl.Two:return"two";case xl.Few:return"few";case xl.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(ir(fc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Nl(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,s]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class Rl{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dl=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Rl(null,this._ngForOf,-1,-1),null===r?void 0:r),s=new Ll(t,n);e.push(s)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,r);const i=new Ll(t,s);e.push(i)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Di(ya),Di(pa),Di(ea))},t.\u0275dir=Yt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Ll{constructor(t,e){this.record=t,this.view=e}}let Ul=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new zl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Di(ya),Di(pa))},t.\u0275dir=Yt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class zl{constructor(){this.$implicit=null,this.ngIf=null}}function jl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}let ql=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Wt({name:"json",type:t,pure:!1}),t})(),Fl=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,r,s,i,o=!1){let a="",c=!1;if(isFinite(t)){let l=function(t){let e,n,r,s,i,o=Math.abs(t)+"",a=0;for((n=o.indexOf(Ml))>-1&&(o=o.replace(Ml,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===Sl;r++);if(r===(i=o.length))e=[0],n=1;else{for(i--;o.charAt(i)===Sl;)i--;for(n-=r,e=[],s=0;r<=i;r++,s++)e[s]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(i){const t=i.match(Tl);if(null===t)throw new Error(`${i} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(u=Il(e)),null!=n&&(h=Il(n)),null!=r?d=Il(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,s=r.length-t.integerLen;const i=Math.min(Math.max(e,s),n);let o=i+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{s=Math.max(0,s),t.integerLen=1,r.length=Math.max(1,o=i+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;s<Math.max(0,i);s++)r.push(0);let c=0!==i;const l=e+t.integerLen,u=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=l?r.pop():c=!1),e>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,h,d);let p=l.digits,g=l.integerLen;const f=l.exponent;let m=[];for(c=p.every(t=>!t);g<u;g++)p.unshift(0);for(;g<0;g++)p.unshift(0);g>0?m=p.splice(g,p.length):(m=p,p=[0]);const v=[];for(p.length>=e.lgSize&&v.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)v.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&v.unshift(p.join("")),a=v.join(El(n,r)),m.length&&(a+=El(n,s)+m.join("")),f&&(a+=El(n,Pl.Exponential)+"+"+f)}else a=El(n,Pl.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),s=r[0],i=r[1],o=-1!==s.indexOf(Ml)?s.split(Ml):[s.substring(0,s.lastIndexOf(Sl)+1),s.substring(s.lastIndexOf(Sl)+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const t=c.charAt(u);t===Sl?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,i){const t=s.length-n.posPre.length-n.posSuf.length,e=i.indexOf("#");n.negPre=i.substr(0,e).replace(/'/g,""),n.negSuf=i.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return xo(t)[Eo.NumberFormats][e]}(e,Ol.Decimal),El(e,Pl.MinusSign)),e,Pl.Group,Pl.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),r,n)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${et(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(Di(fc,16))},t.\u0275pipe=Wt({name:"number",type:t,pure:!0}),t})(),$l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:[{provide:kl,useClass:Al}]}),t})();function Vl(t){return"browser"===t}let Hl=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new Bl(ir(il),window)}),t})();class Bl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Gl(this.window.history)||Gl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Gl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Yl{}class Wl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Wl,rl||(rl=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Kl=Kl||document.querySelector("base"),Kl?Kl.getAttribute("href"):null);return null==e?null:function(t){Xl=Xl||document.createElement("a"),Xl.setAttribute("href",t);const e=Xl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){Kl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Nl(document.cookie,t)}}let Xl,Kl=null;const Ql=new Fn("TRANSITION_ID"),Zl=[{provide:oc,useFactory:function(t,e,n){return()=>{n.get(ac).donePromise.then(()=>{const n=sl();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ql,il,vi],multi:!0}];class Jl{static init(){var t;t=new Jl,zc=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?sl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let tu=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const eu=new Fn("EventManagerPlugins");let nu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(ir(eu),ir(Tc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class ru{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=sl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let su=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),iu=(()=>{class t extends su{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(ou),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ou))}}return t.\u0275fac=function(e){return new(e||t)(ir(il))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function ou(t){sl().remove(t)}const au={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cu=/%COMP%/g;function lu(t,e,n){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?lu(t,s,n):(s=s.replace(cu,t),n.push(s))}return n}function uu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let hu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new du(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Pt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new pu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Pt.ShadowDom:return new gu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=lu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(ir(nu),ir(iu),ir(cc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class du{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(au[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const s=au[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=au[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(wr.DashCase|wr.Important)?t.style.setProperty(e,n,r&wr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&wr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,uu(n)):this.eventManager.addEventListener(t,e,uu(n))}}class pu extends du{constructor(t,e,n,r){super(t),this.component=n;const s=lu(r+"-"+n.id,n.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(cu,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(cu,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class gu extends du{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=lu(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const t=document.createElement("style");t.textContent=s[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let fu=(()=>{class t extends ru{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(ir(il))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const mu=["alt","control","meta","shift"],vu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_u={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yu=(()=>{class t extends ru{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const s=t.parseEventName(n),i=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sl().onAndCancel(e,s.domEventName,i))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(n.pop());let i="";if(mu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=s,0!=n.length||0===s.length)return null;const o={};return o.domEventName=r,o.fullKey=i,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&bu.hasOwnProperty(e)&&(e=bu[e]))}return vu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),mu.forEach(r=>{r!=n&&(0,_u[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return s=>{t.getEventFullKey(s)===e&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return t.\u0275fac=function(e){return new(e||t)(ir(il))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const wu=Vc(tl,"browser",[{provide:dc,useValue:"browser"},{provide:hc,useValue:function(){Wl.makeCurrent(),Jl.init()},multi:!0},{provide:il,useFactory:function(){return function(t){de=t}(document),document},deps:[]}]),Cu=[[],{provide:ii,useValue:"root"},{provide:br,useFactory:function(){return new br},deps:[]},{provide:eu,useClass:fu,multi:!0,deps:[il,Tc,dc]},{provide:eu,useClass:yu,multi:!0,deps:[il]},[],{provide:hu,useClass:hu,deps:[nu,iu,cc]},{provide:zo,useExisting:hu},{provide:su,useExisting:iu},{provide:iu,useClass:iu,deps:[il]},{provide:Rc,useClass:Rc,deps:[Tc]},{provide:nu,useClass:nu,deps:[eu,Tc]},{provide:Yl,useClass:tu,deps:[]},[]];let Ou=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:cc,useValue:e.appId},{provide:Ql,useExisting:cc},Zl]}}}return t.\u0275fac=function(e){return new(e||t)(ir(t,12))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:Cu,imports:[$l,nl]}),t})();"undefined"!=typeof window&&window;let xu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({}),t})(),Pu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[xu]]}),t})(),Eu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[Pu]}),t})(),Tu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[$l]]}),t})();var Mu=function(t){return t[t.SUPPORT=0]="SUPPORT",t[t.MAGE=1]="MAGE",t[t.COMBATTANT=2]="COMBATTANT",t[t.TANK=3]="TANK",t[t.INVOCATION=4]="INVOCATION",t[t.TIER_1=5]="TIER_1",t[t.TIER_2=6]="TIER_2",t[t.TIER_3=7]="TIER_3",t}({}),Su=function(t){return t.POISON="POISON",t.STUN="STUN",t.TAUNT="TAUNT",t.UP_AP="UP_AP",t.DOWN_AP="DOWN_AP",t.UP_AD="UP_AD",t.DOWN_AD="DOWN_AD",t.UP_CRIT_DMG="UP_CRIT_DMG",t.UP_CRIT="UP_CRIT",t.UP_DODGE="UP_DODGE",t.DOWN_DODGE="DOWN_DODGE",t}({}),Iu=function(t){return t.HIT="Touch\xe9",t.CRITICAL="Critique",t.DODGED="Rat\xe9",t}({}),ku=function(t){return t[t.MAGIC=0]="MAGIC",t[t.PHYSIC=1]="PHYSIC",t[t.DOT=2]="DOT",t}({}),Au=function(t){return t[t.WAITING=0]="WAITING",t[t.AI_TURN=1]="AI_TURN",t[t.PLAYER_TURN=2]="PLAYER_TURN",t[t.LOST=3]="LOST",t[t.WIN=4]="WIN",t[t.BEGIN=5]="BEGIN",t}({}),Nu=function(t){return t.SELF="SELF",t.ALL_ENEMIES="ALL_ENEMIES",t.ALL_ALLIES="ALL_ALLIES",t.TARGET="TARGET",t.RANDOM_ENEMY="RANDOM_ENEMY",t.RANDOM_ALLY="RANDOM_ALLY",t}({}),Ru=function(t){return t[t.COMBAT_TIER_1=0]="COMBAT_TIER_1",t[t.COMBAT_TIER_2=1]="COMBAT_TIER_2",t[t.COMBAT_TIER_3=2]="COMBAT_TIER_3",t[t.HEAL=3]="HEAL",t[t.TREASURE=4]="TREASURE",t[t.SHOP=5]="SHOP",t[t.EVENT=6]="EVENT",t}({}),Du=function(t){return t.CLEMENT="Cl\xe9ment",t.KEVIN="K\xe9vin",t.COSTY="Costy",t.LOIC="Lo\xefc",t.QUENTIN="Quentin",t.ADRIEN="Adrien",t}({}),Lu=function(t){return t[t.GOLD=0]="GOLD",t[t.CHARACTER=1]="CHARACTER",t[t.EQUIPMENT=2]="EQUIPMENT",t[t.SPELL=3]="SPELL",t}({});class Uu extends O{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new y;return this._value}next(t){super.next(this._value=t)}}let zu=(()=>{class t{constructor(){this.score$=new Uu(0),this.scoreValues={floorsClimbed:5,tierOneKilled:2,tierTwoKilled:20,tierThreeKilled:150,death:-30,damageInflicted:50,damageReceived:-30,fullStuffCharacters:50,sizeTeam:40,goldAcquired:25,goldSpent:35},this.stats$={floorsClimbed:0,tierOneKilled:0,tierTwoKilled:0,tierThreeKilled:0,death:0,damageInflicted:0,damageReceived:0,fullStuffCharacters:0,sizeTeam:0,goldAcquired:0,goldSpent:0},this.stats=new Proxy(this.stats$,{get:function(t,e){return t[e]},set:function(e,n,r){return e[n]=r,t.getInstance().updateScore(),!0}})}static getInstance(){return t.instance||(t.instance=new t),t.instance}set scoreTotal(t){this.score$.next(t)}get scoreTotal(){return this.score$.getValue()}updateScore(){this.scoreTotal=this.getScore()}setDamageInflicted(t){t.caster.possessed&&(this.stats.damageInflicted+=t.damage),t.caster.possessed||(this.stats.damageReceived+=t.damage)}constructScoreArray(){this.score={},this.score.floorsClimbed=this.stats.floorsClimbed*this.scoreValues.floorsClimbed,this.score.tierOneKilled=this.stats.tierOneKilled*this.scoreValues.tierOneKilled,this.score.tierTwoKilled=this.stats.tierTwoKilled*this.scoreValues.tierTwoKilled,this.score.tierThreeKilled=this.stats.tierThreeKilled*this.scoreValues.tierThreeKilled,this.score.death=this.stats.death*this.scoreValues.death,this.score.damageInflicted=Math.floor(this.stats.damageInflicted/500)*this.scoreValues.damageInflicted,this.score.damageReceived=Math.floor(this.stats.damageReceived/500)*this.scoreValues.damageReceived,this.score.goldAcquired=Math.floor(this.stats.goldAcquired/300)*this.scoreValues.goldAcquired,this.score.goldSpent=Math.floor(this.stats.goldSpent/300)*this.scoreValues.goldSpent,this.score.sizeTeam=Math.floor(this.stats.sizeTeam/3)*this.scoreValues.sizeTeam,this.score.fullStuffCharacters=this.stats.fullStuffCharacters*this.scoreValues.fullStuffCharacters}getScore(){let t=0;return this.constructScoreArray(),Object.values(this.score).forEach(e=>{t+=Number(e)}),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ju{constructor(t){this.unlocked$=!1,this.name=t.name,this.description=t.description,this.health=t.health,this.price=t.price,this.stats=t.stats(),this.callback=t.callback}giveEquipmentTo(t){this.callback(t),this.unlocked$=!0}get unlocked(){return this.unlocked$}set unlocked(t){this.unlocked$=t}}class qu{constructor(t){this.unlocked=!0,this.name=t.name,this.description=t.description,this.cooldown=t.cooldown,this.price=t.price,this.timer=void 0!==t.timer?t.timer:t.cooldown,this.damageInstances=t.damageInstances||null,this.effectInstances=t.effectInstances||null,this.invocation=t.invocation||null,this.healInstances=t.healInstances||null,this.onSpellCast=t.onSpellCast||null}}class Fu{constructor(t){this.isDead=!1,this.current=t,this.max=t}hurt(t){return this.current-=t,this.current<=0&&(this.current=0,this.isDead=!0,!0)}heal(t){this.isDead||(this.current+=t,this.current>=this.max&&(this.current=this.max))}ressucitate(){this.current=Math.round(.5*this.max),this.isDead=!1}}class $u{constructor(t,e,n){0===t&&0===e&&0===n?(this.attack=0,this.speed=0,this.power=0,this.critical=0,this.criticalDamage=0,this.dodge=0,this.touch=0):(this.attack=t,this.speed=n,this.power=e,this.critical=5,this.criticalDamage=1.5,this.dodge=10,this.touch=0)}}function Vu(t){return t&&null!=t}function Hu(t){return Bu(0,100)<=t}function Bu(t,e){return Math.round(Math.random()*(e-t)+t)}function Gu(t,e,n){return e=void 0!==e?e:0,n=void 0!==n?n:t.length-1,t[Math.round(Math.random()*(n-e)+e)]}function Yu(t,e){var n=new Array(e),r=t.length,s=new Array(r);if(e>r)throw new RangeError("getRandom: more elements taken than available");for(;e--;){var i=Math.floor(Math.random()*r);n[e]=t[i in s?s[i]:i],s[i]=--r in s?s[r]:r}return n}function Wu(){return"_"+Math.random().toString(36)}let Xu={UP_DODGE:"DURATION",UP_CRIT_DMG:"DURATION",UP_CRIT:"DURATION",POISON:"INTENSITY",UP_AP:"DURATION",DOWN_AP:"DURATION",UP_AD:"DURATION",DOWN_DODGE:"DURATION",DOWN_SPEED:"DURATION",DOWN_AD:"DURATION",STUN:"DURATION",TAUNT:"DURATION"},Ku={UP_DODGE:3,UP_CRIT_DMG:3,UP_CRIT:3,POISON:3,UP_AP:3,DOWN_AP:2,UP_AD:3,DOWN_DODGE:2,DOWN_SPEED:1,DOWN_AD:2,STUN:2,TAUNT:3};class Qu extends class{constructor(){this.id=Wu()}}{constructor(t,e,n){super(),this.possessed=!1,this.effects=[],this.spells=[],this.equipment=[],this.name=t,this.specialty=e,this.possessed=n,this.buffs=new $u(0,0,0)}get stats(){let t=Object.assign({},this.stats$);const e=this.getBuffs(),n=this;return Object.keys(t).map(function(r,s){t[r]+=e[r],t[r]=n.trimStat(t[r])}),t}getBuffs(){var t,e,n,r,s,i,o,a;let c={},l=(null===(t=this.getBuff(Su.UP_DODGE))||void 0===t?void 0:t.getBuffValue(20))||0,u=(null===(e=this.getBuff(Su.DOWN_DODGE))||void 0===e?void 0:e.getBuffValue(15))||0,h=(null===(n=this.getBuff(Su.UP_CRIT_DMG))||void 0===n?void 0:n.getBuffValue(1.5))||0,d=(null===(r=this.getBuff(Su.UP_CRIT))||void 0===r?void 0:r.getBuffValue(25))||0,p=(null===(s=this.getBuff(Su.UP_AP))||void 0===s?void 0:s.getBuffValue(5))||0,g=(null===(i=this.getBuff(Su.DOWN_AP))||void 0===i?void 0:i.getBuffValue(3))||0,f=(null===(o=this.getBuff(Su.UP_AD))||void 0===o?void 0:o.getBuffValue(5))||0,m=(null===(a=this.getBuff(Su.DOWN_AD))||void 0===a?void 0:a.getBuffValue(3))||0;c.dodge=l-u,c.criticalDamage=h,c.critical=d,c.power=p-g,c.attack=f-m,c.touch=0,c.speed=0;const v=this.equipment.filter(t=>t.unlocked);return Object.keys(c).map(function(t,e){v.forEach(e=>{c[t]+=e.stats[t]})}),this.buffs=c,c}trimStat(t){return t<0?0:t}hasSpell(t){return this.spells.find(e=>e.name===t.name).unlocked}getBuff(t){return this.effects.find(e=>e.effect===t)}isIncapacitated(){return this.effects.some(t=>t.effect===Su.STUN)}runDots(){let t=[];return this.effects.filter(t=>t.effect===Su.POISON).forEach(e=>t.push(e.runPoison())),t}runCooldowns(){this.spellTimers(),this.effectTimers()}spellTimers(){this.spells.forEach(t=>{t.timer--,t.timer<=0&&(t.timer=0)})}effectTimers(){let t=this.effects.length-1;for(;t>=0;)this.effects[t].timer--,this.effects[t].timer<=0&&this.effects.splice(t,1),t--}}const Zu={GANTS_ESCALADE:{name:"Gants d'escalade",price:58,description:(t,e)=>'Les chances que votre cible soit <eff-deco effect="STUN"></eff-deco> lors d\'une <strong class="spell-decorator">Escalade</strong> passe \xe0 80%.',stats:()=>{const t=new $u(0,0,0);return t.speed=-3,t.dodge=15,t},callback:t=>{let e=t.spells.find(t=>t.name===Ju.ESCALADE.name);Vu(e)&&(e.effectInstances[0].condition=t=>Hu(80))}},FREELANCE:{name:"Freelance",price:55,description:(t,e)=>'<strong class="spell-decorator">Amandine</strong> vous permet de gagner aussi <eff-deco effect="UP_CRIT"></eff-deco>.',stats:()=>{const t=new $u(0,0,0);return t.attack=3,t.dodge=15,t},callback:t=>{let e=t.spells.find(t=>t.name===Ju.AMANDINE.name);Vu(e)&&e.effectInstances.push({targetsType:Nu.SELF,effect:Su.UP_CRIT})}},SOURIS:{name:"Souris congel\xe9es",price:64,description:(t,e)=>'<strong class="spell-decorator">Serpents</strong> invoque un serpent suppl\xe9mentaire.',stats:()=>{const t=new $u(0,0,0);return t.power=3,t.touch=5,t},callback:t=>{let e=t.spells.find(t=>t.name===Ju.SNAKES.name);Vu(e)&&(e.invocation=t=>{let e=[];for(let n of Array(2)){const t=new Qu("Serpent",Mu.INVOCATION,!0);t.stats$=new $u(2,0,25),t.health=new Fu(8),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.SNAKES_BITE)),e.push(t)}return e})}},BALLANTINES:{name:"Ballantines",price:67,description:(t,e)=>`<strong class="spell-decorator">Pigeon</strong> applique <eff-deco effect="POISON" power="${e.stats.power}"></eff-deco> une fois suppl\xe9mentaire.`,stats:()=>{const t=new $u(0,0,0);return t.power=3,t},health:12,callback:t=>{t.health.heal(12),t.health.max+=12;let e=t.spells.find(t=>t.name===Ju.PIGEON.name);Vu(e)&&e.effectInstances.push({targetsType:Nu.ALL_ENEMIES,effect:Su.POISON})}},CASQUE:{name:"Casque",price:72,description:(t,e)=>'<strong class="spell-decorator">T\xeate la premi\xe8re</strong> n\'inflige plus de d\xe9g\xe2ts collat\xe9raux.',stats:()=>{const t=new $u(0,0,0);return t.critical=8,t.criticalDamage=1.5,t},callback:t=>{let e=t.spells.find(t=>t.name===Ju.TETE_PREMIERE.name);Vu(e)&&(e.damageInstances[0].amount=0)}},ALCOTEST:{name:"Alcotest",price:63,description:(t,e)=>'<strong class="spell-decorator">Discussion insens\xe9e</strong> inflige d\xe9sormais 180% au lieu de 120% de l\'attaque.',stats:()=>{const t=new $u(0,0,0);return t.attack=3,t.critical=8,t},callback:t=>{let e=t.spells.find(t=>t.name===Ju.DISCUSSION_INSENSEE.name);Vu(e)&&(e.damageInstances[0].amount=1.8)}},EXTENSION_SMARTLIFE:{name:"Risk",price:63,description:(t,e)=>'<strong class="spell-decorator">Smart life</strong> touche maintenant 2 cibles.',stats:()=>{const t=new $u(0,0,0);return t.touch=10,t},callback:t=>{let e=t.spells.find(t=>t.name===Ju.SMART_LIFE.name);Vu(e)&&(e.damageInstances[0].targetsAmount=2)}},DISCORD:{name:"Discord",price:59,description:(t,e)=>'<strong class="spell-decorator">Fuite</strong> donne aussi <eff-deco effect="UP_AP"></eff-deco> \xe0 3 alli\xe9s.',stats:()=>{const t=new $u(0,0,0);return t.power=6,t},callback:t=>{let e=t.spells.find(t=>t.name===Ju.FUITE.name);Vu(e)&&e.effectInstances.push({targetsType:Nu.RANDOM_ALLY,effect:Su.UP_AP,targetsAmount:3})}},PROTEGE_TIBIA:{name:"Prot\xe8ge tibia",price:79,description:(t,e)=>'<strong class="spell-decorator">Jonglage</strong> ne n\xe9cessite plus de tuer sa cible pour r\xe9cup\xe9rer des points de vie.',health:25,stats:()=>new $u(0,0,0),callback:t=>{t.health.current+=25,t.health.max+=25;let e=t.spells.find(t=>t.name===Ju.JONGLAGE.name);Vu(e)&&(e.healInstances[0].condition=t=>!0)}},VESTE_MARQUE:{name:"Veste de marque",price:62,description:(t,e)=>'<strong class="spell-decorator">Seduction</strong> soigne de 10% de la sant\xe9 maximale au lieu de 5%.',health:15,stats:()=>{const t=new $u(0,0,0);return t.attack=3,t},callback:t=>{t.health.current+=15,t.health.max+=15;let e=t.spells.find(t=>t.name===Ju.SEDUCTION.name);Vu(e)&&(e.healInstances[0].amount=.1)}},MANETTE_XBOX:{name:"Manette",price:61,description:(t,e)=>'<strong class="spell-decorator">Noob</strong> applique <eff-deco effect="UP_DODGE"></eff-deco> \xe0 tous ses alli\xe9s.',health:8,stats:()=>{const t=new $u(0,0,0);return t.speed=-4,t},callback:t=>{t.health.heal(8),t.health.max+=8;let e=t.spells.find(t=>t.name===Ju.NOOB.name);Vu(e)&&e.effectInstances.push({targetsType:Nu.ALL_ALLIES,effect:Su.UP_DODGE})}},SPOTIFY:{name:"Compte Deezer",price:66,description:(t,e)=>'<strong class="spell-decorator">Playlist</strong> fait maintenant gagner <eff-deco effect="TAUNT"></eff-deco>.',health:8,stats:()=>{const t=new $u(0,0,0);return t.speed=-2,t},callback:t=>{t.health.heal(12),t.health.max+=12;let e=t.spells.find(t=>t.name===Ju.PLAYLIST.name);Vu(e)&&e.effectInstances.push({targetsType:Nu.SELF,effect:Su.TAUNT})}}},Ju={BASIC:{name:"Attaque",price:0,description:(t,e)=>`Lance une attaque de base infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>`,cooldown:0,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:1}],effectInstances:[]},ESCALADE:{name:"Escalade",price:82,description:(t,e)=>{let n=`Escalade la cible infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>.\n      Si la cible est d\xe9j\xe0 <eff-deco effect="STUN"></eff-deco>, l'escalade inflige <dmg-deco amount="${t[1].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> suppl\xe9mentaire. <br/><br/>\n      Cette attaque a 50% de chances de rendre la cible <eff-deco effect="STUN" with-time></eff-deco>.`;const r=e.equipment.find(t=>t.name===Zu.GANTS_ESCALADE.name);return r.unlocked&&(n+=`<br/><br/><strong class="equipment-effect">${r.description()}</strong>`),n},cooldown:2,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:1.4},{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:1.4,condition:t=>t.targets[0].effects.some(t=>t.effect===Su.STUN)}],effectInstances:[{targetsType:Nu.TARGET,effect:Su.STUN,diceAmount:50,condition:t=>Hu(50)}]},SMOKE_SCREEN:{name:"Ecran de fum\xe9e",price:38,description:(t,e)=>`Fume aggressivement, provoquant un nuage de fum\xe9e permettant de gagner\n      <eff-deco effect="UP_DODGE" with-time></eff-deco>\n      et d'empoisonner la cible infligeant\n      <eff-deco effect="POISON" with-time power="${e.stats.power}"></eff-deco>.`,cooldown:1,damageInstances:[],effectInstances:[{targetsType:Nu.TARGET,effect:Su.POISON},{targetsType:Nu.SELF,effect:Su.UP_DODGE}]},AMANDINE:{name:"Amandine",price:74,description:(t,e)=>{let n=`Appelle Amandine \xe0 la rescousse qui par sa pr\xe9sence inattendue inflige <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> \xe0 tous les enemis.<br/><br/>\n      ${e.name} gagne <eff-deco effect="UP_CRIT_DMG" with-time></eff-deco>`;const r=e.equipment.find(t=>t.name===Zu.FREELANCE.name);return r.unlocked&&(n+=`<br/><br/><strong class="equipment-effect">${r.description()}</strong>`),n},cooldown:3,damageInstances:[{targetsType:Nu.ALL_ENEMIES,damageType:ku.PHYSIC,amount:.7}],effectInstances:[{targetsType:Nu.SELF,effect:Su.UP_CRIT_DMG}]},DISCUSSION_INSENSEE:{name:"Discussion insens\xe9e",price:78,description:(t,e)=>{let n=`Entame une discussion avec sa cible lui infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>.<br/><br/>\n      Si le coup est critique, la cible reste sans voix et est <eff-deco effect="STUN" with-time></eff-deco>`;const r=e.equipment.find(t=>t.name===Zu.ALCOTEST.name);return r.unlocked&&(n+=`<br/><br/><strong class="equipment-effect">${r.description()}</strong>`),n},cooldown:1,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:1.2}],effectInstances:[{targetsType:Nu.TARGET,effect:Su.STUN,condition:t=>t.damages[0].status===Iu.CRITICAL}]},FRONT_LISSE:{name:"Front lisse",price:40,description:(t,e)=>`Les reflets du front lisse de ${e.name} aveuglent ses enemis. Ce qui lui permet de gagner  <eff-deco effect="UP_CRIT" with-time></eff-deco>.`,cooldown:1,damageInstances:[],effectInstances:[{targetsType:Nu.SELF,effect:Su.UP_CRIT}]},TETE_PREMIERE:{name:"T\xeate la premi\xe8re",price:62,description:(t,e)=>{let n=`Envoie un violent coup de t\xeate vers l'avant, sans r\xe9fl\xe9chir, s'infligeant au passage  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>\n       mais aussi <dmg-deco amount="${t[1].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> \xe0 tous les enemis`;const r=e.equipment.find(t=>t.name===Zu.CASQUE.name);return r.unlocked&&(n+=`<br/><br/><strong class="equipment-effect">${r.description()}</strong>`),n},cooldown:3,damageInstances:[{targetsType:Nu.SELF,damageType:ku.PHYSIC,amount:.5},{targetsType:Nu.ALL_ENEMIES,damageType:ku.PHYSIC,amount:1.2}],effectInstances:[]},MAURICE:{name:"Maurice",price:66,description:(t,e)=>`Fait go\xfbter une portion de Maurice \xe0 ${t[0].targetsAmount} de ses adversaires leur infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.power}" type="magical"></dmg-deco>.<br/><br/>\n      Si la cible s\xe9lectionn\xe9e est empoisonn\xe9e, inflige   <dmg-deco amount="${t[1].amount}" stat="${e.stats.power}" type="magical"></dmg-deco> suppl\xe9mentaires.`,cooldown:1,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:3,damageType:ku.MAGIC,amount:1.2},{targetsType:Nu.TARGET,damageType:ku.MAGIC,amount:2,condition:t=>t.targets[0].effects.some(t=>t.effect===Su.POISON)}],effectInstances:[]},PIGEON:{name:"Pigeon",price:88,description:(t,e)=>{let n=`Propose un pigeon, alors que personne n'a envie. Tous les enemis sont empoisonn\xe9s infligeant <eff-deco effect="POISON" with-time power="${e.stats.power}"></eff-deco>.`;const r=e.equipment.find(t=>t.name===Zu.BALLANTINES.name);return r.unlocked&&(n+=`<br/><br/><strong class="equipment-effect">${r.description()}</strong>`),n},cooldown:2,damageInstances:[],effectInstances:[{targetsType:Nu.ALL_ENEMIES,effect:Su.POISON}]},SNAKES:{name:"Serpents",price:60,description:(t,e)=>{let n="Invoque 1 serpent rabougri qui rejoindra l'\xe9quipe.";const r=e.equipment.find(t=>t.name===Zu.SOURIS.name);return r.unlocked&&(n+=`<br/><br/><strong class="equipment-effect">${r.description()}</strong>`),n},cooldown:2,invocation:t=>{const e=new Qu("Serpent",Mu.INVOCATION,!0);return e.stats$=new $u(2,0,25),e.health=new Fu(8),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.SNAKES_BITE)),[e]},damageInstances:[],effectInstances:[]},SNAKES_BITE:{name:"Morsure de serpent",price:24,description:(t,e)=>`Tente d'empoisonner la cible infligeant  <eff-deco effect="POISON" with-time power="${e.stats.power}"></eff-deco>, environ 50% de chance de r\xe9ussir.`,cooldown:1,damageInstances:[],effectInstances:[{targetsType:Nu.TARGET,effect:Su.POISON,condition:t=>Hu(50)}]},SMART_LIFE:{name:"Smart life",price:67,description:(t,e)=>{let n=`Propose un smart life \xe0 ${t[0].targetsAmount} de ses adversaires leur infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.power}" type="magical"></dmg-deco>.<br/><br/>\n      Chaque cible touch\xe9 augmente les d\xe9g\xe2ts de 8% pour la prochaine utilisation de ce sort.`;const r=e.equipment.find(t=>t.name===Zu.EXTENSION_SMARTLIFE.name);return r.unlocked&&(n+=`<br/><br/><strong class="equipment-effect">${r.description()}</strong>`),n},cooldown:1,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:1,damageType:ku.MAGIC,amount:1,onHit:t=>{t.spellDescription.damageInstances[0].amount+=.08}}],effectInstances:[]},DEBAT_POLITIQUE:{name:"D\xe9bat politique",price:73,description:(t,e)=>`Lance un ennuyeux d\xe9bat politique \xe0 sa cible lui infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.power}" type="magical"></dmg-deco>.`,cooldown:1,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.MAGIC,amount:2}],effectInstances:[]},FUITE:{name:"Fuite",price:45,description:(t,e)=>{let n=`Ne donne plus de nouvelles infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.power}" type="magical"></dmg-deco> \xe0 un personnage al\xe9atoire, mais revient plus fort avec <eff-deco effect="UP_AP" with-time></eff-deco>.`;const r=e.equipment.find(t=>t.name===Zu.DISCORD.name);return r.unlocked&&(n+=`<br/><br/><strong class="equipment-effect">${r.description()}</strong>`),n},cooldown:1,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:1,damageType:ku.MAGIC,amount:1.5}],effectInstances:[{targetsType:Nu.SELF,effect:Su.UP_AP}]},JONGLAGE:{name:"Jonglage",price:69,description:(t,e,n)=>{let r=`Se met \xe0 jongler pour impressionner sa cible et lui inflige  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>.<br/><br/>\n      Si \xe7a cible est tu\xe9e par son impressionante prestation, ${e.name} r\xe9cup\xe8re <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>.`;const s=e.equipment.find(t=>t.name===Zu.PROTEGE_TIBIA.name);return s.unlocked&&(r+=`<br/><br/><strong class="equipment-effect">${s.description()}</strong>`),r},cooldown:1,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:.8}],effectInstances:[],healInstances:[{targetsType:Nu.SELF,amount:.05,condition:t=>t.damages[0].damage>=t.damages[0].target.health.current}]},TRAINING:{name:"Entra\xeenement",price:53,description:(t,e,n)=>`Se lance dans un coaching individuel pour chaque membre de son \xe9quipe, ce qui leur font gagner  <eff-deco effect="UP_AD" with-time></eff-deco>.<br/><br/>\n      ${e.name} en profite pour se reposer et r\xe9cup\xe8re <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>.`,cooldown:2,damageInstances:[],effectInstances:[{targetsType:Nu.ALL_ALLIES,effect:Su.UP_AD}],healInstances:[{targetsType:Nu.SELF,amount:.05}]},SEDUCTION:{name:"S\xe9duction",price:95,description:(t,e,n)=>{let r=`Le regard de ${e.name} emplie ses adversaires d'envie, qui finisse par ne penser qu'\xe0 lui. ${e.name} gagne <eff-deco effect="TAUNT" with-time></eff-deco>.<br/><br/>\n      La confiance engendr\xe9e lui permet de r\xe9cup\xe8rer <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>.`;const s=e.equipment.find(t=>t.name===Zu.VESTE_MARQUE.name);return s.unlocked&&(r+=`<br/><br/><strong class="equipment-effect">${s.description()}</strong>`),r},cooldown:1,damageInstances:[],effectInstances:[{targetsType:Nu.SELF,effect:Su.TAUNT}],healInstances:[{targetsType:Nu.SELF,amount:.05}]},NOOB:{name:"Noob",price:61,description:(t,e,n)=>{let r='Essaye un nouveau jeu sans lire les r\xe8gles, faisant n\'importe quoi. Ses adversaires sont abasourdis et perdent <eff-deco effect="DOWN_DODGE" with-time></eff-deco>.';const s=e.equipment.find(t=>t.name===Zu.MANETTE_XBOX.name);return s.unlocked&&(r+=`<br/><br/><strong class="equipment-effect">${s.description()}</strong>`),r},cooldown:2,damageInstances:[],effectInstances:[{targetsType:Nu.ALL_ENEMIES,effect:Su.DOWN_DODGE}],healInstances:[]},PLAYLIST:{name:"Playlist",price:71,description:(t,e,n)=>{let r='Lance une bonne playlist qui encense ses alli\xe9s leur permettant de gagner <eff-deco effect="UP_AD" with-time></eff-deco> et <eff-deco effect="UP_AP" with-time></eff-deco>.';const s=e.equipment.find(t=>t.name===Zu.MANETTE_XBOX.name);return s.unlocked&&(r+=`<br/><br/><strong class="equipment-effect">${s.description()}</strong>`),r},cooldown:2,damageInstances:[],effectInstances:[{targetsType:Nu.ALL_ALLIES,effect:Su.UP_AD},{targetsType:Nu.ALL_ALLIES,effect:Su.UP_AP}],healInstances:[]},TRAGO_SOCIAL:{name:"Trago social",price:93,description:(t,e,n)=>`Propose un trago social \xe0 tous ses alli\xe9s, qui acceptent et r\xe9cup\xe8rent <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>.`,cooldown:3,damageInstances:[],effectInstances:[],healInstances:[{targetsType:Nu.ALL_ALLIES,amount:.05}]},POLICE:{name:"Police",price:39,description:(t,e,n)=>`\xc9nerv\xe9 par la pr\xe9sence d'autres personnes, ${e.name} appelle la police.`,cooldown:3,timer:1,invocation:t=>{const e=new Qu("Policier",Mu.INVOCATION,!1);return e.stats$=new $u(4,0,42),e.health=new Fu(12),e.spells.push(new qu(Ju.BASIC)),[e]},damageInstances:[],effectInstances:[],healInstances:[]},POELE:{name:"Po\xeale",price:18,description:(t,e,n)=>`Ass\xe8ne un coup de po\xeale, une arme redoutable, infligeant  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>.`,cooldown:1,timer:0,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:1.2}],effectInstances:[],healInstances:[]},APPEL_IRRESISTIBLE:{name:"Appel irresistible",price:33,description:(t,e,n)=>`On ne peut pas s'emp\xeacher de prendre un verre. ${e.name} gagne <eff-deco effect="TAUNT" with-time></eff-deco> et empoisonne la cible infligeant\n      <eff-deco effect="POISON" with-time power="${e.stats.power}"></eff-deco>.`,cooldown:1,timer:0,damageInstances:[],effectInstances:[{targetsType:Nu.TARGET,effect:Su.POISON},{targetsType:Nu.SELF,effect:Su.TAUNT}],healInstances:[]},APERO_MINUTE:{name:"Ap\xe9ro minute",price:19,description:(t,e,n)=>`Se voyant \xe0 peine rempli, ${e.name} d\xe9cide d'appeler Ap\xe9roMinute pour se soigner de <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>.`,cooldown:1,timer:1,damageInstances:[],effectInstances:[],healInstances:[{targetsType:Nu.SELF,amount:.2}]},DELTA:{name:"Variant Delta",price:42,description:(t,e,n)=>`Contamine la cible et empoisonne la cible infligeant  <eff-deco effect="POISON" with-time power="${e.stats.power}"></eff-deco>. <br/> <br/> Si la cible est d\xe9j\xe0 empoisson\xe9e, invoque Vaccin.`,cooldown:2,timer:1,invocation:t=>{if(Vu(t._combatActors.target.effects.find(t=>t.effect===Su.POISON))){const t=new Qu("Vaccin",Mu.INVOCATION,!1);return t.stats$=new $u(6,0,38),t.health=new Fu(30),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.INJECTION)),[t]}return[]},damageInstances:[],effectInstances:[{targetsType:Nu.TARGET,effect:Su.POISON}],healInstances:[]},INJECTION:{name:"4\xe8me dose",price:42,description:(t,e,n)=>`Injecte une \xe9ni\xe8me dose de vaccin dans votre corps infligeant  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>\n      et <eff-deco effect="STUN" with-time></eff-deco> <br/> <br/>\n      Si la cible est d\xe9j\xe0 <strong class="effect-decorator">\xe9tourdit</strong>, invoque Covid.`,cooldown:2,timer:1,invocation:t=>{if(Vu(t._combatActors.target.effects.find(t=>t.effect===Su.STUN))){const t=new Qu("Covid",Mu.INVOCATION,!1);return t.stats$=new $u(6,6,32),t.health=new Fu(26),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.DELTA)),[t]}return[]},damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:.5}],effectInstances:[{targetsType:Nu.TARGET,effect:Su.STUN}],healInstances:[]},CRIS:{name:"Cris stridents",price:16,description:(t,e,n)=>`Les enfants foutent un bordel monstre per\xe7ant les tympans de 2 enemis et infligeant  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>. <br/><br/>\n      Les cibles perdent <eff-deco effect="DOWN_AD" with-time></eff-deco>.`,cooldown:0,timer:0,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:2,damageType:ku.PHYSIC,amount:.8}],effectInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:2,effect:Su.DOWN_AD}],healInstances:[]},REPROCHE:{name:"Reproche",price:19,description:(t,e,n)=>`La jalousie pousse ${e.name} a faire un reproche mesquin \xe0 sa cible et gagne <eff-deco effect="UP_AD" with-time></eff-deco>. <br/><br>\n      Si la cible a plus de points de vie, elle perd  <eff-deco effect="DOWN_AD" with-time></eff-deco>`,cooldown:1,timer:0,damageInstances:[],effectInstances:[{targetsType:Nu.SELF,effect:Su.UP_AD},{targetsType:Nu.TARGET,effect:Su.DOWN_AD,condition:t=>t.targets[0].health.current>t._caster.health.current}],healInstances:[]},MANAGER:{name:"Manager",price:21,description:(t,e,n)=>`${e.name} demande \xe0 voir le manager, pour se plainder, encore...  Sa cible subit <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> <br/><br>\n      Si la cible a moins de points de vie, elle subit <dmg-deco amount="${t[1].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> suppl\xe9mentaires`,cooldown:0,timer:0,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:1},{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:1,condition:t=>t.targets[0].health.current<t._caster.health.current}],effectInstances:[],healInstances:[]},INSULTE:{name:"Insultes",price:11,description:(t,e,n)=>`"Ta m\xe8re c'est une pute" inflige  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> \xe0 2 enemis. <br><br>\n      Chaque fois que l'insulte est rat\xe9e, ${e.name} subit les d\xe9g\xe2ts \xe0 la place.`,cooldown:1,timer:0,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:2,damageType:ku.PHYSIC,amount:.7,onMissed:(t,e)=>{t.createDamageInstances([{targetsType:t._caster,damageType:ku.PHYSIC,amount:.6}])}}],effectInstances:[],healInstances:[]},HEURES_SUPP:{name:"Heures supp",price:13,description:(t,e,n)=>`Apr\xe8s un appel inconfortable, les heures suppl\xe9mentaires infligent  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> \xe0 l'interlocuteur. <br><br>\n      La cible est <eff-deco effect="STUN" with-time></eff-deco> si le coup est critique, sinon ${e.name} gagne <eff-deco effect="UP_CRIT" with-time></eff-deco>.`,cooldown:0,timer:0,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:.8}],effectInstances:[{targetsType:Nu.TARGET,effect:Su.STUN,condition:t=>t.damages[0].status===Iu.CRITICAL},{targetsType:Nu.SELF,effect:Su.UP_CRIT,condition:t=>t.damages[0].status!==Iu.CRITICAL}],healInstances:[]},MOBY_DICK:{name:"Moby dick",price:0,description:(t,e,n)=>`Virginie gonfle et gagne <eff-deco effect="UP_AD" with-time></eff-deco>. <br/><br/>\n      Ensuite, sous son poids, elle roule tel un ballon sur les adversaires, leur infligeant  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>.\n      Si Kevin est touch\xe9, il est <eff-deco effect="STUN" with-time></eff-deco>.`,cooldown:1,timer:0,damageInstances:[{targetsType:Nu.ALL_ENEMIES,damageType:ku.PHYSIC,amount:1,onHit:(t,e)=>{e.target.name===Du.KEVIN&&t.createEffectInstances({targetsType:e.target,effect:Su.STUN})}}],effectInstances:[{targetsType:Nu.SELF,effect:Su.UP_AD}],healInstances:[]},HAMBURGER:{name:"Hamburger",price:0,description:(t,e,n)=>`Virginie mange un \xe9norme hamburger, ce qui lui permet de se soigner de <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>.`,cooldown:1,damageInstances:[],effectInstances:[],healInstances:[{targetsType:Nu.SELF,amount:.15}]},INTERDICTION_SORTIE:{name:"Interdiction de sortie",price:0,description:(t,e,n)=>`Interdit 2 enemis de sortir leur infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.power}" type="magical"></dmg-deco> et a une chance qu'ils soient\n      <eff-deco effect="STUN" with-time></eff-deco>. <br><br/>\n      Si l'un des enemis est Quentin, lui inflige <dmg-deco amount="${t[0].amount}" stat="${e.stats.power}" type="magical"></dmg-deco> suppl\xe9mentaires`,cooldown:2,timer:0,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:2,damageType:ku.MAGIC,amount:.5,onHit:(t,e)=>{e.target.name===Du.QUENTIN&&t.createDamageInstances([{targetsType:e.target,damageType:ku.MAGIC,amount:.5}]),Hu(50)&&t.createEffectInstances([{targetsType:e.target,effect:Su.STUN}])}}],effectInstances:[],healInstances:[]},TROMPERIE:{name:"Tromperie",price:0,description:(t,e,n)=>"Sandie va voir ailleurs et revient avec un puissant amant.",cooldown:3,invocation:t=>{const e=new Qu("Amant",Mu.INVOCATION,!1);return e.stats$=new $u(8,0,28),e.health=new Fu(30),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.REPROCHE)),[e]},damageInstances:[],effectInstances:[],healInstances:[]},FAKE_PHOTO:{name:"Fausse photo",price:0,description:(t,e,n)=>`Envoie une fausse photo extr\xeamement r\xe9aliste, infligeant  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> \xe0 4 enemis.<br/><br/>\n      Si Costy est touch\xe9, il est <eff-deco effect="STUN" with-time></eff-deco>.`,cooldown:2,timer:0,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,damageType:ku.PHYSIC,amount:.8,targetsAmount:4,onHit:(t,e)=>{e.target.name===Du.COSTY&&t.createEffectInstances([{targetsType:e.target,effect:Su.STUN}])}}],effectInstances:[],healInstances:[]},SMILEY_COEUR:{name:"Smiley coeur",price:0,description:(t,e,n)=>'Un sms est envoy\xe9 contenu un nombre incalculable de coeurs. Les destinataires perdent <eff-deco effect="DOWN_AP" with-time></eff-deco>',cooldown:1,timer:0,damageInstances:[],effectInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:3,effect:Su.DOWN_AP}],healInstances:[]},CLONE:{name:"Clone",price:0,description:(t,e,n)=>`Tente de cr\xe9er l'alter \xe9go d'Adrien et inflige <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> \xe0 tous les enemis. <br/> <br/>\n      Si Adrien est dans la partie, le clonage r\xe9ussi.`,cooldown:3,timer:0,invocation:t=>{if(t._combatActors.enemies.some(t=>t.name===Du.ADRIEN)){const e=new Qu("Alter-\xe9go",Mu.INVOCATION,!1),n=t._combatActors.enemies.find(t=>t.name===Du.ADRIEN);return e.health=n.health,e.stats$=n.stats,e.spells=n.spells,[e]}},damageInstances:[{targetsType:Nu.ALL_ENEMIES,damageType:ku.PHYSIC,amount:.8}],effectInstances:[],healInstances:[]},PROTECTION:{name:"Protection",price:0,description:(t,e,n)=>`${e.name} gagne <eff-deco effect="TAUNT" with-time></eff-deco>.`,cooldown:1,timer:0,damageInstances:[],effectInstances:[{targetsType:Nu.SELF,effect:Su.TAUNT}],healInstances:[]},SEX_ADDICT:{name:"Sex addict",price:0,description:(t,e,n)=>`Cherche Cl\xe9ment pour une nuit de folie. Si elle le trouve, Cl\xe9ment perd tous effets actuellement en cours.<br/> <br/>\n      Le sexe lui permet de r\xe9cup\xe8rer <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>.`,cooldown:1,timer:0,damageInstances:[],effectInstances:[],healInstances:[{targetsType:Nu.SELF,amount:.1}],onSpellCast:t=>{t._combatActors.enemies.some(t=>t.name===Du.CLEMENT)&&(t._combatActors.enemies.find(t=>t.name===Du.CLEMENT).effects=[])}},MYTHO:{name:"Mytho",price:0,description:(t,e,n)=>`${e.name} raconte un \xe9ni\xe8me mytho \xe0 2 de ses adversaires infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>. <br/><br/>\n      Si la cible tente d'\xe9viter le mytho, elle subit le double.`,cooldown:2,timer:0,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:2,damageType:ku.PHYSIC,amount:1.4,onMissed:(t,e)=>{t.createDamageInstances([{targetsType:e.target,damageType:ku.PHYSIC,amount:2.8}])}}],effectInstances:[],healInstances:[]},CHEVEUX:{name:"Poign\xe9e de cheveux",price:0,description:(t,e,n)=>`Tente de convertir sa cible en Front lisse et lui arrache une poign\xe9e de cheveux et inflige <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>  >br/><br/>\n      Si la cible est Lo\xefc, inflige <dmg-deco amount="${t[1].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> suppl\xe9mentaires.`,cooldown:2,timer:0,damageInstances:[{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:2},{targetsType:Nu.TARGET,damageType:ku.PHYSIC,amount:2,condition:t=>(console.log("Loic"===t._combatActors.target.name),"Loic"===t._combatActors.target.name)}],effectInstances:[],healInstances:[]},CARTABLE_VIDE:{name:"Cartable vid\xe9e",price:0,description:(t,e,n)=>`Mme Alberge prend un cartable et le vide violemment. La sensation de pouvoir ressentie lui permet de se soigner de <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>\n      et de gagner <eff-deco effect="UP_AD" with-time></eff-deco>.`,cooldown:1,timer:1,damageInstances:[],effectInstances:[{targetsType:Nu.SELF,effect:Su.UP_AD}],healInstances:[{targetsType:Nu.SELF,amount:.15}]},COURSE_TRACTEUR:{name:"Course de tracteur",price:0,description:(t,e,n)=>`Francis Lalane prend son tracteur et poursuit ses adversaires infligeant <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco> \xe0 3 enemis`,cooldown:2,timer:0,damageInstances:[{targetsType:Nu.RANDOM_ENEMY,targetsAmount:3,damageType:ku.PHYSIC,amount:1}],effectInstances:[],healInstances:[]},RUGISSEMENT:{name:"Rugissment",price:0,description:(t,e,n)=>'Gueule tellement fort que les enemis perdent <eff-deco effect="DOWN_AD" with-time></eff-deco> alors que lui gagne <eff-deco effect="UP_AD" with-time></eff-deco>.',cooldown:1,timer:1,damageInstances:[],effectInstances:[{targetsType:Nu.ALL_ENEMIES,effect:Su.DOWN_AD},{targetsType:Nu.SELF,effect:Su.UP_AD}],healInstances:[]},GAME_OF_THRONES:{name:"Jeux de pouvoir",price:0,description:(t,e,n)=>"Francis Lalane tente de convaincre la mairie de lui donner plus de pouvoirs. Il invoque deux conseillers municipaux.",cooldown:3,timer:0,invocation:t=>{let e=[];for(let n of Array(2)){const t=new Qu("Conseiller municipal",Mu.INVOCATION,!1);t.stats$=new $u(5,0,32),t.health=new Fu(40),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.PROTECTION)),e.push(t)}return e},damageInstances:[],effectInstances:[],healInstances:[]},TEMPLATE:{name:"TEMPLATE",price:0,description:(t,e,n)=>`\n      PHYSICAL :  <dmg-deco amount="${t[0].amount}" stat="${e.stats.attack}" type="physical"></dmg-deco>\n      MAGICAL : <dmg-deco amount="${t[0].amount}" stat="${e.stats.power}" type="magical"></dmg-deco>\n      ***** -> If multiple instances of damage, just change the 0 to the wanted damage instance index\n\n      EFFECT : <eff-deco effect="STUN" with-time></eff-deco>\n      ***** -> attribute with time will add the number of turns the effect will last\n      ***** -> add attribute "power" with the caster power value if the effect is a DOT (like poison)\n\n      HEAL : <strong class="heal">${Math.round(n[0].amount*e.health.max)} PV</strong>`,cooldown:1,timer:1,invocation:t=>{const e=new Qu("Amant",Mu.INVOCATION,!1);return e.stats$=new $u(8,0,28),e.health=new Fu(30),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.REPROCHE)),[e]},damageInstances:[{targetsType:Nu.ALL_ALLIES,damageType:ku.MAGIC,amount:0,targetsAmount:0,condition:t=>{},onMissed:(t,e)=>{},onHit:(t,e)=>{}}],effectInstances:[{targetsType:Nu.ALL_ALLIES,effect:Su.POISON,targetsAmount:0,condition:t=>{}}],healInstances:[{targetsType:Nu.SELF,amount:0}]}};function th(...t){let e=t[t.length-1];return P(e)?(t.pop(),D(t,e)):H(t)}class eh extends g{notifyNext(t,e,n,r,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class nh extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function rh(t,e,n,r,s=new nh(t,n,r)){if(!s.closed)return e instanceof b?e.subscribe(s):R(e)(s)}const sh={};class ih{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new oh(t,this.resultSelector))}}class oh extends eh{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(sh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(rh(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,s=this.toRespond?r[n]===sh?--this.toRespond:this.toRespond:0;r[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ah=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function ch(...t){return V(1)(th(...t))}const lh=new b(t=>t.complete());function uh(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):lh}function hh(t){return new b(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?L(n):uh()).subscribe(e)})}function dh(t,e){return"function"==typeof e?n=>n.pipe(dh((n,r)=>L(t(n,r)).pipe(E((t,s)=>e(n,t,r,s))))):e=>e.lift(new ph(t))}class ph{constructor(t){this.project=t}call(t,e){return e.subscribe(new gh(t,this.project))}}class gh extends z{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new U(this),r=this.destination;r.add(n),this.innerSubscription=j(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const fh=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function mh(t){return e=>0===t?uh():e.lift(new vh(t))}class vh{constructor(t){if(this.total=t,this.total<0)throw new fh}call(t,e){return e.subscribe(new bh(t,this.total))}}class bh extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function _h(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new yh(t,e,n))}}class yh{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new wh(t,this.accumulator,this.seed,this.hasSeed))}}class wh extends g{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ch(t,e){return function(n){return n.lift(new Oh(t,e))}}class Oh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new xh(t,this.predicate,this.thisArg))}}class xh extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ph(t){return function(e){const n=new Eh(t),r=e.lift(n);return n.caught=r}}class Eh{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Th(t,this.selector,this.caught))}}class Th extends z{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new U(this);this.add(r);const s=j(n,r);s!==r&&this.add(s)}}}function Mh(t,e){return q(t,e,1)}function Sh(t){return function(e){return 0===t?uh():e.lift(new Ih(t))}}class Ih{constructor(t){if(this.total=t,this.total<0)throw new fh}call(t,e){return e.subscribe(new kh(t,this.total))}}class kh extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const s=e++%n;t.next(r[s])}}t.complete()}}function Ah(t=Dh){return e=>e.lift(new Nh(t))}class Nh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Rh(t,this.errorFactory))}}class Rh extends g{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Dh(){return new ah}function Lh(t=null){return e=>e.lift(new Uh(t))}class Uh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new zh(t,this.defaultValue))}}class zh extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function jh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ch((e,n)=>t(e,n,r)):v,mh(1),n?Lh(e):Ah(()=>new ah))}function qh(){}function Fh(t,e,n){return function(r){return r.lift(new $h(t,e,n))}}class $h{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Vh(t,this.nextOrObserver,this.error,this.complete))}}class Vh extends g{constructor(t,e,n,s){super(t),this._tapNext=qh,this._tapError=qh,this._tapComplete=qh,this._tapError=n||qh,this._tapComplete=s||qh,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||qh,this._tapError=e.error||qh,this._tapComplete=e.complete||qh)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Hh(t){return e=>e.lift(new Bh(t))}class Bh{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Gh(t,this.callback))}}class Gh extends g{constructor(t,e){super(t),this.add(new h(e))}}class Yh{constructor(t,e){this.id=t,this.url=e}}class Wh extends Yh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xh extends Yh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kh extends Yh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qh extends Yh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zh extends Yh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jh extends Yh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class td extends Yh{constructor(t,e,n,r,s){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ed extends Yh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nd extends Yh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sd{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class id{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class od{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ad{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cd{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ld{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ud="primary";class hd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function dd(t){return new hd(t)}function pd(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function gd(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const s={};for(let i=0;i<r.length;i++){const e=r[i],n=t[i];if(e.startsWith(":"))s[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:s}}function fd(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let i=0;i<n.length;i++)if(s=n[i],!md(t[s],e[s]))return!1;return!0}function md(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function vd(t){return Array.prototype.concat.apply([],t)}function bd(t){return t.length>0?t[t.length-1]:null}function _d(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yd(t){return Vi(t)?t:$i(t)?L(Promise.resolve(t)):th(t)}const wd={exact:function t(e,n,r){if(!Id(e.segments,n.segments))return!1;if(!Ed(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!e.children[s])return!1;if(!t(e.children[s],n.children[s],r))return!1}return!0},subset:xd},Cd={exact:function(t,e){return fd(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>md(t[n],e[n]))},ignored:()=>!0};function Od(t,e,n){return wd[n.paths](t.root,e.root,n.matrixParams)&&Cd[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xd(t,e,n){return Pd(t,e,e.segments,n)}function Pd(t,e,n,r){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!!Id(s,n)&&!e.hasChildren()&&!!Ed(s,n,r)}if(t.segments.length===n.length){if(!Id(t.segments,n))return!1;if(!Ed(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!xd(t.children[n],e.children[n],r))return!1}return!0}{const s=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Id(t.segments,s)&&!!Ed(t.segments,s,r)&&!!t.children.primary&&Pd(t.children.primary,e,i,r)}}function Ed(t,e,n){return e.every((e,r)=>Cd[n](t[r].parameters,e.parameters))}class Td{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dd(this.queryParams)),this._queryParamMap}toString(){return Nd.serialize(this)}}class Md{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_d(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rd(this)}}class Sd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=dd(this.parameters)),this._parameterMap}toString(){return Fd(this)}}function Id(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class kd{}class Ad{parse(t){const e=new Gd(t);return new Td(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Dd(t.root,!0)}`,n=function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ud(e)}=${Ud(t)}`).join("&"):`${Ud(e)}=${Ud(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams);var r;return`${e}${n}${"string"==typeof t.fragment?`#${r=t.fragment,encodeURI(r)}`:""}`}}const Nd=new Ad;function Rd(t){return t.segments.map(t=>Fd(t)).join("/")}function Dd(t,e){if(!t.hasChildren())return Rd(t);if(e){const e=t.children.primary?Dd(t.children.primary,!1):"",n=[];return _d(t.children,(t,e)=>{e!==ud&&n.push(`${e}:${Dd(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return _d(t.children,(t,r)=>{r===ud&&(n=n.concat(e(t,r)))}),_d(t.children,(t,r)=>{r!==ud&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===ud?[Dd(t.children.primary,!1)]:[`${n}:${Dd(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Rd(t)}/${e[0]}`:`${Rd(t)}/(${e.join("//")})`}}function Ld(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ud(t){return Ld(t).replace(/%3B/gi,";")}function zd(t){return Ld(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jd(t){return decodeURIComponent(t)}function qd(t){return jd(t.replace(/\+/g,"%20"))}function Fd(t){return`${zd(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zd(t)}=${zd(e[t])}`).join("")}`;var e}const $d=/^[^\/()?;=#]+/;function Vd(t){const e=t.match($d);return e?e[0]:""}const Hd=/^[^=?&#]+/,Bd=/^[^?&#]+/;class Gd{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Md([],{}):new Md([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Md(t,e)),n}parseSegment(){const t=Vd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Sd(jd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Vd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Vd(this.remaining);t&&(n=t,this.capture(n))}t[jd(e)]=jd(n)}parseQueryParam(t){const e=function(t){const e=t.match(Hd);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Bd);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=qd(e),s=qd(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Vd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ud);const i=this.parseChildren();e[s]=1===Object.keys(i).length?i.primary:new Md([],i),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Yd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wd(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Xd(t,this._root).map(t=>t.value)}}function Wd(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wd(t,n);if(e)return e}return null}function Xd(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Xd(t,n);if(r.length)return r.unshift(e),r}return[]}class Kd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qd(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Zd extends Yd{constructor(t,e){super(t),this.snapshot=e,sp(this,t)}toString(){return this.snapshot.toString()}}function Jd(t,e){const n=function(t,e){const n=new np([],{},{},"",{},ud,e,null,t.root,-1,{});return new rp("",new Kd(n,[]))}(t,e),r=new Uu([new Sd("",{})]),s=new Uu({}),i=new Uu({}),o=new Uu({}),a=new Uu(""),c=new tp(r,s,o,a,i,ud,e,n.root);return c.snapshot=n.root,new Zd(new Kd(c,[]),n)}class tp{constructor(t,e,n,r,s,i,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(t=>dd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(t=>dd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ep(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class np{constructor(t,e,n,r,s,i,o,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rp extends Yd{constructor(t,e){super(e),this.url=t,sp(this,e)}toString(){return ip(this._root)}}function sp(t,e){e.value._routerState=t,e.children.forEach(e=>sp(t,e))}function ip(t){const e=t.children.length>0?` { ${t.children.map(ip).join(", ")} } `:"";return`${t.value}${e}`}function op(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fd(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),fd(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fd(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),fd(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ap(t,e){const n=fd(t.params,e.params)&&Id(r=t.url,s=e.url)&&r.every((t,e)=>fd(t.parameters,s[e].parameters));var r,s;return n&&!(!t.parent!=!e.parent)&&(!t.parent||ap(t.parent,e.parent))}function cp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const s=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return cp(t,e,r);return cp(t,e)})}(t,e,n);return new Kd(r,s)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return lp(e,t),t}}const n=new tp(new Uu((r=e.value).url),new Uu(r.params),new Uu(r.queryParams),new Uu(r.fragment),new Uu(r.data),r.outlet,r.component,r),s=e.children.map(e=>cp(t,e));return new Kd(n,s)}var r}function lp(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)lp(t.children[n],e.children[n])}function up(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hp(t){return"object"==typeof t&&null!=t&&t.outlets}function dp(t,e,n,r,s){let i={};return r&&_d(r,(t,e)=>{i[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Td(n.root===t?e:pp(n.root,t,e),i,s)}function pp(t,e,n){const r={};return _d(t.children,(t,s)=>{r[s]=t===e?n:pp(t,e,n)}),new Md(t.segments,r)}class gp{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&up(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(hp);if(r&&r!==bd(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function mp(t,e,n){if(t||(t=new Md([],{})),0===t.segments.length&&t.hasChildren())return vp(t,e,n);const r=function(t,e,n){let r=0,s=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(r>=n.length)return i;const e=t.segments[s],o=n[r];if(hp(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(s>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!wp(a,c,e))return i;r+=2}else{if(!wp(a,{},e))return i;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(t,e,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Md(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Md(t.segments.slice(r.pathIndex),t.children),vp(e,0,s)}return r.match&&0===s.length?new Md(t.segments,{}):r.match&&!t.hasChildren()?bp(t,e,n):r.match?vp(t,0,s):bp(t,e,n)}function vp(t,e,n){if(0===n.length)return new Md(t.segments,{});{const r=function(t){return hp(t[0])?t[0].outlets:{[ud]:t}}(n),s={};return _d(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(s[r]=mp(t.children[r],e,n))}),_d(t.children,(t,e)=>{void 0===r[e]&&(s[e]=t)}),new Md(t.segments,s)}}function bp(t,e,n){const r=t.segments.slice(0,e);let s=0;for(;s<n.length;){const i=n[s];if(hp(i)){const t=_p(i.outlets);return new Md(r,t)}if(0===s&&up(n[0])){r.push(new Sd(t.segments[e].path,yp(n[0]))),s++;continue}const o=hp(i)?i.outlets.primary:`${i}`,a=s<n.length-1?n[s+1]:null;o&&a&&up(a)?(r.push(new Sd(o,yp(a))),s+=2):(r.push(new Sd(o,{})),s++)}return new Md(r,{})}function _p(t){const e={};return _d(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=bp(new Md([],{}),0,t))}),e}function yp(t){const e={};return _d(t,(t,n)=>e[n]=`${t}`),e}function wp(t,e,n){return t==n.path&&fd(e,n.parameters)}class Cp{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),op(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Qd(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),_d(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=Qd(t);for(const i of Object.keys(s))this.deactivateRouteAndItsChildren(s[i],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Qd(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new cd(t.value.snapshot))}),t.children.length&&this.forwardEvent(new od(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,s=e?e.value:null;if(op(r),r===s)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Op(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),s=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=s,e.outlet&&e.outlet.activateWith(r,s),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Op(t){op(t.value),t.children.forEach(Op)}class xp{constructor(t,e){this.routes=t,this.module=e}}function Pp(t){return"function"==typeof t}function Ep(t){return t instanceof Td}const Tp=Symbol("INITIAL_VALUE");function Mp(){return dh(t=>function(...t){let e,n;return P(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),H(t,n).lift(new ih(e))}(t.map(t=>t.pipe(mh(1),function(...t){const e=t[t.length-1];return P(e)?(t.pop(),n=>ch(t,n,e)):e=>ch(t,e)}(Tp)))).pipe(_h((t,e)=>{let n=!1;return e.reduce((t,r,s)=>{if(t!==Tp)return t;if(r===Tp&&(n=!0),!n){if(!1===r)return r;if(s===e.length-1||Ep(r))return r}return t},t)},Tp),Ch(t=>t!==Tp),E(t=>Ep(t)?t:!0===t),mh(1)))}let Sp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&qi(0,"router-outlet")},directives:function(){return[Og]},encapsulation:2}),t})();function Ip(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];kp(r,Ap(e,r))}}function kp(t,e){t.children&&Ip(t.children,e)}function Ap(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Np(t){const e=t.children&&t.children.map(Np),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ud&&(n.component=Sp),n}function Rp(t){return t.outlet||ud}function Dp(t,e){const n=t.filter(t=>Rp(t)===e);return n.push(...t.filter(t=>Rp(t)!==e)),n}const Lp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Up(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Lp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||gd)(n,t,e);if(!s)return Object.assign({},Lp);const i={};_d(s.posParams,(t,e)=>{i[e]=t.path});const o=s.consumed.length>0?Object.assign(Object.assign({},i),s.consumed[s.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:o,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function zp(t,e,n,r,s="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>jp(t,e,n)&&Rp(n)!==ud)}(t,n,r)){const s=new Md(e,function(t,e,n,r){const s={};s.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&Rp(i)!==ud){const n=new Md([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,s[Rp(i)]=n}return s}(t,e,r,new Md(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>jp(t,e,n))}(t,n,r)){const i=new Md(t.segments,function(t,e,n,r,s,i){const o={};for(const a of r)if(jp(t,n,a)&&!s[Rp(a)]){const n=new Md([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===i?t.segments.length:e.length,o[Rp(a)]=n}return Object.assign(Object.assign({},s),o)}(t,e,n,r,t.children,s));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}const i=new Md(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function jp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function qp(t,e,n,r){return!!(Rp(t)===r||r!==ud&&jp(e,n,t))&&("**"===t.path||Up(e,t,n).matched)}function Fp(t,e,n){return 0===e.length&&!t.children[n]}class $p{constructor(t){this.segmentGroup=t||null}}class Vp{constructor(t){this.urlTree=t}}function Hp(t){return new b(e=>e.error(new $p(t)))}function Bp(t){return new b(e=>e.error(new Vp(t)))}function Gp(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Yp{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(va)}apply(){const t=zp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Md(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ud).pipe(E(t=>this.createUrlTree(Wp(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ph(t=>{if(t instanceof Vp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof $p)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ud).pipe(E(e=>this.createUrlTree(Wp(e),t.queryParams,t.fragment))).pipe(Ph(t=>{if(t instanceof $p)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Md([],{[ud]:t}):t;return new Td(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(E(t=>new Md([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return L(r).pipe(Mh(r=>{const s=n.children[r],i=Dp(e,r);return this.expandSegmentGroup(t,i,s,r).pipe(E(t=>({segment:t,outlet:r})))}),_h((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ch((e,n)=>t(e,n,r)):v,Sh(1),n?Lh(e):Ah(()=>new ah))}())}expandSegment(t,e,n,r,s,i){return L(n).pipe(Mh(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,s,i).pipe(Ph(t=>{if(t instanceof $p)return th(null);throw t}))),jh(t=>!!t),Ph((t,n)=>{if(t instanceof ah||"EmptyError"===t.name){if(Fp(e,r,s))return th(new Md([],{}));throw new $p(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,s,i,o){return qp(r,e,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,i):Hp(e):Hp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,s,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Bp(s):this.lineralizeSegments(n,s).pipe(q(n=>{const s=new Md(n,{});return this.expandSegment(t,s,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,s,i){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Up(e,r,s);if(!o)return Hp(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Bp(u):this.lineralizeSegments(r,u).pipe(q(r=>this.expandSegment(t,e,n,r.concat(s.slice(c)),i,!1)))}matchSegmentAgainstRoute(t,e,n,r,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?th(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(E(t=>(n._loadedConfig=t,new Md(r,{})))):th(new Md(r,{}));const{matched:i,consumedSegments:o,lastChild:a}=Up(e,n,r);if(!i)return Hp(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(q(t=>{const r=t.module,i=t.routes,{segmentGroup:a,slicedSegments:l}=zp(e,o,c,i),u=new Md(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,i,u).pipe(E(t=>new Md(o,t)));if(0===i.length&&0===l.length)return th(new Md(o,{}));const h=Rp(n)===s;return this.expandSegment(r,u,i,l,h?ud:s,!0).pipe(E(t=>new Md(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?th(new xp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?th(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(E(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(pd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):th(new xp([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?th(r.map(r=>{const s=t.get(r);let i;if(function(t){return t&&Pp(t.canLoad)}(s))i=s.canLoad(e,n);else{if(!Pp(s))throw new Error("Invalid CanLoad guard");i=s(e,n)}return yd(i)})).pipe(Mp(),Fh(t=>{if(!Ep(t))return;const e=pd(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),E(t=>!0===t)):th(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return th(n);if(r.numberOfChildren>1||!r.children.primary)return Gp(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const s=this.createSegmentGroup(t,e.root,n,r);return new Td(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return _d(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const s=t.substring(1);n[r]=e[s]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const s=this.createSegments(t,e.segments,n,r);let i={};return _d(e.children,(e,s)=>{i[s]=this.createSegmentGroup(t,e,n,r)}),new Md(s,i)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Wp(t){const e={};for(const n of Object.keys(t.children)){const r=Wp(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Md(t.segments.concat(e.segments),e.children)}return t}(new Md(t.segments,e))}class Xp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kp{constructor(t,e){this.component=t,this.route=e}}function Qp(t,e,n){const r=t._root;return Jp(r,e?e._root:null,n,[r.value])}function Zp(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Jp(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=Qd(e);return t.children.forEach(t=>{!function(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Id(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Id(t.url,e.url)||!fd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ap(t,e)||!fd(t.queryParams,e.queryParams);default:return!ap(t,e)}}(o,i,i.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Xp(r)):(i.data=o.data,i._resolvedData=o._resolvedData),Jp(t,e,i.component?a?a.children:null:n,r,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Kp(a.outlet.component,o))}else o&&tg(e,a,s),s.canActivateChecks.push(new Xp(r)),Jp(t,null,i.component?a?a.children:null:n,r,s)}(t,i[t.value.outlet],n,r.concat([t.value]),s),delete i[t.value.outlet]}),_d(i,(t,e)=>tg(t,n.getContext(e),s)),s}function tg(t,e,n){const r=Qd(t),s=t.value;_d(r,(t,r)=>{tg(t,s.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Kp(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class eg{}function ng(t){return new b(e=>e.error(t))}class rg{constructor(t,e,n,r,s,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=i}recognize(){const t=zp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ud);if(null===e)return null;const n=new np([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ud,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Kd(n,e),s=new rp(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,n=ep(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const s of Object.keys(e.children)){const r=e.children[s],i=Dp(t,s),o=this.processSegmentGroup(i,r,s);if(null===o)return null;n.push(...o)}const r=ig(n);return r.sort((t,e)=>t.value.outlet===ud?-1:e.value.outlet===ud?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const s of t){const t=this.processSegmentAgainstRoute(s,e,n,r);if(null!==t)return t}return Fp(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!qp(t,e,n,r))return null;let s,i=[],o=[];if("**"===t.path){const r=n.length>0?bd(n).parameters:{};s=new np(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cg(t),Rp(t),t.component,t,og(e),ag(e)+n.length,lg(t))}else{const r=Up(e,t,n);if(!r.matched)return null;i=r.consumedSegments,o=n.slice(r.lastChild),s=new np(i,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cg(t),Rp(t),t.component,t,og(e),ag(e)+i.length,lg(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=zp(e,i,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Kd(s,t)]}if(0===a.length&&0===l.length)return[new Kd(s,[])];const u=Rp(t)===r,h=this.processSegment(a,c,l,u?ud:r);return null===h?null:[new Kd(s,h)]}}function sg(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ig(t){const e=[],n=new Set;for(const r of t){if(!sg(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=ig(r.children);e.push(new Kd(r.value,t))}return e.filter(t=>!n.has(t))}function og(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ag(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function cg(t){return t.data||{}}function lg(t){return t.resolve||{}}function ug(t){return dh(e=>{const n=t(e);return n?L(n).pipe(E(()=>e)):th(e)})}class hg extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const dg=new Fn("ROUTES");class pg{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(E(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new xp(vd(r.injector.get(dg,void 0,_t.Self|_t.Optional)).map(Np),r)}),Ph(t=>{throw e._loader$=void 0,t}));return e._loader$=new X(n,()=>new O).pipe(G()),e._loader$}loadModuleFactory(t){return"string"==typeof t?L(this.loader.load(t)):yd(t()).pipe(q(t=>t instanceof ba?th(t):L(this.compiler.compileModuleAsync(t))))}}class gg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fg,this.attachRef=null}}class fg{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new gg,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class mg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vg(t){throw t}function bg(t,e,n){return e.parse("/")}function _g(t,e){return th(null)}const yg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cg=(()=>{class t{constructor(t,e,n,r,s,i,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=vg,this.malformedUriErrorHandler=bg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_g,afterPreactivation:_g},this.urlHandlingStrategy=new mg,this.routeReuseStrategy=new hg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(va),this.console=s.get(gc);const c=s.get(Tc);this.isNgZoneEnabled=c instanceof Tc&&Tc.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Td(new Md([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pg(i,o,t=>this.triggerEvent(new rd(t)),t=>this.triggerEvent(new sd(t))),this.routerState=Jd(this.currentUrlTree,this.rootComponentType),this.transitions=new Uu({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ch(t=>0!==t.id),E(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),dh(t=>{let n=!1,r=!1;return th(t).pipe(Fh(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dh(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return th(t).pipe(dh(t=>{const n=this.transitions.getValue();return e.next(new Wh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?lh:Promise.resolve(t)}),function(t,e,n,r){return dh(s=>function(t,e,n,r,s){return new Yp(t,e,n,r,s).apply()}(t,e,n,s.extractedUrl,r).pipe(E(t=>Object.assign(Object.assign({},s),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Fh(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,s){return q(i=>function(t,e,n,r,s="emptyOnly",i="legacy"){try{const o=new rg(t,e,n,r,s,i).recognize();return null===o?ng(new eg):th(o)}catch(o){return ng(o)}}(t,e,i.urlAfterRedirects,n(i.urlAfterRedirects),r,s).pipe(E(t=>Object.assign(Object.assign({},i),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Fh(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Zh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:s,restoredState:i,extras:o}=t,a=new Wh(n,this.serializeUrl(r),s,i);e.next(a);const c=Jd(r,this.rootComponentType).snapshot;return th(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),lh}),ug(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),Fh(t=>{const e=new Jh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),E(t=>Object.assign(Object.assign({},t),{guards:Qp(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return q(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?th(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return L(t).pipe(q(t=>function(t,e,n,r,s){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?th(i.map(i=>{const o=Zp(i,e,s);let a;if(function(t){return t&&Pp(t.canDeactivate)}(o))a=yd(o.canDeactivate(t,e,n,r));else{if(!Pp(o))throw new Error("Invalid CanDeactivate guard");a=yd(o(t,e,n,r))}return a.pipe(jh())})).pipe(Mp()):th(!0)}(t.component,t.route,n,e,r)),jh(t=>!0!==t,!0))}(o,r,s,t).pipe(q(n=>n&&"boolean"==typeof n?function(t,e,n,r){return L(e).pipe(Mh(e=>ch(function(t,e){return null!==t&&e&&e(new id(t)),th(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ad(t)),th(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>hh(()=>th(e.guards.map(s=>{const i=Zp(s,e.node,n);let o;if(function(t){return t&&Pp(t.canActivateChild)}(i))o=yd(i.canActivateChild(r,t));else{if(!Pp(i))throw new Error("Invalid CanActivateChild guard");o=yd(i(r,t))}return o.pipe(jh())})).pipe(Mp())));return th(s).pipe(Mp())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?th(r.map(r=>hh(()=>{const s=Zp(r,e,n);let i;if(function(t){return t&&Pp(t.canActivate)}(s))i=yd(s.canActivate(e,t));else{if(!Pp(s))throw new Error("Invalid CanActivate guard");i=yd(s(e,t))}return i.pipe(jh())}))).pipe(Mp()):th(!0)}(t,e.route,n))),jh(t=>!0!==t,!0))}(r,i,t,e):th(n)),E(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Fh(t=>{if(Ep(t.guardsResult)){const e=pd(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new td(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ch(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),ug(t=>{if(t.guards.canActivateChecks.length)return th(t).pipe(Fh(t=>{const e=new ed(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),dh(t=>{let e=!1;return th(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,q(t=>{const{targetSnapshot:e,guards:{canActivateChecks:s}}=t;if(!s.length)return th(t);let i=0;return L(s).pipe(Mh(t=>function(t,e,n,r){return function(t,e,n,r){const s=Object.keys(t);if(0===s.length)return th({});const i={};return L(s).pipe(q(s=>function(t,e,n,r){const s=Zp(t,e,r);return yd(s.resolve?s.resolve(e,n):s(e,n))}(t[s],e,n,r).pipe(Fh(t=>{i[s]=t}))),Sh(1),q(()=>Object.keys(i).length===s.length?th(i):lh))}(t._resolve,t,e,r).pipe(E(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ep(t,n).resolve),null)))}(t.route,e,n,r)),Fh(()=>i++),Sh(1),q(e=>i===s.length?th(t):lh))})),Fh({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),Fh(t=>{const e=new nd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ug(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),E(t=>{const e=function(t,e,n){const r=cp(t,e._root,n?n._root:void 0);return new Zd(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Fh(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,i=this.routeReuseStrategy,o=t=>this.triggerEvent(t),E(t=>(new Cp(i,t.targetRouterState,t.currentRouterState,o).activate(s),t))),Fh({next(){n=!0},complete(){n=!0}}),Hh(()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null}),Ph(n=>{if(r=!0,(s=n)&&s.ngNavigationCancelingError){const r=Ep(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const s=new Kh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(s),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Qh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}var s;return lh}));var s,i,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,s={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(s.state=t)}this.scheduleNavigation(r,t,n,s)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ip(t),this.config=t.map(Np),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:s,queryParamsHandling:i,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:s;let l=null;switch(i){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,s){if(0===n.length)return dp(e.root,e.root,e,r,s);const i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new gp(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return _d(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===s?(r.split("/").forEach((r,s)=>{0==s&&"."===r||(0==s&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new gp(n,e,r)}(n);if(i.toRoot())return dp(e.root,new Md([],{}),e,r,s);const o=function(t,e,n){if(t.isAbsolute)return new fp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new fp(t,t===e.root,0)}const r=up(t.commands[0])?0:1;return function(t,e,n){let r=t,s=e,i=n;for(;i>s;){if(i-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new fp(r,!1,s-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(i,e,t),a=o.processChildren?vp(o.segmentGroup,o.index,i.commands):mp(o.segmentGroup,o.index,i.commands);return dp(o.segmentGroup,a,e,r,s)}(a,this.currentUrlTree,t,l,null!=c?c:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ep(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let s=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(s=this.location.getState()),this.scheduleNavigation(r,"imperative",s,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},yg):!1===e?Object.assign({},wg):e,Ep(t))return Od(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Od(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Xh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,s){if(this.disposed)return Promise.resolve(!1);const i=this.getTransition(),o="imperative"!==e&&"imperative"===(null==i?void 0:i.source),a=(this.lastSuccessfulId===i.id||this.currentNavigation?i.rawUrl:i.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,l,u;s?(c=s.resolve,l=s.reject,u=s.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new Kh(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(ir(Vn),ir(kd),ir(fg),ir(yl),ir(vi),ir(Xc),ir(xc),ir(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Og=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new $a,this.deactivateEvents=new $a,this.name=r||ud,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,s=new xg(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Di(fg),Di(ya),Di(Ao),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const s=n[r];if(pn(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(s===e)return n[r+1];r+=2}}}return null}(ke(),"name")),Di(ca))},t.\u0275dir=Yt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xg{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===tp?this.route:t===fg?this.childContexts:this.parent.get(t,e)}}class Pg{}class Eg{preload(t,e){return th(null)}}let Tg=(()=>{class t{constructor(t,e,n,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new pg(e,n,e=>t.triggerEvent(new rd(e)),e=>t.triggerEvent(new sd(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ch(t=>t instanceof Xh),Mh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(va);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return L(n).pipe(V(),E(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?th(e._loadedConfig):this.loader.load(t.injector,e)).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(ir(Cg),ir(Xc),ir(xc),ir(vi),ir(Pg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Mg=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ld&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ld(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ir(Cg),ir(Hl),ir(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Sg=new Fn("ROUTER_CONFIGURATION"),Ig=new Fn("ROUTER_FORROOT_GUARD"),kg=[yl,{provide:kd,useClass:Ad},{provide:Cg,useFactory:function(t,e,n,r,s,i,o,a={},c,l){const u=new Cg(null,t,e,n,r,s,i,vd(o));return c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[kd,fg,yl,vi,Xc,xc,dg,Sg,[class{},new ur],[class{},new ur]]},fg,{provide:tp,useFactory:function(t){return t.routerState.root},deps:[Cg]},{provide:Xc,useClass:Zc},Tg,Eg,class{preload(t,e){return e().pipe(Ph(()=>th(null)))}},{provide:Sg,useValue:{enableTracing:!1}}];function Ag(){return new $c("Router",Cg)}let Ng=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[kg,Ug(e),{provide:Ig,useFactory:Lg,deps:[[Cg,new ur,new hr]]},{provide:Sg,useValue:n||{}},{provide:fl,useFactory:Dg,deps:[ol,[new lr(vl),new ur],Sg]},{provide:Mg,useFactory:Rg,deps:[Cg,Hl,Sg]},{provide:Pg,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Eg},{provide:$c,multi:!0,useFactory:Ag},[zg,{provide:oc,multi:!0,useFactory:jg,deps:[zg]},{provide:Fg,useFactory:qg,deps:[zg]},{provide:pc,multi:!0,useExisting:Fg}]]}}static forChild(e){return{ngModule:t,providers:[Ug(e)]}}}return t.\u0275fac=function(e){return new(e||t)(ir(Ig,8),ir(Cg,8))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({}),t})();function Rg(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mg(t,e,n)}function Dg(t,e,n={}){return n.useHash?new _l(t,e):new bl(t,e)}function Lg(t){return"guarded"}function Ug(t){return[{provide:$n,multi:!0,useValue:t},{provide:dg,multi:!0,useValue:t}]}let zg=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new O}appInitializer(){return this.injector.get(cl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Cg),r=this.injector.get(Sg);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?th(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Sg),n=this.injector.get(Tg),r=this.injector.get(Mg),s=this.injector.get(Cg),i=this.injector.get(Yc);t===i.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(ir(vi))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function jg(t){return t.appInitializer.bind(t)}function qg(t){return t.bootstrapListener.bind(t)}const Fg=new Fn("Router Initializer");let $g=(()=>{class t{constructor(t){this._router=t,this.characters$=new Uu([])}set characters(t){this.characters$.next(t)}get characters(){return this.characters$.getValue()}countFullStuff(){let t=0;return this.characters.forEach(e=>{e.spells.some(t=>!t.unlocked)||e.equipment.some(t=>!t.unlocked)||t++}),t}createCharacterByName(t){switch(t){case Du.ADRIEN:return this.createAdrien(!1);case Du.CLEMENT:return this.createClement(!1);case Du.COSTY:return this.createCosty(!1);case Du.KEVIN:return this.createKevin(!1);case Du.QUENTIN:return this.createQuentin(!1);case Du.LOIC:return this.createLoic(!1)}}isPartyDead(){return this.characters.every(t=>t.health.isDead)}addCharacter(t){zu.getInstance().stats.sizeTeam=this.characters.length,this.characters.push(this.createCharacterByName(t))}getDeadActors(){return this.characters.filter(t=>t.health.isDead)}isInParty(t){return this.characters.some(e=>e.name===t)}getFreeCharacters(){let t=Object.values(Du),e=this.characters.map(t=>t.name);return t.filter(t=>!e.includes(t))}getLockedEquipments(){let t=[];return this.characters.forEach(e=>{e.equipment.forEach(n=>{n.unlocked||t.push({actor:e,equipment:n})})}),t}getLockedSpells(){let t=[];return this.characters.forEach(e=>{e.spells.forEach(n=>{n.unlocked||t.push({actor:e,spell:n})})}),t}getCharacterByName(t){return this.characters.filter(e=>e.name===t)[0]}lockAllSpells(t){t.spells.forEach(t=>{t.name!==Ju.BASIC.name&&(t.unlocked=!1)})}createAdrien(t){let e=new Qu(Du.ADRIEN,Mu.COMBATTANT,!0);return e.health=new Fu(79),e.stats$=new $u(9,0,35),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.ESCALADE)),e.spells.push(new qu(Ju.SMOKE_SCREEN)),e.spells.push(new qu(Ju.AMANDINE)),e.equipment.push(new ju(Zu.GANTS_ESCALADE)),e.equipment.push(new ju(Zu.FREELANCE)),t||this.lockAllSpells(e),e}createLoic(t){let e=new Qu(Du.LOIC,Mu.COMBATTANT,!0);return e.health=new Fu(71),e.stats$=new $u(10,0,30),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.DISCUSSION_INSENSEE)),e.spells.push(new qu(Ju.FRONT_LISSE)),e.spells.push(new qu(Ju.TETE_PREMIERE)),e.equipment.push(new ju(Zu.ALCOTEST)),e.equipment.push(new ju(Zu.CASQUE)),t||this.lockAllSpells(e),e}createKevin(t){let e=new Qu(Du.KEVIN,Mu.MAGE,!0);return e.health=new Fu(68),e.stats$=new $u(5,8,32),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.MAURICE)),e.spells.push(new qu(Ju.SNAKES)),e.spells.push(new qu(Ju.PIGEON)),e.equipment.push(new ju(Zu.BALLANTINES)),e.equipment.push(new ju(Zu.SOURIS)),t||this.lockAllSpells(e),e}createQuentin(t){let e=new Qu(Du.QUENTIN,Mu.MAGE,!0);return e.health=new Fu(66),e.stats$=new $u(5,9,30),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.SMART_LIFE)),e.spells.push(new qu(Ju.DEBAT_POLITIQUE)),e.spells.push(new qu(Ju.FUITE)),e.equipment.push(new ju(Zu.EXTENSION_SMARTLIFE)),e.equipment.push(new ju(Zu.DISCORD)),t||this.lockAllSpells(e),e}createClement(t){let e=new Qu(Du.CLEMENT,Mu.TANK,!0);return e.health=new Fu(87),e.stats$=new $u(8,1,25),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.JONGLAGE)),e.spells.push(new qu(Ju.TRAINING)),e.spells.push(new qu(Ju.SEDUCTION)),e.equipment.push(new ju(Zu.VESTE_MARQUE)),e.equipment.push(new ju(Zu.PROTEGE_TIBIA)),t||this.lockAllSpells(e),e}createCosty(t){let e=new Qu(Du.COSTY,Mu.SUPPORT,!0);return e.health=new Fu(65),e.stats$=new $u(6,3,24),e.spells.push(new qu(Ju.BASIC)),e.spells.push(new qu(Ju.NOOB)),e.spells.push(new qu(Ju.PLAYLIST)),e.spells.push(new qu(Ju.TRAGO_SOCIAL)),e.equipment.push(new ju(Zu.SPOTIFY)),e.equipment.push(new ju(Zu.MANETTE_XBOX)),t||this.lockAllSpells(e),e}initCharacterGame(t){let e;switch(t){case Du.ADRIEN:e=this.createAdrien(!1);break;case Du.LOIC:e=this.createLoic(!1);break;case Du.KEVIN:e=this.createKevin(!1);break;case Du.QUENTIN:e=this.createQuentin(!1);break;case Du.COSTY:e=this.createCosty(!1);break;case Du.CLEMENT:e=this.createClement(!1)}return zu.getInstance().stats.sizeTeam=this.characters.length,this.characters.push(e),e}}return t.\u0275fac=function(e){return new(e||t)(ir(Cg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vg=(()=>{class t{constructor(){}ngOnInit(){this.name=this.character}ngOnChanges(t){t&&(this.name=String(this.character).toLowerCase(),this.cssClass=this.character.normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(" ","").toUpperCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["char-deco"]],inputs:{character:"character",big:"big"},features:[ae],decls:1,vars:5,template:function(t,e){1&t&&qi(0,"div"),2&t&&(yo("character ",e.cssClass,""),so("big",e.big))},styles:[".disabled[_nghost-%COMP%]{filter:saturate(0) contrast(.6) brightness(.7)}.ai[_nghost-%COMP%]   .character[_ngcontent-%COMP%]{transform:scaleX(-1)}.character[_ngcontent-%COMP%]{width:60px;height:80px;filter:drop-shadow(0 0 5px black) saturate(.7) brightness(.9)}.character.KEVIN[_ngcontent-%COMP%]{background-image:url(kevin.b5b6a96a421e77bfcb37.png)}.character.LOIC[_ngcontent-%COMP%]{background-image:url(loic.28708de00f858b5c42f2.png)}.character.CLEMENT[_ngcontent-%COMP%]{background-image:url(clement.165460c55444a84fbab6.png)}.character.QUENTIN[_ngcontent-%COMP%]{background-image:url(quentin.9a4272a926af905d3b57.png)}.character.ADRIEN[_ngcontent-%COMP%]{background-image:url(adrien.81190178db82b8d014fd.png)}.character.COSTY[_ngcontent-%COMP%]{background-image:url(costy.93593bf5fbb91b418a4c.png)}.character.MARIE[_ngcontent-%COMP%]{background-image:url(marie.155bde4e241cd57a345c.png)}.character.SANDIE[_ngcontent-%COMP%]{background-image:url(sandie.c6b63aca5ff05b523f8d.png)}.character.PATRONLOURD[_ngcontent-%COMP%]{background-image:url(patron.4e1c1f46527437228e9c.png)}.character.PETITERACAILLE[_ngcontent-%COMP%]{background-image:url(racaille.ea7577f5acf4f15253a3.png)}.character.VIEILLECONNAISSANCE[_ngcontent-%COMP%]{background-image:url(connaissance.44fd4e9f18316d2ff733.png)}.character.COVID[_ngcontent-%COMP%]{background-image:url(covid.2e4b0be49e0a9e793059.png)}.character.VACCIN[_ngcontent-%COMP%]{background-image:url(vaccin.6fb5b3aba42817e953e3.png)}.character.WHISKY[_ngcontent-%COMP%]{background-image:url(whisky.03164827dac11e87911d.png)}.character.KAREN[_ngcontent-%COMP%]{background-image:url(karen.e897f817ef65394e80f0.png)}.character.PETITBONHOMME[_ngcontent-%COMP%]{background-image:url(petitbonhomme.14cff14877fff7c99960.png)}.character.MMEALBERGE[_ngcontent-%COMP%]{background-image:url(alberge.9a2e4db0d3ac70755593.png)}.character.AMANT[_ngcontent-%COMP%]{background-image:url(amant.cdd99e45c38661187a5d.png)}.character.ENFANT[_ngcontent-%COMP%]{background-image:url(enfant.5ce1c6d663a97f2301f4.png)}.character.MILOU[_ngcontent-%COMP%]{background-image:url(milou.8454e004f7dec25dcd02.png)}.character.POLICIER[_ngcontent-%COMP%]{background-image:url(police.fcd5afbcb426f8f949c7.png)}.character.FRANCISLALANE[_ngcontent-%COMP%]{background-image:url(francis.e2cbf80c1ff7076e8e15.png)}.character.IVOIRIEN[_ngcontent-%COMP%]{background-image:url(ivoirien.9666d725e17fd1a69e39.png)}.character.big[_ngcontent-%COMP%]{width:90px;height:120px}.character.big.KEVIN[_ngcontent-%COMP%]{background-image:url(kevin@2x.75b41e29ba950267f8e7.png)}.character.big.LOIC[_ngcontent-%COMP%]{background-image:url(loic@2x.f49b361455a9d1827233.png)}.character.big.CLEMENT[_ngcontent-%COMP%]{background-image:url(clement@2x.0b902052484bd54ea3ec.png)}.character.big.QUENTIN[_ngcontent-%COMP%]{background-image:url(quentin@2x.fc8958e29ffe4afaf16f.png)}.character.big.ADRIEN[_ngcontent-%COMP%]{background-image:url(adrien@2x.81340c50471c913e706e.png)}.character.big.COSTY[_ngcontent-%COMP%]{background-image:url(costy@2x.3da5db8c59364a8ef9a7.png)}.character.big.MARIE[_ngcontent-%COMP%]{background-image:url(marie@2x.7cde777766ebd0239ba0.png)}.character.big.SANDIE[_ngcontent-%COMP%]{background-image:url(sandie@2x.1abb87d12ab0b453b691.png)}.character.big.PATRONLOURD[_ngcontent-%COMP%]{background-image:url(patron@2x.54e8e4a2a0afa3653bd3.png)}.character.big.PETITERACAILLE[_ngcontent-%COMP%]{background-image:url(racaille@2x.8596d39c69b520722c27.png)}.character.big.VIEILLECONNAISSANCE[_ngcontent-%COMP%]{background-image:url(connaissance@2x.fd5379c735f46e4a6d3b.png)}.character.big.COVID[_ngcontent-%COMP%]{background-image:url(covid@2x.fdefb9a2e655749a697a.png)}.character.big.VACCIN[_ngcontent-%COMP%]{background-image:url(vaccin@2x.78ee12743aaec816271c.png)}.character.big.MILOU[_ngcontent-%COMP%]{background-image:url(milou@2x.383e6073835523f0a3fe.png)}.character.big.WHISKY[_ngcontent-%COMP%]{background-image:url(whisky@2x.3d5a3d252464c1977377.png)}.character.big.KAREN[_ngcontent-%COMP%]{background-image:url(karen@2x.e468285d327f7cbb89ed.png)}.character.big.PETITBONHOMME[_ngcontent-%COMP%]{background-image:url(petitbonhomme@2x.fd6c29705628f9cff1ed.png)}.character.big.MMEALBERGE[_ngcontent-%COMP%]{background-image:url(alberge@2x.35e7ab78a790c16c70d9.png)}.character.big.AMANT[_ngcontent-%COMP%]{background-image:url(amant@2x.fc8eedf91d4ed31eb41e.png)}.character.big.POLICIER[_ngcontent-%COMP%]{background-image:url(police@2x.95025ae2cff11da4b4c0.png)}.character.big.ENFANT[_ngcontent-%COMP%]{background-image:url(enfant@2x.5dced04c33045ee905e0.png)}.character.big.FRANCISLALANE[_ngcontent-%COMP%]{background-image:url(francis@2x.81e57f0a2511e22838d6.png)}.character.big.IVOIRIEN[_ngcontent-%COMP%]{background-image:url(ivoirien@2x.4dbaf2fac7d73d685e93.png)}"],changeDetection:0}),t})(),Hg=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-stats"]],inputs:{stat:"stat"},decls:0,vars:0,template:function(t,e){},styles:["[_nghost-%COMP%]{display:inline-block;width:15px;height:15px;background-repeat:no-repeat;background-size:cover;position:relative}.attack[_nghost-%COMP%]{background-image:url(ad.a995f4fdb67573a989b4.png)}.power[_nghost-%COMP%]{background-image:url(ap.8e2e5b3cf551e539cce9.png)}.critical[_nghost-%COMP%]{background-image:url(crit.9d17a04814b0e22e58bf.png)}.criticalDamage[_nghost-%COMP%]{background-image:url(crit-dmg.d1bae163532db16730a7.png)}.speed[_nghost-%COMP%]{background-image:url(speed.b4f65cc395d83c3bdef6.png)}.dodge[_nghost-%COMP%]{background-image:url(dodge.aa9201bf61c85b574d84.png)}.touch[_nghost-%COMP%]{background-image:url(touch.18207d1abaf76a251397.png)}.health[_nghost-%COMP%]{background-image:url(health.9fc0c6053a834de2f4e3.png)}"]}),t})(),Bg=(()=>{class t{constructor(){}ngOnInit(){this.cssClass=this.spell.name.normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(" ","").toUpperCase(),this.cssClass+=this.spell.unlocked?"":" disabled"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-spells"]],inputs:{spell:"spell"},decls:1,vars:3,template:function(t,e){1&t&&qi(0,"div"),2&t&&yo("spell ",e.cssClass," ")},styles:['[_nghost-%COMP%]{display:inline-block;background-repeat:no-repeat;background-size:cover;position:relative;border-radius:8px;height:50px;width:50px}[_nghost-%COMP%]:not(.disabled):hover{cursor:pointer;transition:all .2s cubic-bezier(.17,.67,.3,.97)}[_nghost-%COMP%]:not(.disabled):hover:hover{filter:brightness(150%)}[_nghost-%COMP%]:not(.disabled):hover:active{filter:brightness(50%)}.disabled[_nghost-%COMP%]{filter:saturate(0) contrast(.6) brightness(.7)}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;bottom:-8px;right:1px;font-weight:700;color:#fff;text-shadow:0 1px 0 #bb9d77,1px 0 0 #bb9d77,0 -1px 0 #bb9d77,-1px 0 0 #bb9d77}[_nghost-%COMP%]   .spell[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;border-radius:5px;background:url(default.e7f8ea7dda3f1fc85f29.png);z-index:2}[_nghost-%COMP%]   .spell[_ngcontent-%COMP%]:before{content:"";top:0;left:0;bottom:0;right:0;position:absolute;box-shadow:inset 0 8px 19px -10px #fff;z-index:3;border-radius:5px}[_nghost-%COMP%]   .spell.ATTAQUE[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1548px -1131px}[_nghost-%COMP%]   .spell.JONGLAGE[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1322px -1189px}[_nghost-%COMP%]   .spell.ENTRAINEMENT[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1015px -1245px}[_nghost-%COMP%]   .spell.SEDUCTION[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1436px -1131px;filter:hue-rotate(-29deg)}[_nghost-%COMP%]   .spell.ESCALADE[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1549px -1020px;filter:hue-rotate(5deg)}[_nghost-%COMP%]   .spell.ECRANDE[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1186px -1358px;filter:hue-rotate(114deg)}[_nghost-%COMP%]   .spell.AMANDINE[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-902px -1077px;filter:hue-rotate(-157deg)}[_nghost-%COMP%]   .spell.DISCUSSIONINSENSEE[_ngcontent-%COMP%]{background-image:url(sprite-3.a0d07650cbec18bf9724.jpg);background-position:-947px -513px;background-size:648px}[_nghost-%COMP%]   .spell.FRONTLISSE[_ngcontent-%COMP%]{background-image:url(spell-sprite-2.891be3badee4d982dd49.png);background-position:-1366px -835px;background-size:871px}[_nghost-%COMP%]   .spell.TETELA[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1549px -1076px}[_nghost-%COMP%]   .spell.MAURICE[_ngcontent-%COMP%]{background-image:url(spell-sprite-2.891be3badee4d982dd49.png);background-position:-37px -779px;background-size:871px}[_nghost-%COMP%]   .spell.SERPENTS[_ngcontent-%COMP%]{background-image:url(spell-sprite-2.891be3badee4d982dd49.png);background-position:-556px -662px;background-size:871px}[_nghost-%COMP%]   .spell.PIGEON[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1378px -1302px}[_nghost-%COMP%]   .spell.SMARTLIFE[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-902px -1302px}[_nghost-%COMP%]   .spell.DEBATPOLITIQUE[_ngcontent-%COMP%]{background-image:url(sprite-3.a0d07650cbec18bf9724.jpg);background-position:-947px -612px;background-size:648px;filter:hue-rotate(45deg)}[_nghost-%COMP%]   .spell.FUITE[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1185px -1022px;filter:hue-rotate(55deg)}[_nghost-%COMP%]   .spell.NOOB[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1376px -1022px;filter:hue-rotate(105deg)}[_nghost-%COMP%]   .spell.PLAYLIST[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1071px -1300px;filter:hue-rotate(175deg)}[_nghost-%COMP%]   .spell.TRAGOSOCIAL[_ngcontent-%COMP%]{background-image:url(spell-sprite-1.a1fdfa2ef06cefbe1f24.jpg);background-size:871px;background-position:-1661px -1357px}']}),t})(),Gg=(()=>{class t{constructor(){this.isTooltip=!0}ngOnInit(){this.total=this.entity.getScore()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-tooltip-score"]],hostVars:2,hostBindings:function(t,e){2&t&&so("tooltip",e.isTooltip)},inputs:{entity:"entity"},decls:94,vars:22,consts:[[1,"tooltip-wrapper"],[1,"flex","space-between"],[1,"name"],[1,"value"],[1,"score-item"],[1,"title"],[1,"stat"],[1,""]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),zi(2,"strong",2),mo(3,"Score"),ji(),zi(4,"div",3),mo(5),ji(),ji(),zi(6,"div",4),zi(7,"div"),zi(8,"div",5),mo(9,"Ascension"),ji(),zi(10,"div",6),mo(11),ji(),ji(),zi(12,"div",3),mo(13),ji(),ji(),zi(14,"div",4),zi(15,"div",7),zi(16,"div",5),mo(17,"Tueur de monstres"),ji(),zi(18,"div",6),mo(19),ji(),ji(),zi(20,"div",3),mo(21),ji(),ji(),zi(22,"div",4),zi(23,"div",7),zi(24,"div",5),mo(25,"David contre Goliath"),ji(),zi(26,"div",6),mo(27),ji(),ji(),zi(28,"div",3),mo(29),ji(),ji(),zi(30,"div",4),zi(31,"div",7),zi(32,"div",5),mo(33,"Victoire"),ji(),zi(34,"div",6),mo(35,"Boss tu\xe9"),ji(),ji(),zi(36,"div",3),mo(37),ji(),ji(),zi(38,"div",4),zi(39,"div",7),zi(40,"div",5),mo(41,"Riche comme cresus"),ji(),zi(42,"div",6),mo(43),ji(),ji(),zi(44,"div",3),mo(45),ji(),ji(),zi(46,"div",4),zi(47,"div",7),zi(48,"div",5),mo(49,"Reine du shopping"),ji(),zi(50,"div",6),mo(51),ji(),ji(),zi(52,"div",3),mo(53),ji(),ji(),zi(54,"div",4),zi(55,"div",7),zi(56,"div",5),mo(57,"Plus on est de fous"),ji(),zi(58,"div",6),mo(59),ji(),ji(),zi(60,"div",3),mo(61),ji(),ji(),zi(62,"div",4),zi(63,"div",7),zi(64,"div",5),mo(65,"Plus on rit"),ji(),zi(66,"div",6),mo(67),ji(),ji(),zi(68,"div",3),mo(69),ji(),ji(),zi(70,"div",4),zi(71,"div",7),zi(72,"div",5),mo(73,"D\xe9vastateur"),ji(),zi(74,"div",6),mo(75),ji(),ji(),zi(76,"div",3),mo(77),ji(),ji(),zi(78,"div",4),zi(79,"div",7),zi(80,"div",5),mo(81,"Bouclier humain"),ji(),zi(82,"div",6),mo(83),ji(),ji(),zi(84,"div",3),mo(85),ji(),ji(),zi(86,"div",4),zi(87,"div",7),zi(88,"div",5),mo(89,"Aucun instinct de survie"),ji(),zi(90,"div",6),mo(91),ji(),ji(),zi(92,"div",3),mo(93),ji(),ji(),ji()),2&t&&(cs(5),bo(" ",e.total," "),cs(6),bo("",e.entity.stats.floorsClimbed," \xe9tages franchis"),cs(2),bo(" ",e.entity.score.floorsClimbed," "),cs(6),bo("",e.entity.stats.tierOneKilled," monstres basiques tu\xe9s"),cs(2),bo(" ",e.entity.score.tierOneKilled," "),cs(6),bo("",e.entity.stats.tierTwoKilled," Nemesis tu\xe9s"),cs(2),bo(" ",e.entity.score.tierTwoKilled," "),cs(8),bo(" ",e.entity.score.tierThreeKilled," "),cs(6),bo("",e.entity.stats.goldAcquired," euros gagn\xe9s"),cs(2),bo(" ",e.entity.score.goldAcquired," "),cs(6),bo("",e.entity.stats.goldSpent," euros d\xe9pens\xe9s"),cs(2),bo(" ",e.entity.score.goldSpent," "),cs(6),bo("",e.entity.stats.sizeTeam," aventuriers"),cs(2),bo(" ",e.entity.score.sizeTeam," "),cs(6),bo("",e.entity.stats.fullStuffCharacters," aventuriers sur\xe9quip\xe9s"),cs(2),bo(" ",e.entity.score.fullStuffCharacters," "),cs(6),bo("",e.entity.stats.damageInflicted," d\xe9g\xe2ts inflig\xe9s"),cs(2),bo(" ",e.entity.score.damageInflicted," "),cs(6),bo("",e.entity.stats.damageReceived," d\xe9g\xe2ts re\xe7us"),cs(2),bo(" ",e.entity.score.damageReceived," "),cs(6),bo("",e.entity.stats.death," morts au combat"),cs(2),bo(" ",e.entity.score.death," "))},styles:["[_nghost-%COMP%]{width:350px}[_nghost-%COMP%]   .tooltip-wrapper[_ngcontent-%COMP%]{padding-left:60px}[_nghost-%COMP%]   civ-equipment[_ngcontent-%COMP%]{position:absolute;left:-20px}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-family:Bangers,cursive}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{color:#292719;margin:10px 0}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;font-family:Bangers,cursive}[_nghost-%COMP%]   .score-item[_ngcontent-%COMP%]{margin:20px 0;width:100%;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .score-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;font-family:Bangers,cursive}"]}),t})(),Yg=(()=>{class t{constructor(){}ngOnInit(){this.cssClass=this.equipment.name.normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(" ","").replace("'","").toUpperCase(),this.cssClass+=this.equipment.unlocked?"":" disabled"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-equipment"]],inputs:{equipment:"equipment"},decls:1,vars:3,template:function(t,e){1&t&&qi(0,"div"),2&t&&yo("equip-icon equip-",e.cssClass," ")},styles:["[_nghost-%COMP%]{display:inline-block;background-repeat:no-repeat;background-size:cover;position:relative;border-radius:8px;height:50px;width:50px}[_nghost-%COMP%]:not(.disabled):hover{cursor:pointer;transition:all .2s cubic-bezier(.17,.67,.3,.97)}[_nghost-%COMP%]:not(.disabled):hover:hover{filter:brightness(150%)}[_nghost-%COMP%]:not(.disabled):hover:active{filter:brightness(50%)}.disabled[_nghost-%COMP%]{filter:saturate(0) contrast(.6) brightness(.7)}[_nghost-%COMP%]   .equip-icon[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;border-radius:5px}[_nghost-%COMP%]   .equip-icon.equip-BALLANTINES[_ngcontent-%COMP%]{background:url(ballantines.5c1a79152e8aafbc67c4.png)}[_nghost-%COMP%]   .equip-icon.equip-SOURISCONGELEES[_ngcontent-%COMP%]{background:url(souris.425e040d60cbacb0423c.png)}[_nghost-%COMP%]   .equip-icon.equip-COMPTEDEEZER[_ngcontent-%COMP%]{background:url(spotify.a71721b9e5b10eb881fe.png)}[_nghost-%COMP%]   .equip-icon.equip-MANETTE[_ngcontent-%COMP%]{background:url(manette.f53d518fca25235da478.png)}[_nghost-%COMP%]   .equip-icon.equip-ALCOTEST[_ngcontent-%COMP%]{background:url(alcotest.c33223733f65d5d514c9.png)}[_nghost-%COMP%]   .equip-icon.equip-CASQUE[_ngcontent-%COMP%]{background:url(casque.4823cb9097af72efd003.png)}[_nghost-%COMP%]   .equip-icon.equip-PROTEGETIBIA[_ngcontent-%COMP%]{background:url(tibia.948490503dcb0d9e259b.png)}[_nghost-%COMP%]   .equip-icon.equip-VESTEDE[_ngcontent-%COMP%]{background:url(veste.05bb65353d3f6c42958b.png)}[_nghost-%COMP%]   .equip-icon.equip-GANTSDESCALADE[_ngcontent-%COMP%]{background:url(gants.04b765c2134d20029ed6.png)}[_nghost-%COMP%]   .equip-icon.equip-FREELANCE[_ngcontent-%COMP%]{background:url(freelance.26583376fa4c675a8feb.png)}[_nghost-%COMP%]   .equip-icon.equip-RISK[_ngcontent-%COMP%]{background:url(risk.5a1592b2f1d88d08ee5b.png)}[_nghost-%COMP%]   .equip-icon.equip-DISCORD[_ngcontent-%COMP%]{background:url(discord.dd800d75038953faeaac.png)}"]}),t})(),Wg=(()=>{class t{constructor(t){this.host=t}set injectHTML(t){this.host.nativeElement.innerHTML=t}}return t.\u0275fac=function(e){return new(e||t)(Di(Lo))},t.\u0275dir=Yt({type:t,selectors:[["","injectHTML",""]],inputs:{injectHTML:"injectHTML"}}),t})();function Xg(t,e){if(1&t&&(zi(0,"div",7),qi(1,"civ-stats",8),zi(2,"div",9),zi(3,"span",10),mo(4),ji(),ji(),ji()),2&t){const t=Yi();cs(4),bo("+",t.entity.health," Points de vie")}}function Kg(t,e){if(1&t&&(zi(0,"div",7),qi(1,"civ-stats",11),zi(2,"div",9),zi(3,"span",10),mo(4),ji(),ji(),ji()),2&t){const t=Yi();cs(4),bo("+",t.entity.stats.attack," attaque")}}function Qg(t,e){if(1&t&&(zi(0,"div",7),qi(1,"civ-stats",12),zi(2,"div",9),zi(3,"span",10),mo(4),ji(),ji(),ji()),2&t){const t=Yi();cs(4),bo("+",t.entity.stats.power," puissance")}}function Zg(t,e){if(1&t&&(zi(0,"div",7),qi(1,"civ-stats",13),zi(2,"div",9),zi(3,"span",10),mo(4),ji(),ji(),ji()),2&t){const t=Yi();cs(4),bo("+",t.entity.stats.critical,"% chances critique")}}function Jg(t,e){if(1&t&&(zi(0,"div",7),qi(1,"civ-stats",14),zi(2,"div",9),zi(3,"span",10),mo(4),ji(),ji(),ji()),2&t){const t=Yi();cs(4),bo("+",100*t.entity.stats.criticalDamage,"% d\xe9g\xe2ts critiques")}}function tf(t,e){if(1&t&&(zi(0,"div",7),qi(1,"civ-stats",15),zi(2,"div",9),zi(3,"span",10),mo(4),ji(),ji(),ji()),2&t){const t=Yi();cs(4),bo("",t.entity.stats.speed," ticks")}}function ef(t,e){if(1&t&&(zi(0,"div",7),qi(1,"civ-stats",16),zi(2,"div",9),zi(3,"span",10),mo(4),ji(),ji(),ji()),2&t){const t=Yi();cs(4),bo("+",t.entity.stats.dodge,"% esquive")}}function nf(t,e){if(1&t&&(zi(0,"div",7),qi(1,"civ-stats",17),zi(2,"div",9),zi(3,"span",10),mo(4),ji(),ji(),ji()),2&t){const t=Yi();cs(4),bo("+",t.entity.stats.touch,"% touch\xe9")}}let rf=(()=>{class t{constructor(){this.isTooltip=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-tooltip-equipment"]],hostVars:2,hostBindings:function(t,e){2&t&&so("tooltip",e.isTooltip)},inputs:{entity:"entity",owner:"owner"},decls:18,vars:12,consts:[[1,"flex","tooltip-wrapper"],[1,"square-wrapper",3,"equipment"],[1,"flex","space-between"],[1,"name"],[1,"description",3,"injectHTML"],[1,"stats"],["class","stat-item",4,"ngIf"],[1,"stat-item"],[1,"health"],[1,"value"],[1,"current"],[1,"attack"],[1,"power"],[1,"critical"],[1,"criticalDamage"],[1,"speed"],[1,"dodge"],[1,"touch"]],template:function(t,e){1&t&&(zi(0,"div",0),qi(1,"civ-equipment",1),zi(2,"div"),zi(3,"div",2),zi(4,"strong",3),mo(5),ji(),zi(6,"span"),mo(7),ji(),ji(),qi(8,"div",4),zi(9,"div",5),Ri(10,Xg,5,1,"div",6),Ri(11,Kg,5,1,"div",6),Ri(12,Qg,5,1,"div",6),Ri(13,Zg,5,1,"div",6),Ri(14,Jg,5,1,"div",6),Ri(15,tf,5,1,"div",6),Ri(16,ef,5,1,"div",6),Ri(17,nf,5,1,"div",6),ji(),ji(),ji()),2&t&&(cs(1),Li("equipment",e.entity),cs(4),vo(e.entity.name),cs(2),bo("Equipement de ",e.owner.name,""),cs(1),Li("injectHTML",e.entity.description(e.entity.damageInstances,e.owner,e.entity.healInstances)),cs(2),Li("ngIf",e.entity.health>0),cs(1),Li("ngIf",e.entity.stats.attack>0),cs(1),Li("ngIf",e.entity.stats.power>0),cs(1),Li("ngIf",e.entity.stats.critical>0),cs(1),Li("ngIf",e.entity.stats.criticalDamage>0),cs(1),Li("ngIf",e.entity.stats.speed>0),cs(1),Li("ngIf",e.entity.stats.dodge>0),cs(1),Li("ngIf",e.entity.stats.touch>0))},directives:[Yg,Wg,Ul,Hg],styles:["[_nghost-%COMP%]{width:350px}[_nghost-%COMP%]   .tooltip-wrapper[_ngcontent-%COMP%]{padding-left:60px}[_nghost-%COMP%]   civ-equipment[_ngcontent-%COMP%]{position:absolute;left:-20px}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-family:Bangers,cursive}[_nghost-%COMP%]   .stat-item[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:11px}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{color:#292719;margin:10px 0}"]}),t})(),sf=(()=>{class t{constructor(){this.isTooltip=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-tooltip-map-node"]],hostVars:2,hostBindings:function(t,e){2&t&&so("tooltip",e.isTooltip)},inputs:{entity:"entity"},decls:3,vars:3,template:function(t,e){1&t&&(zi(0,"pre"),mo(1),La(2,"json"),ji()),2&t&&(cs(1),bo("  ",Ua(2,1,e.entity),"\n"))},pipes:[ql],styles:[""]}),t})();class of{constructor(t){this.unlocked=!1,this.done=!1,this.parents=[],this.children=[],this.id=Wu(),this.floor=t}}class af{constructor(t,e,n,r){this.damageType=n,this.target=e,this.caster=t,this.setAttackStatus(),this.setDamage(r)}applyDamage(){if(this.target.health.isDead)return!0;let t=zu.getInstance();const e=this.target.health.hurt(this.damage);return t.setDamageInflicted(this),this.target.possessed&&e?t.stats.death++:!this.target.possessed&&e&&(this.target.specialty!==Mu.TIER_1&&this.target.specialty!==Mu.INVOCATION||t.stats.tierOneKilled++,this.target.specialty===Mu.TIER_2&&t.stats.tierTwoKilled++,this.target.specialty===Mu.TIER_3&&t.stats.tierThreeKilled++,this.target.specialty===Mu.INVOCATION&&t.stats.tierOneKilled++),e}setAttackStatus(){this.status=this.isDodged()?Iu.DODGED:this.isCritical()?Iu.CRITICAL:Iu.HIT}isDodged(){return Hu(this.target.stats.dodge-this.caster.stats.touch)}isCritical(){return Hu(this.caster.stats.critical)}setDamage(t){this.status===Iu.DODGED&&(this.damage=0),this.status===Iu.HIT&&(this.damage=t),this.status===Iu.CRITICAL&&(this.damage=t*this.caster.stats.criticalDamage)}}class cf{constructor(t,e,n){this.stacks=1,this.stackTypeMapping={UP_DODGE:"DURATION",UP_CRIT_DMG:"DURATION",UP_CRIT:"DURATION",POISON:"INTENSITY",UP_AP:"DURATION",DOWN_AP:"DURATION",UP_AD:"DURATION",DOWN_DODGE:"DURATION",DOWN_SPEED:"DURATION",DOWN_AD:"DURATION"},this.effect=n,this.target=e,this.attacker=t,this.timer=Ku[this.effect],this.maxTime=this.timer,this.stackType=Xu[this.effect],this.applyEffect()}applyEffect(){this.target.effects.push(this)}addStack(){"DURATION"===this.stackType&&(this.timer=this.maxTime),"INTENSITY"===this.stackType&&(this.timer+=this.maxTime,this.stacks++)}runPoison(){return new af(this.attacker,this.target,ku.DOT,this.getPoisonDamage())}getPoisonDamage(){return Math.round((4+.2*this.attacker.stats.power)*this.stacks)}getBuffValue(t){return t*this.stacks}}function lf(t,e){if(1&t&&(zi(0,"span",6),mo(1),ji()),2&t){const t=Yi();cs(1),bo("Temps de r\xe9cup\xe9ration: ",t.entity.cooldown," tours")}}let uf=(()=>{class t{constructor(){this.isTooltip=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-tooltip-spell"]],hostVars:2,hostBindings:function(t,e){2&t&&so("tooltip",e.isTooltip)},inputs:{entity:"entity",owner:"owner"},decls:10,vars:5,consts:[[1,"flex","tooltip-wrapper"],[1,"square-wrapper",3,"spell"],[1,"flex","space-between"],[1,"name"],[1,"description",3,"injectHTML"],["class","available",4,"ngIf"],[1,"available"]],template:function(t,e){1&t&&(zi(0,"div",0),qi(1,"civ-spells",1),zi(2,"div"),zi(3,"div",2),zi(4,"strong",3),mo(5),ji(),zi(6,"span"),mo(7),ji(),ji(),qi(8,"div",4),Ri(9,lf,2,1,"span",5),ji(),ji()),2&t&&(cs(1),Li("spell",e.entity),cs(4),vo(e.entity.name),cs(2),bo("Sort de ",e.owner.name,""),cs(1),Li("injectHTML",e.entity.description(e.entity.damageInstances,e.owner,e.entity.healInstances)),cs(1),Li("ngIf",e.entity.timer>0))},directives:[Bg,Wg,Ul],styles:["[_nghost-%COMP%]{width:400px}[_nghost-%COMP%]   .tooltip-wrapper[_ngcontent-%COMP%]{padding-left:60px}[_nghost-%COMP%]   civ-spells[_ngcontent-%COMP%]{position:absolute;left:-20px}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-family:Bangers,cursive}[_nghost-%COMP%]   .available[_ngcontent-%COMP%]{font-size:11px;color:#494230}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{color:#292719;margin:10px 0}[_nghost-%COMP%]   .cooldown[_ngcontent-%COMP%]{font-size:11px;color:#494230}"]}),t})(),hf=(()=>{class t{transform(t){switch(t){case Su.POISON:return"Poison";case Su.STUN:return"Etourdit";case Su.UP_CRIT_DMG:return"D\xe9g\xe2ts critiques augment\xe9s";case Su.UP_CRIT:return"Chance de critiques augment\xe9es";case Su.UP_DODGE:return"Esquive augment\xe9e";case Su.UP_AP:return"Puissance augment\xe9e";case Su.DOWN_AP:return"Puissance r\xe9duite";case Su.UP_AD:return"Attaque augment\xe9e";case Su.DOWN_AD:return"Attaque r\xe9duite";case Su.TAUNT:return"Provocation";case Su.DOWN_DODGE:return"Esquive r\xe9duite";default:return"Un effet"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Wt({name:"effectName",type:t,pure:!0}),t})(),df=(()=>{class t{transform(t){switch(t){case ku.MAGIC:return"magical";case ku.PHYSIC:return"physical"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Wt({name:"damageType",type:t,pure:!0}),t})(),pf=(()=>{class t{transform(t){switch(t){case Mu.COMBATTANT:return"Front lisse";case Mu.INVOCATION:return"Invocation";case Mu.MAGE:return"Rageux";case Mu.SUPPORT:return"Gentillet";case Mu.TANK:return"Costaud"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Wt({name:"specialtyName",type:t,pure:!0}),t})(),gf=(()=>{class t{transform(t){switch(t){case Ru.COMBAT_TIER_1:return"Combat";case Ru.COMBAT_TIER_2:return"Nemesis";case Ru.COMBAT_TIER_3:return"Boss";case Ru.HEAL:return"Ap\xe9ro";case Ru.TREASURE:return"Tr\xe9sor";case Ru.SHOP:return"Boutique";case Ru.EVENT:return"???"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Wt({name:"nodeType",type:t,pure:!0}),t})();function ff(t,e){if(1&t&&(zi(0,"span",5),mo(1),ji()),2&t){const t=Yi();cs(1),bo("Fini dans ",t.entity.timer," tours")}}let mf=(()=>{class t{constructor(){this.isTooltip=!0}get description(){switch(this.entity.effect){case Su.POISON:return`Inflige ${this.entity.getPoisonDamage()} d\xe9g\xe2ts au prochain tour`;case Su.UP_DODGE:return`Augmente l'esquive de ${this.entity.getBuffValue(20)}%`;case Su.DOWN_DODGE:return`R\xe9duit l'esquive de ${this.entity.getBuffValue(15)}%`;case Su.UP_CRIT_DMG:return`Augmente les d\xe9gats critiques de ${100*this.entity.getBuffValue(1.5)}%`;case Su.UP_CRIT:return`Augmente les chances de coups critiques de ${this.entity.getBuffValue(25)}%`;case Su.STUN:return"Ne peut pas attaquer.";case Su.TAUNT:return"Redirige les attaques vers le personnage";case Su.UP_AP:return`Augmente la puissance ${this.entity.getBuffValue(5)}`;case Su.UP_AD:return`Augmente l'attaque ${this.entity.getBuffValue(5)}`;case Su.DOWN_AP:return`R\xe9duit la puissance ${this.entity.getBuffValue(3)}`;case Su.DOWN_AD:return`R\xe9duit l'attaque ${this.entity.getBuffValue(3)}`}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-tooltip-effect"]],hostVars:2,hostBindings:function(t,e){2&t&&so("tooltip",e.isTooltip)},inputs:{entity:"entity"},decls:7,vars:5,consts:[[1,"tooltip-wrapper"],[1,"flex","space-between"],[1,"name"],[1,"description",3,"injectHTML"],["class","available",4,"ngIf"],[1,"available"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),zi(2,"strong",2),mo(3),La(4,"effectName"),ji(),ji(),qi(5,"div",3),Ri(6,ff,2,1,"span",4),ji()),2&t&&(cs(3),vo(Ua(4,3,e.entity.effect)),cs(2),Li("injectHTML",e.description),cs(1),Li("ngIf",e.entity.timer>0))},directives:[Wg,Ul],pipes:[hf],styles:["[_nghost-%COMP%]{width:350px}[_nghost-%COMP%]   .tooltip-wrapper[_ngcontent-%COMP%]{padding-left:60px}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-family:Bangers,cursive}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{color:#292719;margin:10px 0}"]}),t})();function vf(t,e){if(1&t&&qi(0,"civ-effects",29),2&t){const t=e.$implicit;yo("effect-",t.effect,""),Li("effect",t)("civ-tooltip",t)}}function bf(t,e){1&t&&(zi(0,"span"),mo(1,"+"),ji())}function _f(t,e){if(1&t&&(zi(0,"span",30),Ri(1,bf,2,0,"span",28),mo(2),ji()),2&t){const t=Yi();so("negative",t.entity.buffs.attack<0),cs(1),Li("ngIf",t.entity.buffs.attack>0),cs(1),bo(" ",t.entity.buffs.attack,"")}}function yf(t,e){1&t&&(zi(0,"span"),mo(1,"+"),ji())}function wf(t,e){if(1&t&&(zi(0,"span",30),Ri(1,yf,2,0,"span",28),mo(2),ji()),2&t){const t=Yi();so("negative",t.entity.buffs.power<0),cs(1),Li("ngIf",t.entity.buffs.power>0),cs(1),bo(" ",t.entity.buffs.power,"")}}function Cf(t,e){1&t&&(zi(0,"span"),mo(1,"+"),ji())}function Of(t,e){if(1&t&&(zi(0,"span",30),Ri(1,Cf,2,0,"span",28),mo(2),ji()),2&t){const t=Yi();so("negative",t.entity.buffs.critical<0),cs(1),Li("ngIf",t.entity.buffs.critical>0),cs(1),bo(" ",t.entity.buffs.critical,"%")}}function xf(t,e){1&t&&(zi(0,"span"),mo(1,"+"),ji())}function Pf(t,e){if(1&t&&(zi(0,"span",30),Ri(1,xf,2,0,"span",28),mo(2),ji()),2&t){const t=Yi();so("negative",t.entity.buffs.criticalDamage<0),cs(1),Li("ngIf",t.entity.buffs.criticalDamage>0),cs(1),bo(" ",100*t.entity.buffs.criticalDamage,"%")}}function Ef(t,e){1&t&&(zi(0,"span"),mo(1,"+"),ji())}function Tf(t,e){if(1&t&&(zi(0,"span",30),Ri(1,Ef,2,0,"span",28),mo(2),ji()),2&t){const t=Yi();so("negative",t.entity.buffs.speed<0),cs(1),Li("ngIf",t.entity.buffs.speed>0),cs(1),bo(" ",t.entity.buffs.speed," ticks")}}function Mf(t,e){1&t&&(zi(0,"span"),mo(1,"+"),ji())}function Sf(t,e){if(1&t&&(zi(0,"span",30),Ri(1,Mf,2,0,"span",28),mo(2),ji()),2&t){const t=Yi();so("negative",t.entity.buffs.dodge<0),cs(1),Li("ngIf",t.entity.buffs.dodge>0),cs(1),bo(" ",t.entity.buffs.dodge,"%")}}function If(t,e){1&t&&(zi(0,"span"),mo(1,"+"),ji())}function kf(t,e){if(1&t&&(zi(0,"span",30),Ri(1,If,2,0,"span",28),mo(2),ji()),2&t){const t=Yi();so("negative",t.entity.buffs.touch<0),cs(1),Li("ngIf",t.entity.buffs.touch>0),cs(1),bo(" ",t.entity.buffs.touch,"%")}}function Af(t,e){if(1&t&&(zi(0,"civ-spells",31),mo(1),ji()),2&t){const t=e.$implicit,n=Yi();so("disabled",!t.unlocked),Li("spell",t)("civ-tooltip",t)("civ-tooltip-owner",n.entity),cs(1),vo(t.name)}}function Nf(t,e){if(1&t&&qi(0,"civ-equipment",34),2&t){const t=e.$implicit,n=Yi(2);so("disabled",!t.unlocked),Li("equipment",t)("civ-tooltip",t)("civ-tooltip-owner",n.entity)}}function Rf(t,e){if(1&t&&(zi(0,"div"),zi(1,"div",11),mo(2,"Equipement"),ji(),zi(3,"div",32),Ri(4,Nf,1,5,"civ-equipment",33),ji(),ji()),2&t){const t=Yi();cs(4),Li("ngForOf",t.entity.equipment)}}let Df=(()=>{class t{constructor(){this.isTooltip=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-tooltip-character"]],hostVars:2,hostBindings:function(t,e){2&t&&so("tooltip",e.isTooltip)},inputs:{entity:"entity"},decls:99,vars:28,consts:[[1,"tooltip-wrapper"],[1,"image"],[1,"identity"],[1,"flex","space-between"],[1,"name"],[1,"classe"],[1,"health"],[1,"points"],[3,"color","current","max"],[3,"class","effect","civ-tooltip",4,"ngFor","ngForOf"],[1,"stats"],[1,"section-title"],[1,"stat-item"],[1,"attack"],[1,"stat-name"],[1,"label"],[1,"description"],[1,"value"],[1,"current"],["class","buff",3,"negative",4,"ngIf"],[1,"power"],[1,"critical"],[1,"criticalDamage"],[1,"speed"],[1,"dodge"],[1,"touch"],[1,"spells"],["class","square-wrapper",3,"disabled","spell","civ-tooltip","civ-tooltip-owner",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"effect","civ-tooltip"],[1,"buff"],[1,"square-wrapper",3,"spell","civ-tooltip","civ-tooltip-owner"],[1,"equipment"],["class","square-wrapper",3,"equipment","disabled","civ-tooltip","civ-tooltip-owner",4,"ngFor","ngForOf"],[1,"square-wrapper",3,"equipment","civ-tooltip","civ-tooltip-owner"]],template:function(t,e){1&t&&(zi(0,"div",0),qi(1,"char-deco",1),zi(2,"div",2),zi(3,"div",3),zi(4,"strong",4),mo(5),ji(),zi(6,"span",5),mo(7),La(8,"specialtyName"),ji(),ji(),zi(9,"div",6),zi(10,"div",7),mo(11),ji(),qi(12,"civ-progress-bar",8),ji(),Ri(13,vf,1,5,"civ-effects",9),ji(),zi(14,"div",10),zi(15,"div",11),mo(16,"Caract\xe9ristiques"),ji(),zi(17,"div",12),qi(18,"civ-stats",13),zi(19,"div",14),zi(20,"span",15),mo(21,"Attaque"),ji(),zi(22,"div",16),mo(23," Influence les d\xe9g\xe2ts des attaques physiques "),ji(),ji(),zi(24,"div",17),zi(25,"span",18),mo(26),ji(),Ri(27,_f,3,4,"span",19),ji(),ji(),zi(28,"div",12),qi(29,"civ-stats",20),zi(30,"div",14),zi(31,"span",15),mo(32,"Puissance"),ji(),zi(33,"div",16),mo(34," Influence les d\xe9g\xe2ts des sorts et effets "),ji(),ji(),zi(35,"div",17),zi(36,"span",18),mo(37),ji(),Ri(38,wf,3,4,"span",19),ji(),ji(),zi(39,"div",12),qi(40,"civ-stats",21),zi(41,"div",14),zi(42,"span",15),mo(43,"Critiques"),ji(),zi(44,"div",16),mo(45," Chances d'infliger un coup critique "),ji(),ji(),zi(46,"div",17),zi(47,"span",18),mo(48),ji(),Ri(49,Of,3,4,"span",19),ji(),ji(),zi(50,"div",12),qi(51,"civ-stats",22),zi(52,"div",14),zi(53,"span",15),mo(54,"D\xe9g\xe2ts Critiques"),ji(),zi(55,"div",16),mo(56," Bonus de d\xe9g\xe2ts critiques "),ji(),ji(),zi(57,"div",17),zi(58,"span",18),mo(59),ji(),Ri(60,Pf,3,4,"span",19),ji(),ji(),zi(61,"div",12),qi(62,"civ-stats",23),zi(63,"div",14),zi(64,"span",15),mo(65,"Vitesse"),ji(),zi(66,"div",16),mo(67," Temps entre chaque tour "),ji(),ji(),zi(68,"div",17),zi(69,"span",18),mo(70),ji(),Ri(71,Tf,3,4,"span",19),ji(),ji(),zi(72,"div",12),qi(73,"civ-stats",24),zi(74,"div",14),zi(75,"span",15),mo(76,"Esquive"),ji(),zi(77,"div",16),mo(78," Chances d'esquiver une attaque "),ji(),ji(),zi(79,"div",17),zi(80,"span",18),mo(81),ji(),Ri(82,Sf,3,4,"span",19),ji(),ji(),zi(83,"div",12),qi(84,"civ-stats",25),zi(85,"div",14),zi(86,"span",15),mo(87,"Touch\xe9"),ji(),zi(88,"div",16),mo(89," R\xe9duit l'esquive de l'adversaire "),ji(),ji(),zi(90,"div",17),zi(91,"span",18),mo(92),ji(),Ri(93,kf,3,4,"span",19),ji(),ji(),ji(),zi(94,"div",11),mo(95,"Sorts"),ji(),zi(96,"div",26),Ri(97,Af,2,6,"civ-spells",27),ji(),Ri(98,Rf,5,1,"div",28),ji()),2&t&&(cs(1),Ai("character",e.entity.name)("big",!0),cs(4),vo(e.entity.name),cs(2),vo(Ua(8,26,e.entity.specialty)),cs(4),_o(" ",e.entity.health.current," / ",e.entity.health.max,""),cs(1),Li("color","#eb4444")("current",e.entity.health.current)("max",e.entity.health.max),cs(1),Li("ngForOf",e.entity.effects),cs(13),vo(e.entity.stats.attack),cs(1),Li("ngIf",0!==e.entity.buffs.attack),cs(10),vo(e.entity.stats.power),cs(1),Li("ngIf",0!==e.entity.buffs.power),cs(10),bo("",e.entity.stats.critical,"%"),cs(1),Li("ngIf",0!==e.entity.buffs.critical),cs(10),bo("",100*e.entity.stats.criticalDamage,"%"),cs(1),Li("ngIf",0!==e.entity.buffs.criticalDamage),cs(10),bo("",e.entity.stats.speed," ticks"),cs(1),Li("ngIf",0!==e.entity.buffs.speed),cs(10),bo("",e.entity.stats.dodge,"%"),cs(1),Li("ngIf",0!==e.entity.buffs.dodge),cs(10),bo("",e.entity.stats.touch,"%"),cs(1),Li("ngIf",0!==e.entity.buffs.touch),cs(4),Li("ngForOf",e.entity.spells),cs(1),Li("ngIf",e.entity.equipment.length>0))},styles:["[_nghost-%COMP%]{background:url(map_background.37da66dc14e942b024af.png) container no-repeat;width:300px;border-radius:5px}[_nghost-%COMP%]   .image[_ngcontent-%COMP%]{position:absolute;top:-5px;left:-40px}[_nghost-%COMP%]   .identity[_ngcontent-%COMP%]{padding-left:20px}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-family:Bangers,cursive}[_nghost-%COMP%]   .classe[_ngcontent-%COMP%]{font-size:11px;color:#353324}[_nghost-%COMP%]   .health[_ngcontent-%COMP%]{margin-top:10px;position:relative;display:flex;align-items:center;justify-content:center;width:100%;margin-bottom:7px}[_nghost-%COMP%]   .health[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{position:absolute;top:0;color:#fff;font-weight:700}[_nghost-%COMP%]   .health[_ngcontent-%COMP%]   civ-progress-bar[_ngcontent-%COMP%]{height:12px;width:100%}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:15px;margin:30px 0 10px}[_nghost-%COMP%]   .equipment[_ngcontent-%COMP%], [_nghost-%COMP%]   .spells[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .equipment[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   .spells[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%]{margin-right:5px}"]}),t})(),Lf=(()=>{class t{constructor(t){this.resolver=t}createComponent(t,e,n=!0){this.clearContainer(t);const r=this.resolver.resolveComponentFactory(e),s=t.createComponent(r);return n&&this.appendToBody(s),s}clearContainer(t){t.clear()}appendToBody(t){document.body.appendChild(t.hostView.rootNodes[0])}}return t.\u0275fac=function(e){return new(e||t)(ir(Ao))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Uf=(()=>{class t{constructor(t,e,n,r){this.cfs=t,this.container=e,this.renderer=n,this.el=r,this.onClick=!1}onMouseClick(t){this.onClick&&(this.displayTooltip(t),this.position(t))}onMouseEnter(t){this.onClick||this.displayTooltip(t)}onMouseMove(t){this.onClick||this.position(t)}onMouseLeave(){this.onClick||void 0!==this.tooltip&&this.tooltip.destroy()}ngOnDestroy(){void 0!==this.tooltip&&this.tooltip.destroy()}displayTooltip(t){if(this.entity instanceof qu&&(this.component=uf),this.entity instanceof cf&&(this.component=mf),this.entity instanceof Qu&&(this.component=Df),this.entity instanceof of&&(this.component=sf),this.entity instanceof ju&&(this.component=rf),this.entity instanceof zu&&(this.component=Gg),this.tooltip=this.cfs.createComponent(this.container,this.component),this.tooltip.instance.entity=this.entity,this.tooltip.instance.owner=this.owner,this.onClick){let t=this.renderer.createElement("div");this.renderer.addClass(t,"overlay"),this.renderer.appendChild(this.tooltip.location.nativeElement,t),this.renderer.listen(t,"mousedown",t=>{this.tooltip.destroy()})}t.stopPropagation()}position(t){if(this.onClick)this.renderer.setStyle(this.tooltip.location.nativeElement,"right","20px"),this.renderer.setStyle(this.tooltip.location.nativeElement,"bottom","20px"),this.renderer.setStyle(this.tooltip.location.nativeElement,"left","auto"),this.renderer.setStyle(this.tooltip.location.nativeElement,"top","auto");else{let e=t.pageY-50+this.tooltip.location.nativeElement.offsetHeight,n=e>document.body.offsetHeight?e-document.body.offsetHeight+10:0;t.pageX-50+this.tooltip.location.nativeElement.offsetWidth>=document.body.offsetWidth?(this.renderer.setStyle(this.tooltip.location.nativeElement,"right",document.body.offsetWidth-t.pageX+50+"px"),this.renderer.setStyle(this.tooltip.location.nativeElement,"left","auto")):(this.renderer.setStyle(this.tooltip.location.nativeElement,"left",t.pageX+50+"px"),this.renderer.setStyle(this.tooltip.location.nativeElement,"right","auto")),this.renderer.setStyle(this.tooltip.location.nativeElement,"top",(t.pageY-50-n<30?30:t.pageY-50-n)+"px")}t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(Di(Lf),Di(ya),Di(jo),Di(Lo))},t.\u0275dir=Yt({type:t,selectors:[["","civ-tooltip",""]],hostBindings:function(t,e){1&t&&Hi("mouseup",function(t){return e.onMouseClick(t)})("mouseenter",function(t){return e.onMouseEnter(t)})("mousemove",function(t){return e.onMouseMove(t)})("mouseleave",function(){return e.onMouseLeave()})},inputs:{entity:["civ-tooltip","entity"],owner:["civ-tooltip-owner","owner"],onClick:["on-click","onClick"]}}),t})();function zf(t,e){1&t&&qi(0,"div",26)}function jf(t,e){1&t&&qi(0,"div",27)}function qf(t,e){1&t&&qi(0,"div",28)}function Ff(t,e){1&t&&qi(0,"div",29)}function $f(t,e){if(1&t&&(zi(0,"civ-spells",30),mo(1),ji()),2&t){const t=e.$implicit,n=Yi().$implicit;so("disabled",!t.unlocked),Li("spell",t)("civ-tooltip",t)("civ-tooltip-owner",n),cs(1),bo(" ",t.name," ")}}function Vf(t,e){if(1&t){const t=Fi();zi(0,"div"),zi(1,"div",5),qi(2,"char-deco"),zi(3,"div",6),zi(4,"div",7),mo(5),ji(),zi(6,"div",8),mo(7),La(8,"specialtyName"),ji(),ji(),zi(9,"button",9),Hi("click",function(){const e=Ie(t).$implicit;return Yi(2).pickHero(e)}),mo(10,"Choisir"),ji(),zi(11,"div",10),mo(12),ji(),zi(13,"div",11),zi(14,"div",12),qi(15,"civ-stats",13),zi(16,"div",14),zi(17,"span",15),mo(18,"Points de vie"),ji(),ji(),zi(19,"div",16),Ri(20,zf,1,0,"div",17),ji(),ji(),zi(21,"div",12),qi(22,"civ-stats",18),zi(23,"div",14),zi(24,"span",15),mo(25,"Vitesse"),ji(),ji(),zi(26,"div",16),Ri(27,jf,1,0,"div",19),ji(),ji(),zi(28,"div",12),qi(29,"civ-stats",20),zi(30,"div",14),zi(31,"span",15),mo(32,"Attaque"),ji(),ji(),zi(33,"div",16),Ri(34,qf,1,0,"div",21),ji(),ji(),zi(35,"div",12),qi(36,"civ-stats",22),zi(37,"div",14),zi(38,"span",15),mo(39,"Puissance"),ji(),ji(),zi(40,"div",16),Ri(41,Ff,1,0,"div",23),ji(),ji(),ji(),zi(42,"div",24),Ri(43,$f,2,6,"civ-spells",25),ji(),ji(),ji()}if(2&t){const t=e.$implicit,n=Yi(2);cs(2),Ai("character",t.name),cs(3),vo(t.name),cs(2),vo(Ua(8,9,t.specialty)),cs(5),bo(" ",n.getDescription(t.name)," "),cs(8),Li("ngForOf",n.littleSquare(t.health.max,13)),cs(7),Li("ngForOf",n.littleSquare(t.stats.speed,5,!0)),cs(7),Li("ngForOf",n.littleSquare(t.stats.attack,2)),cs(7),Li("ngForOf",n.littleSquare(t.stats.power,2)),cs(2),Li("ngForOf",t.spells)}}function Hf(t,e){if(1&t&&(zi(0,"div"),zi(1,"div",2),mo(2," Choisissez un h\xe9ro"),ji(),zi(3,"div",3),Ri(4,Vf,44,11,"div",4),ji(),ji()),2&t){const t=Yi();cs(4),Li("ngForOf",t.pickableCharacters)}}function Bf(t,e){if(1&t){const t=Fi();zi(0,"civ-spells",36),Hi("click",function(){Ie(t);const e=Yi().$implicit;return Yi(2).pickSpell(e)}),ji()}if(2&t){const t=Yi().$implicit,e=Yi(2);so("picked",(null==e.pickedSpell?null:e.pickedSpell.name)===t.name),Li("spell",t)("civ-tooltip",t)("civ-tooltip-owner",e.pickedHero)}}function Gf(t,e){if(1&t&&(zi(0,"div",37),mo(1),ji()),2&t){const t=Yi().$implicit;cs(1),bo(" ",t.name,"")}}function Yf(t,e){if(1&t&&(zi(0,"div"),Ri(1,Bf,1,5,"civ-spells",34),Ri(2,Gf,2,1,"div",35),ji()),2&t){const t=e.$implicit,n=Yi(2);cs(1),Li("ngIf",!t.unlocked),cs(1),Li("ngIf",(null==n.pickedSpell?null:n.pickedSpell.name)===t.name)}}function Wf(t,e){if(1&t){const t=Fi();zi(0,"button",38),Hi("click",function(){return Ie(t),Yi(2).launchGame()}),mo(1,"Commencer la partie"),ji()}}function Xf(t,e){if(1&t&&(zi(0,"div",31),zi(1,"div",2),mo(2,"Choisissez son sort de d\xe9part"),ji(),zi(3,"div",32),Ri(4,Yf,3,2,"div",4),ji(),Ri(5,Wf,2,0,"button",33),ji()),2&t){const t=Yi();cs(4),Li("ngForOf",t.pickedHero.spells),cs(1),Li("ngIf",t.pickedSpell)}}let Kf=(()=>{class t{constructor(t,e){this.charService=t,this._router=e,this.pickableCharacters=[],this.charSub=this.charService.characters$.subscribe(t=>this.characters=t)}ngOnInit(){this.pickableCharacters.push(this.charService.createClement(!1)),this.pickableCharacters.push(this.charService.createAdrien(!1)),this.pickableCharacters.push(this.charService.createLoic(!1)),this.pickableCharacters.push(this.charService.createKevin(!1)),this.pickableCharacters.push(this.charService.createQuentin(!1)),this.pickableCharacters.push(this.charService.createCosty(!1)),this.charService.characters.length>0&&this._router.navigate(["map"])}ngOnDestroy(){this.charSub.unsubscribe()}getDescription(t){let e="";switch(t){case Du.ADRIEN:e="Adrien est un combattant polyvalent, capable d'\xe9tourdir. Il excelle dans dans l'art de l'\xe9vasion et les attaques encha\xeen\xe9es.";break;case Du.CLEMENT:e="Il est consid\xe9r\xe9 comme le protecteur du groupe. Il attire les enemis et sa confiance lui permet d'absorber plus facilement les coups.";break;case Du.LOIC:e="Loic n'h\xe9sitera pas \xe0 foncer dans le tas sans consid\xe9rer les risques. Ses attaques sont consid\xe9r\xe9es comme les plus d\xe9vastatrices.";break;case Du.KEVIN:e="Kevin est un puissant alchimiste et manipule le poison comme personne, qu'il s'agisse de poisons liquides ou \xe0 fumer. Il dispose aussi de pouvoirs d'invocations.";break;case Du.QUENTIN:e="Il exasp\xe8re ses enemis par son comportement insistant, permettant d'infliger des d\xe9g\xe2ts de plus en plus \xe9lev\xe9s \xe0 mesure que le combat \xe9volue. C'est cependant une v\xe9ritable chips.";break;case Du.COSTY:e="Costy trouvera toujours un moyen de soutenir ses co\xe9quippiers, am\xe9liorant la qualit\xe9 de leurs attaques. C'est aussi un puissant soigneur, mais pi\xe8tre combattant.";break;default:e="Lol"}return e}launchGame(){this.pickedSpell.unlocked=!0,this._router.navigate(["map"])}pickHero(t){this.pickedHero=this.charService.initCharacterGame(t.name)}pickSpell(t){this.pickedSpell=t}littleSquare(t,e,n){return Array(n?Math.round((50-t)/e):Math.round(t/e))}}return t.\u0275fac=function(e){return new(e||t)(Di($g),Di(Cg))},t.\u0275cmp=Ft({type:t,selectors:[["civ-pick-character"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","spell-selection",4,"ngIf"],[1,"title"],[1,"flex","center-align","center-justify","char-list"],[4,"ngFor","ngForOf"],[1,"character"],[1,"identity"],[1,"name"],[1,"specialty"],[1,"main-action",3,"click"],[1,"description"],[1,"stats"],[1,"stat-item"],[1,"health"],[1,"stat-name"],[1,"label"],[1,"value","squares"],["class","health-square",4,"ngFor","ngForOf"],[1,"speed"],["class","speed-square",4,"ngFor","ngForOf"],[1,"attack"],["class","attack-square",4,"ngFor","ngForOf"],[1,"power"],["class","power-square",4,"ngFor","ngForOf"],[1,"spell-list","flex"],["class","spell",3,"spell","civ-tooltip","civ-tooltip-owner","disabled",4,"ngFor","ngForOf"],[1,"health-square"],[1,"speed-square"],[1,"attack-square"],[1,"power-square"],[1,"spell",3,"spell","civ-tooltip","civ-tooltip-owner"],[1,"spell-selection"],[1,"flex","center-align","center-justify"],[3,"click",4,"ngIf"],["class","square-wrapper pickable-spell",3,"picked","spell","civ-tooltip","civ-tooltip-owner","click",4,"ngIf"],["class","name-display",4,"ngIf"],[1,"square-wrapper","pickable-spell",3,"spell","civ-tooltip","civ-tooltip-owner","click"],[1,"name-display"],[3,"click"]],template:function(t,e){1&t&&(Ri(0,Hf,5,1,"div",0),Ri(1,Xf,6,2,"div",1)),2&t&&(Li("ngIf",0===e.characters.length),cs(1),Li("ngIf",e.characters.length>0))},directives:[Ul,Dl,Vg,Hg,Bg,Uf],pipes:[pf],styles:['[_nghost-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;z-index:2}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-family:Bangers,cursive;font-size:30px;margin-bottom:30px;text-align:center;filter:drop-shadow(0 0 5px black)}[_nghost-%COMP%]   .char-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:1296px}[_nghost-%COMP%]   char-deco[_ngcontent-%COMP%]{position:absolute;left:-20px;top:-10px}[_nghost-%COMP%]   .identity[_ngcontent-%COMP%]{padding-left:20px}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]{filter:drop-shadow(0 0 36px black);margin:20px;padding:24px 24px 34px;width:260px;border-radius:5px;position:relative}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]{position:absolute;bottom:-15px;left:50%;transform:translateX(-50%);width:100px}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .squares[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .squares[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;width:8px;height:12px;margin-left:2px;border-radius:3px;border:1px solid #42392f;box-shadow:inset 0 1px 3px 0 #fff3}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .squares[_ngcontent-%COMP%]   .health-square[_ngcontent-%COMP%]{background:#9b1212}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .squares[_ngcontent-%COMP%]   .speed-square[_ngcontent-%COMP%]{background:#4d8bd9}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .squares[_ngcontent-%COMP%]   .power-square[_ngcontent-%COMP%]{background:#950052}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .squares[_ngcontent-%COMP%]   .attack-square[_ngcontent-%COMP%]{background:#a34200}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:25px;font-family:Bangers,cursive;margin-bottom:4px}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .name.spec-0[_ngcontent-%COMP%]{color:#85ff00}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .name.spec-2[_ngcontent-%COMP%]{color:#a34200}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .name.spec-1[_ngcontent-%COMP%]{color:#950052}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .name.spec-3[_ngcontent-%COMP%]{color:#9b1212}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .specialty[_ngcontent-%COMP%]{color:#494230}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:11px;margin:15px 0}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .spell-list[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .spell-list[_ngcontent-%COMP%]   .spell[_ngcontent-%COMP%]{border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;padding:1px;background:#362d24;margin:5px}[_nghost-%COMP%]   .spell-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .pickable-spell[_ngcontent-%COMP%]{position:relative;z-index:1;margin:60px;transform:scale(2)}[_nghost-%COMP%]   .pickable-spell.picked[_ngcontent-%COMP%]{transform:scale(3);z-index:2}[_nghost-%COMP%]   .name-display[_ngcontent-%COMP%]{color:#fff;font-family:Bangers,cursive;font-size:20px;margin:10px 0 60px;text-align:center;filter:drop-shadow(0 0 5px black)}']}),t})();class Qf{constructor(t,e,n){this.target=e,this.caster=t,this.setHeal(n)}applyHeal(){this.target.health.heal(this.heal)}setHeal(t){this.heal=this.caster.health.max*t}}let Zf=(()=>{class t{constructor(t,e){this.renderer=t,this.el=e}animateHit(t){let e="";e=t.caster.possessed?"animation-hit-top":"animation-hit-bottom",this.renderer.addClass(this.el.nativeElement,e),setTimeout(()=>{this.renderer.removeClass(this.el.nativeElement,e)},500)}animateHurt(t){t.status!==Iu.DODGED&&(this.renderer.addClass(this.el.nativeElement,"animation-hurt"),setTimeout(()=>{this.renderer.removeClass(this.el.nativeElement,"animation-hurt")},500))}animateHealing(){this.renderer.addClass(this.el.nativeElement,"animation-healing"),setTimeout(()=>{this.renderer.removeClass(this.el.nativeElement,"animation-healing")},500)}animateHealed(){this.renderer.addClass(this.el.nativeElement,"animation-healed"),setTimeout(()=>{this.renderer.removeClass(this.el.nativeElement,"animation-healed")},500)}}return t.\u0275fac=function(e){return new(e||t)(Di(jo),Di(Lo))},t.\u0275dir=Yt({type:t,selectors:[["","damageAnimation",""]],inputs:{id:["damageAnimation","id"]}}),t})();function Jf(t,e){if(1&t&&(zi(0,"span"),mo(1),ji()),2&t){const t=Yi();yo("type-",t.damage.damageType,""),cs(1),bo(" ",t.textDamage,"")}}function tm(t,e){if(1&t&&(zi(0,"span",2),mo(1),ji()),2&t){const t=Yi();cs(1),bo(" ",t.textHeal,"")}}let em=(()=>{class t{constructor(t,e){this.render=t,this.el=e,this.terminate=new $a}get isHeal(){return this.damage instanceof Qf}get textDamage(){let t="";return this.damage.status===Iu.DODGED&&(t="Rat\xe9"),this.damage.status===Iu.CRITICAL&&(t="-"+Math.round(this.damage.damage)+" (critique)"),this.damage.status===Iu.HIT&&(t+="-"+Math.round(this.damage.damage)),this.damage.damageType===ku.DOT&&(t+=" (poison)"),t}get textHeal(){return"+"+Math.round(this.damage.heal)}ngOnInit(){setTimeout(()=>{this.render.setStyle(this.el.nativeElement,"transform","translate("+Bu(-50,50)+"px, "+Bu(-200,-180)+"px)")},1),setTimeout(()=>{this.render.setStyle(this.el.nativeElement,"opacity",0)},1e3),setTimeout(()=>{this.terminate.emit()},2e3)}}return t.\u0275fac=function(e){return new(e||t)(Di(jo),Di(Lo))},t.\u0275cmp=Ft({type:t,selectors:[["civ-damage"]],inputs:{damage:"damage"},outputs:{terminate:"terminate"},decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["class","heal",4,"ngIf"],[1,"heal"]],template:function(t,e){1&t&&(Ri(0,Jf,2,4,"span",0),Ri(1,tm,2,1,"span",1)),2&t&&(Li("ngIf",!e.isHeal),cs(1),Li("ngIf",e.isHeal))},directives:[Ul],styles:["[_nghost-%COMP%]{position:absolute;transition:all 2s cubic-bezier(.075,.82,.165,1);font-size:30px;font-family:Bangers,cursive;filter:drop-shadow(0 0 8px black);color:#fff;white-space:nowrap}[_nghost-%COMP%]   .type-0[_ngcontent-%COMP%]{color:#bd5bff}[_nghost-%COMP%]   .type-1[_ngcontent-%COMP%]{color:#ff9c5b}[_nghost-%COMP%]   .type-2[_ngcontent-%COMP%]{color:#ceff47}"]}),t})(),nm=(()=>{class t{constructor(t,e,n,r){this.container=t,this.renderer=e,this.el=n,this.resolver=r}ngOnInit(){}displayDamage(t){const e=this.resolver.resolveComponentFactory(em),n=this.container.createComponent(e);n.instance.damage=t,n.instance.terminate.subscribe(()=>n.destroy()),this.renderer.appendChild(this.el.nativeElement,n.hostView.rootNodes[0])}}return t.\u0275fac=function(e){return new(e||t)(Di(ya),Di(jo),Di(Lo),Di(Ao))},t.\u0275dir=Yt({type:t,selectors:[["","damageDisplay",""]],inputs:{id:["damageDisplay","id"]}}),t})(),rm=(()=>{class t{constructor(){this.queue$=new Uu([]),this.currentTurn$=new Uu(0)}set currentTurn(t){this.currentTurn$.next(t)}get currentTurn(){return this.currentTurn$.getValue()}set queue(t){this.queue$.next(t)}get queue(){return this.queue$.getValue()}createQueue(t){this.queue=[],this.currentTurn=0,this.actors=t,this.actors.filter(t=>!t.health.isDead).forEach(t=>{this.addActor(t)})}addActor(t){let e=t.stats.speed,n=Math.floor(this.currentTurn/t.stats.speed);this.currentTurn>t.stats.speed&&(e*=n+1),this.queue.push({actor:t,nextTurn:e,played:n})}findNextActorTurn(t){setTimeout(()=>{let e=this.queue.findIndex(t=>t.nextTurn===this.currentTurn);if(-1!==e)return t(this.queue[e].actor),this.spendTurnPlay(e),!1;this.currentTurn++,this.findNextActorTurn(t)},100)}spendTurnPlay(t){this.queue[t].nextTurn+=this.queue[t].actor.stats.speed,this.queue[t].played++}removeActorFromQueue(t){const e=this.queue.findIndex(e=>e.actor.id===t.id);e>=0&&this.queue.splice(e,1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sm{constructor(t,e,n){this.damages=[],this.effects=[],this.heals=[],this.invocations=[],this._caster=t,this._combatActors=e,this.spellDescription=n,this.createDamageInstances(n.damageInstances),this.createHealInstances(n.healInstances),this.invocations=n.invocation?n.invocation(this):[],this.createEffectInstances(n.effectInstances),Vu(n.onSpellCast)&&n.onSpellCast(this),this.resetSpellCooldown(n)}resetSpellCooldown(t){t.timer=t.cooldown+1}createHealInstances(t){if(null===t)return!1;t.forEach(t=>{this.targets=this.getTargets(t.targetsType,t.targetsAmount),this.targets.forEach(e=>{(void 0===t.condition||t.condition(this))&&this.heals.push(new Qf(this._caster,e,t.amount))})})}createEffectInstances(t){if(null===t)return!1;t.forEach(t=>{this.targets=this.getTargets(t.targetsType,t.targetsAmount),this.targets.forEach(e=>{if(void 0===t.condition||t.condition(this)){const n=this.getExistingEffect(e,t.effect);void 0===n?this.effects.push(new cf(this._caster,e,t.effect)):n.addStack()}})})}createDamageInstances(t){if(null===t)return!1;t.forEach(t=>{this.targets=this.getTargets(t.targetsType,t.targetsAmount);const e=this.getDamageAmount(t.damageType,t.amount);this.targets.forEach(n=>{const r=new af(this._caster,n,t.damageType,e);(void 0===t.condition||t.condition(this))&&this.damages.push(r),Vu(t.onMissed)&&r.status===Iu.DODGED&&t.onMissed(this,r),Vu(t.onHit)&&r.status===Iu.HIT&&t.onHit(this,r)})})}getTargets(t,e){if(t instanceof Qu)return[t];switch(t){case Nu.TARGET:return[this._combatActors.target];case Nu.SELF:return[this._caster];case Nu.ALL_ALLIES:return this._combatActors.allies;case Nu.ALL_ENEMIES:return this._combatActors.enemies;case Nu.RANDOM_ALLY:return this._combatActors.allies.length<e&&(e=this._combatActors.allies.length),Yu(this._combatActors.allies,e);case Nu.RANDOM_ENEMY:return this._combatActors.enemies.length<e&&(e=this._combatActors.enemies.length),Yu(this._combatActors.enemies,e);default:return[this._combatActors.target]}}getExistingEffect(t,e){return t.effects.find(t=>t.effect===e)}getDamageAmount(t,e){return t===ku.PHYSIC?this._caster.stats.attack*e:t===ku.MAGIC?this._caster.stats.power*e:void 0}}let im=(()=>{class t{constructor(){this.enemyBucketTierOne=[()=>[this.createPatron()],()=>[this.createRacaille()],()=>[this.createVieilleConnaissance()],()=>[this.createPetitBonhomme(),this.createKaren()],()=>[this.createVaccin(),this.createCovid()],()=>[this.createPatron(),this.createPetitBonhomme(),this.createPatron()],()=>[this.createRacaille(),this.createWhisky(),this.createRacaille()],()=>[this.createEnfants(),this.createVieilleConnaissance(),this.createEnfants()],()=>[this.createKaren(),this.createVieilleConnaissance(),this.createEnfants(),this.createEnfants()],()=>[this.createKaren(),this.createVieilleConnaissance(),this.createVaccin(),this.createPatron()],()=>[this.createCovid(),this.createPetitBonhomme(),this.createCovid(),this.createCovid()],()=>[this.createWhisky(),this.createPatron(),this.createVaccin(),this.createCovid()],()=>[this.createPetitBonhomme(),this.createEnfants(),this.createVaccin(),this.createRacaille()],()=>[this.createVirginie()],()=>[this.createSandie()],()=>[this.createMilou()],()=>[this.createAlberge()],()=>[this.createIvoirien()],()=>[this.createMarie()]],this.enemyBucketTierTwo=[()=>[this.createCovid(),this.createVirginie(),this.createCovid()],()=>[this.createVieilleConnaissance(),this.createSandie(),this.createVieilleConnaissance()],()=>[this.createPetitBonhomme(),this.createMilou(),this.createRacaille()],()=>[this.createAlberge(),this.createEnfants(),this.createEnfants(),this.createEnfants()],()=>[this.createPatron(),this.createIvoirien(),this.createKaren()],()=>[this.createVaccin(),this.createMarie(),this.createCovid()]]}generateEnemies(t){let e;if(t.type===Ru.COMBAT_TIER_1){const n=this.enemyBucketTierOne;e=Gu(n,t.floor-2<0?0:t.floor-2,t.floor+2>n.length?n.length:t.floor+2)()}else t.type===Ru.COMBAT_TIER_2?e=Gu(this.enemyBucketTierTwo,0,this.enemyBucketTierTwo.length)():t.type===Ru.COMBAT_TIER_3&&(e=[this.createFrancis()]);return e}createRacaille(){let t=new Qu("Petite racaille",Mu.TIER_1,!1);return t.health=new Fu(24),t.stats$=new $u(4,0,48),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.INSULTE)),t}createPatron(){let t=new Qu("Patron lourd",Mu.TIER_1,!1);return t.health=new Fu(24),t.stats$=new $u(4,0,48),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.HEURES_SUPP)),t}createVieilleConnaissance(){let t=new Qu("Vieille connaissance",Mu.TIER_1,!1);return t.health=new Fu(28),t.stats$=new $u(4,0,48),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.REPROCHE)),t}createPetitBonhomme(){let t=new Qu("Petit Bonhomme",Mu.TIER_1,!1);return t.health=new Fu(42),t.stats$=new $u(5,0,39),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.POLICE)),t.spells.push(new qu(Ju.POELE)),t}createWhisky(){let t=new Qu("Bouteille de whisky",Mu.TIER_1,!1);return t.health=new Fu(58),t.stats$=new $u(5,0,39),t.spells.push(new qu(Ju.APPEL_IRRESISTIBLE)),t.spells.push(new qu(Ju.APERO_MINUTE)),t}createVaccin(){let t=new Qu("Vaccin",Mu.TIER_1,!1);return t.health=new Fu(40),t.stats$=new $u(6,0,40),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.INJECTION)),t}createCovid(){let t=new Qu("Covid",Mu.TIER_1,!1);return t.health=new Fu(36),t.stats$=new $u(6,6,36),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.DELTA)),t}createEnfants(){let t=new Qu("Enfant",Mu.TIER_1,!1);return t.health=new Fu(32),t.stats$=new $u(6,0,30),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.CRIS)),t}createKaren(){let t=new Qu("Karen",Mu.TIER_1,!1);return t.health=new Fu(43),t.stats$=new $u(4,0,36),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.MANAGER)),t}createVirginie(){let t=new Qu("Virginie",Mu.TIER_2,!1);return t.health=new Fu(240),t.stats$=new $u(14,0,33),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.MOBY_DICK)),t.spells.push(new qu(Ju.HAMBURGER)),t}createSandie(){let t=new Qu("Sandie",Mu.TIER_2,!1);return t.health=new Fu(235),t.stats$=new $u(11,5,32),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.INTERDICTION_SORTIE)),t.spells.push(new qu(Ju.TROMPERIE)),t}createIvoirien(){let t=new Qu("Ivoirien",Mu.TIER_2,!1);return t.health=new Fu(215),t.stats$=new $u(13,0,28),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.FAKE_PHOTO)),t.spells.push(new qu(Ju.SMILEY_COEUR)),t}createMilou(){let t=new Qu("Milou",Mu.TIER_2,!1);return t.health=new Fu(228),t.stats$=new $u(13,0,34),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.CLONE)),t.spells.push(new qu(Ju.PROTECTION)),t}createMarie(){let t=new Qu("Marie",Mu.TIER_2,!1);return t.health=new Fu(220),t.stats$=new $u(14,0,31),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.SEX_ADDICT)),t.spells.push(new qu(Ju.MYTHO)),t}createAlberge(){let t=new Qu("Mme Alberge",Mu.TIER_2,!1);return t.health=new Fu(310),t.stats$=new $u(15,0,42),t.spells.push(new qu(Ju.BASIC)),t.spells.push(new qu(Ju.CHEVEUX)),t.spells.push(new qu(Ju.CARTABLE_VIDE)),t}createFrancis(){let t=new Qu("Francis Lalane",Mu.TIER_3,!1);return t.health=new Fu(980),t.stats$=new $u(17,0,33),t.spells.push(new qu(Ju.COURSE_TRACTEUR)),t.spells.push(new qu(Ju.RUGISSEMENT)),t.spells.push(new qu(Ju.GAME_OF_THRONES)),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),om=(()=>{class t{constructor(t,e,n){this.es=t,this.characterService=e,this._router=n,this.actors$=new Uu([]),this.enemies=[],this.characterService.characters$.subscribe(t=>{this.characters=t})}set actors(t){this.actors$.next(t)}get actors(){return this.actors$.getValue()}resetCombat(){this.enemies=[],this.actors=[]}initCombat(t){0===this.characterService.characters.length&&this._router.navigate([""]),this.resetCombat(),this.enemies=this.es.generateEnemies(t),this.actors=this.characters.concat(this.enemies)}aiTurn(t){const e=this.getAiAvailableSpells(t);0===e.length&&console.log("No spells available on cooldown for: "+t);const n=e[Bu(0,e.length-1)],r={allies:this.getEnemies(),enemies:this.getAllies(),target:this.getAiTarget()};return n.timer=n.cooldown,new sm(t,r,n)}getAiAvailableSpells(t){let e=t.spells.filter(t=>0===t.timer);return e.some(t=>"Attaque"===t.name)&&e.length>1&&e.shift(),e}getAiTarget(){return Gu(this.getTauntActors(this.getAliveActors(this.getAllies())))}getTargetableAi(){return this.getTauntActors(this.getAliveActors(this.getEnemies()))}getTauntActors(t){let e=t.filter(t=>t.effects.some(t=>t.effect===Su.TAUNT));return e.length>0?e:t}getAliveActors(t){return t.filter(t=>!t.health.isDead)}getAllies(){return this.actors.filter(t=>t.possessed)}getEnemies(){return this.actors.filter(t=>!t.possessed)}isCombatWin(){return 0===this.getAliveActors(this.getEnemies()).length}}return t.\u0275fac=function(e){return new(e||t)(ir(im),ir($g),ir(Cg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),am=(()=>{class t{constructor(t,e){this._router=t,this.cs=e,this.mapSizeX=7,this.mapSizeY=17,this.map$=new Uu([]),this.typeBucket={shop:8,heal:12,event:17,elite:9,normal:53}}set map(t){this.map$.next(t)}get map(){return this.map$.getValue()}antiCheat(t){Vu(this.currentLevel)&&t.includes(this.currentLevel.type)||(console.error("N'ESSAYE PAS DE TRICHER ADRIEN!"),this._router.navigate(["map"])),0===this.cs.characters.length&&this._router.navigate([""])}setCurrentLevel(t){this.currentLevel=t,this.getSiblings(t).map(t=>t.unlocked=!1)}finished(){this.currentLevel.done=!0,zu.getInstance().stats.floorsClimbed++,this.currentLevel.parents.forEach(t=>{this.getRoomById(t).unlocked=!0})}generateMap(){0===this.map.length&&(this.map=this.emptyMap(),this.generateBoss(),this.generatePath(1),this.generatePath(3),this.generatePath(5),this.forcedTypes(),this.applyTypes())}getSiblings(t){return this.map[t.floor].filter(e=>e instanceof of&&e.id!==t.id)}forcedTypes(){let t=Math.floor(this.map.length/2),e=Math.floor(this.map.length/2)+1,n=this.map.length-2;this.map[t].forEach(t=>{Vu(t)&&(t.type=Ru.TREASURE)}),this.map[e].forEach(t=>{Vu(t)&&(t.type=Ru.SHOP)}),this.map[n].forEach(t=>{Vu(t)&&(t.type=Ru.HEAL)})}applyTypes(){let t=Math.floor(this.map.length/2),e=Math.floor(this.map.length/2)+1,n=this.map.length-2;this.map.forEach((r,s)=>{0!==s&&s!==t&&s!==e&&s!==n&&r.forEach((t,e)=>{t instanceof of&&void 0===t.type&&this.setTypeWithRules(s,e,t)})})}normalizeType(t){switch(t){case"shop":return Ru.SHOP;case"heal":return Ru.HEAL;case"event":return Ru.EVENT;case"elite":return Ru.COMBAT_TIER_2;case"normal":return Ru.COMBAT_TIER_1}}setTypeWithRules(t,e,n){let r=this.normalizeType(function(t){var e,n,r=[];for(e in t)for(n=0;n<1*t[e];n++)r.push(e);return r[Math.floor(Math.random()*r.length)]}(this.typeBucket));r!==Ru.SHOP&&r!==Ru.HEAL&&r!==Ru.COMBAT_TIER_2||n.parents.forEach(s=>{this.getRoomById(s).type!==r||this.setTypeWithRules(t,e,n)}),t<3&&r===Ru.SHOP||t<5&&(r===Ru.HEAL||r===Ru.COMBAT_TIER_2)?this.setTypeWithRules(t,e,n):t!==this.map.length-3||r!==Ru.HEAL?n.type=r:this.setTypeWithRules(t,e,n)}getRoomById(t){let e;return this.map.forEach(n=>{n.forEach(n=>{n instanceof of&&n.id===t&&(e=n)})}),e}generateBoss(){let t=new of(this.mapSizeY-1);t.type=Ru.COMBAT_TIER_3,this.getRandomCellOfFloor(this.mapSizeY-1),this.map[this.mapSizeY-1][3]=t}generatePath(t){let e=new of(0);e.type=Ru.COMBAT_TIER_1,e.unlocked=!0,this.map[0][t]=e;let n=t,r=1;for(;r<this.mapSizeY-1;){let t,s=this.getRandomCellOfFloor(r,n);t=null===this.map[r][s]?new of(r):this.map[r][s],this.map[r][s]=t,t.children.includes(e.id)||t.children.push(e.id),e.parents.includes(t.id)||e.parents.push(t.id),e=t,n=s,r===this.mapSizeY-2&&e.parents.push(this.map[this.mapSizeY-1][3].id),r++}}getRandomCellOfFloor(t,e){let n=0,r=this.map[t].length;return void 0!==e&&(n=e-1>=0?e-1:0,r=e+1<=this.mapSizeX-1?e+1:this.mapSizeX-1),Bu(n,r)}emptyMap(){let t=[];for(let e=0;e<this.mapSizeY;e++){let e=[];for(let t=0;t<this.mapSizeX;t++)e.push(null);t.push(e)}return t}}return t.\u0275fac=function(e){return new(e||t)(ir(Cg),ir($g))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cm(t,e){if(1&t&&(zi(0,"button"),mo(1),ji()),2&t){const t=Yi();cs(1),vo(t.text)}}function lm(t,e){if(1&t&&(zi(0,"span"),La(1,"damageType"),mo(2),La(3,"number"),ji()),2&t){const t=Yi().$implicit;yo("damage-",Ua(1,4,t.damageType),""),cs(2),bo(" (",za(3,6,t.damage,"1.0-0")," d\xe9g\xe2ts)")}}function um(t,e){1&t&&(zi(0,"span"),La(1,"damageType"),mo(2," (rat\xe9)"),ji()),2&t&&yo("damage-",Ua(1,3,Yi().$implicit.damageType),"")}function hm(t,e){1&t&&(zi(0,"span"),mo(1,", "),ji())}function dm(t,e){if(1&t&&(zi(0,"span"),zi(1,"strong",4),mo(2),ji(),Ri(3,lm,4,9,"span",9),Ri(4,um,3,5,"span",9),Ri(5,hm,2,0,"span",0),ji()),2&t){const t=e.$implicit,n=e.index,r=Yi(2).ngIf;cs(1),Li("civ-tooltip",t.target),cs(1),vo(t.target.name),cs(1),Li("ngIf",t.damage>0),cs(1),Li("ngIf",0===t.damage),cs(1),Li("ngIf",n<r.spell.damages.length-1)}}function pm(t,e){if(1&t&&(zi(0,"span",7),mo(1," sur "),Ri(2,dm,6,5,"span",8),ji()),2&t){const t=Yi().ngIf;cs(2),Li("ngForOf",t.spell.damages)}}function gm(t,e){if(1&t&&(zi(0,"div",2),qi(1,"char-deco",3),zi(2,"strong",4),mo(3),ji(),mo(4," a lanc\xe9 "),zi(5,"strong",5),mo(6),ji(),Ri(7,pm,3,1,"span",6),ji()),2&t){const t=e.ngIf;cs(1),Ai("character",t.actor.name)("big",!0),cs(1),Li("civ-tooltip",t.actor),cs(1),vo(t.actor.name),cs(2),Li("civ-tooltip",t.spell.spellDescription)("civ-tooltip-owner",t.actor),cs(1),bo("",t.spell.spellDescription.name," "),cs(1),Li("ngIf",(null==t.spell.damages?null:t.spell.damages.length)>0)}}let fm=(()=>{class t{constructor(){this.begin=new $a,this.endPlayerTurn=new $a,this.endGame=new $a,this.getLoot=new $a}emitAction(){this.mode===Au.BEGIN&&this.begin.emit(),this.mode===Au.PLAYER_TURN&&this.endPlayerTurn.emit(),this.mode===Au.LOST&&this.endGame.emit(),this.mode===Au.WIN&&this.getLoot.emit()}get text(){switch(this.mode){case Au.BEGIN:return"Commencer";case Au.WAITING:return"En attente du prochain tour...";case Au.AI_TURN:return"Attaque de l'ennemi";case Au.PLAYER_TURN:return"";case Au.LOST:return"Fin de partie";case Au.WIN:return"R\xe9cup\xe9rer les r\xe9compenses"}}get lastItem(){return this.log[0]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-next-turn-button"]],hostBindings:function(t,e){1&t&&Hi("click",function(){return e.emitAction()})},inputs:{mode:"mode",log:"log",forbidden:"forbidden"},outputs:{begin:"begin",endPlayerTurn:"endPlayerTurn",endGame:"endGame",getLoot:"getLoot"},decls:2,vars:2,consts:[[4,"ngIf"],["class","log",4,"ngIf"],[1,"log"],[1,"caster"],[1,"actor-name",3,"civ-tooltip"],[1,"spell-decorator",3,"civ-tooltip","civ-tooltip-owner"],["class","damage-instances",4,"ngIf"],[1,"damage-instances"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(Ri(0,cm,2,1,"button",0),Ri(1,gm,8,8,"div",1)),2&t&&(Li("ngIf",e.mode>2),cs(1),Li("ngIf",e.lastItem))},directives:[Ul,Vg,Uf,Dl],pipes:[df,Fl],styles:['[_nghost-%COMP%]{font-size:13px;filter:drop-shadow(0 0 36px black);display:flex;align-items:center;justify-content:center;position:absolute;width:100vw;height:100vh;top:0;left:0;z-index:1}[_nghost-%COMP%]   .log[_ngcontent-%COMP%]{position:fixed;top:20%;text-align:center;padding:59px 80px;max-width:550px;filter:drop-shadow(0 0 36px black)}[_nghost-%COMP%]   .log[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .log[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .log[_ngcontent-%COMP%]   .caster[_ngcontent-%COMP%]{position:absolute;top:0;left:-40px}[_nghost-%COMP%]   .log[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{position:absolute;top:0;right:-40px}[_nghost-%COMP%]   .log[_ngcontent-%COMP%]   .actor-name[_ngcontent-%COMP%]{font-weight:700}']}),t})();const mm=["*"];let vm=(()=>{class t{constructor(){this.color="black"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-progress-bar"]],inputs:{max:"max",current:"current",color:"color"},ngContentSelectors:mm,decls:2,vars:4,consts:[[1,"bar"]],template:function(t,e){1&t&&(Xi(),qi(0,"div",0),Ki(1)),2&t&&ro("background-color",e.color)("width",e.current/e.max*100+"%")},styles:["[_nghost-%COMP%]{display:block;border-radius:4px;border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;padding:1px;background:#362d24}.bar[_ngcontent-%COMP%]{transition:width .1s linear;height:100%;border-radius:2px;box-shadow:inset 0 1px 3px 0 #ffffff59}"]}),t})();function bm(t,e){if(1&t&&(zi(0,"span",2),mo(1),ji()),2&t){const t=Yi(2);cs(1),bo(" ",null==t.effect?null:t.effect.stacks,"")}}function _m(t,e){if(1&t&&(zi(0,"span"),Ri(1,bm,2,1,"span",1),ji()),2&t){const t=Yi();cs(1),Li("ngIf","INTENSITY"===t.effect.stackType)}}let ym=(()=>{class t{constructor(){this.simpleIcon=!0}ngOnInit(){this.effect instanceof cf&&(this.simpleIcon=!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-effects"]],inputs:{effect:"effect"},decls:1,vars:1,consts:[[4,"ngIf"],["class","value",4,"ngIf"],[1,"value"]],template:function(t,e){1&t&&Ri(0,_m,2,1,"span",0),2&t&&Li("ngIf",!e.simpleIcon)},directives:[Ul],styles:["[_nghost-%COMP%]{display:inline-block;width:20px;height:20px;background-repeat:no-repeat;background-size:cover;position:relative;filter:drop-shadow(0 0 8px black)}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;bottom:-8px;left:1px;font-weight:700;color:#fff}.effect-POISON[_nghost-%COMP%]{background-image:url(poison.41c6cf733bc015b998da.png)}.effect-STUN[_nghost-%COMP%]{background-image:url(stun.b0246ec4434485da0a78.png)}.effect-UP_DODGE[_nghost-%COMP%]{background-image:url(up_dodge.1d73586b3c98fe3a7c4c.png)}.effect-DOWN_DODGE[_nghost-%COMP%]{background-image:url(down_dodge.4f19902e6427d58c282c.png)}.effect-UP_CRIT[_nghost-%COMP%]{background-image:url(up_crit.4e912a68b8b1030bce33.png)}.effect-UP_CRIT_DMG[_nghost-%COMP%]{background-image:url(up_crit-dmg.beaa30313e1df7351466.png)}.effect-UP_AP[_nghost-%COMP%]{background-image:url(up_ap.6025f201afa84af1a4ab.png)}.effect-DOWN_AP[_nghost-%COMP%]{background-image:url(down_ap.d82c202f851456bb685f.png)}.effect-UP_AD[_nghost-%COMP%]{background-image:url(up_ad.12f2f9a60aa9e192a202.png)}.effect-DOWN_AD[_nghost-%COMP%]{background-image:url(down_ad.5c060a0842cedbbfd76c.png)}.effect-TAUNT[_nghost-%COMP%]{background-image:url(taunt.10d253c86639b7dabe8c.png)}"]}),t})();function wm(t,e){if(1&t&&qi(0,"civ-progress-bar",9),2&t){const t=Yi();Li("color","#4d8bd9")("current",t.getTurnProgress())("max",t.getNextTurn())}}function Cm(t,e){1&t&&(zi(0,"span"),mo(1,"Mort"),ji())}function Om(t,e){if(1&t&&qi(0,"civ-effects",10),2&t){const t=e.$implicit;yo("square-wrapper effect-",t.effect,""),Li("effect",t)("civ-tooltip",t)}}let xm=(()=>{class t{constructor(t){this.queueService=t,this.played=0}get isTarget$(){return this.isTarget}get isDead(){return this.character.health.isDead}get possessed(){return this.character.possessed}ngOnInit(){this.queueSub=this.queueService.queue$.subscribe(t=>this.queue=t),this.turnSub=this.queueService.currentTurn$.subscribe(t=>this.currentTurn=t)}ngOnDestroy(){this.queueSub.unsubscribe(),this.turnSub.unsubscribe()}getTurnProgress(){let t=this.queue.find(t=>t.actor.id===this.character.id).played*this.character.stats.speed;return this.currentTurn-t}getNextTurn(){let t=this.queue.find(t=>t.actor.id===this.character.id).played*this.character.stats.speed;return this.queue.find(t=>t.actor.id===this.character.id).nextTurn-t}}return t.\u0275fac=function(e){return new(e||t)(Di(rm))},t.\u0275cmp=Ft({type:t,selectors:[["civ-item-characters"]],hostVars:6,hostBindings:function(t,e){2&t&&so("target",e.isTarget$)("dead",e.isDead)("possessed",e.possessed)},inputs:{character:"character",isTarget:"isTarget"},decls:13,vars:16,consts:[[1,"avatar"],[1,"combat-info"],[1,"name"],[1,"health-points",3,"current","color","max"],[1,"health"],["class","speed",3,"color","current","max",4,"ngIf"],[4,"ngIf"],[1,"effect-list"],[3,"class","effect","civ-tooltip",4,"ngFor","ngForOf"],[1,"speed",3,"color","current","max"],[3,"effect","civ-tooltip"]],template:function(t,e){1&t&&(zi(0,"div",0),qi(1,"char-deco"),ji(),zi(2,"div",1),zi(3,"strong",2),mo(4),ji(),zi(5,"civ-progress-bar",3),zi(6,"strong",4),mo(7),La(8,"number"),ji(),ji(),Ri(9,wm,1,3,"civ-progress-bar",5),Ri(10,Cm,2,0,"span",6),zi(11,"div",7),Ri(12,Om,1,5,"civ-effects",8),ji(),ji()),2&t&&(cs(1),so("ai",!e.character.possessed),Ai("character",e.character.name)("big",!0),cs(3),vo(e.character.name),cs(1),Li("current",e.character.health.current)("color","#eb4444")("max",e.character.health.max),cs(2),_o("",za(8,13,e.character.health.current,"1.0-0"),"/",e.character.health.max,""),cs(2),Li("ngIf",!e.character.health.isDead),cs(1),Li("ngIf",e.character.health.isDead),cs(2),Li("ngForOf",e.character.effects))},directives:[Vg,vm,Ul,Dl,ym,Uf],pipes:[Fl],styles:["[_nghost-%COMP%]{display:block;transition:all .2s cubic-bezier(.17,.67,.3,.97);position:relative;margin:15px 30px}[_nghost-%COMP%]:hover   char-deco[_ngcontent-%COMP%]{filter:brightness(1.5)}.turn[_nghost-%COMP%]{filter:drop-shadow(0 0 20px #fffeac)}.target[_nghost-%COMP%]{filter:drop-shadow(0 0 20px #eb5959)}.dead[_nghost-%COMP%]{pointer-events:none;opacity:.5}.dead[_nghost-%COMP%]   .avatar[_ngcontent-%COMP%]{transition-duration:1.5s;transform:rotate(90deg) translate(-14px,-80px)}.name[_ngcontent-%COMP%]{font-family:Bangers,cursive;display:block;color:#fff;font-size:17px;padding:2px 8px 6px;white-space:nowrap;top:-24px;left:50%;transform:translateX(-50%);border-radius:5px;min-width:75%;text-align:center;position:absolute;filter:drop-shadow(0 0 5px black)}.combat-info[_ngcontent-%COMP%]{position:absolute;left:-15px;right:-15px;bottom:-15px}.effect-list[_ngcontent-%COMP%]{position:absolute;top:34px}.health-points[_ngcontent-%COMP%]{height:12px;position:relative;z-index:8}.health-points[_ngcontent-%COMP%]   .health[_ngcontent-%COMP%]{color:#fff;position:absolute;left:0;right:0;text-align:center;top:-1px;font-size:11px;font-size:9px;font-weight:700;text-shadow:0 1px 0 #bb9d77,1px 0 0 #bb9d77,0 -1px 0 #bb9d77,-1px 0 0 #bb9d77}.speed[_ngcontent-%COMP%]{margin:auto;height:3px;border-top-left-radius:0;border-top-right-radius:0;width:80%;z-index:0;top:-1px}"]}),t})(),Pm=(()=>{class t{constructor(){}get isPlayingDecoration(){return this.isPlaying}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["","current-turn",""]],hostVars:2,hostBindings:function(t,e){2&t&&so("turn",e.isPlayingDecoration)},inputs:{isPlaying:["current-turn","isPlaying"]}}),t})();function Em(t,e){if(1&t&&(zi(0,"span",2),mo(1),ji()),2&t){const t=Yi();cs(1),vo(t.spell.timer)}}let Tm=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-spell-item"]],inputs:{spell:"spell"},decls:2,vars:2,consts:[[3,"spell"],["class","cooldown",4,"ngIf"],[1,"cooldown"]],template:function(t,e){1&t&&(qi(0,"civ-spells",0),Ri(1,Em,2,1,"span",1)),2&t&&(Li("spell",e.spell),cs(1),Li("ngIf",e.spell.timer>0))},directives:[Bg,Ul],styles:["[_nghost-%COMP%]{display:block;width:50px;height:50px;border-radius:5px;margin-left:6px;cursor:pointer;transition:all .2s cubic-bezier(.17,.67,.3,.97);border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;padding:1px;background:#362d24}[_nghost-%COMP%]:hover{filter:brightness(150%)}[_nghost-%COMP%]:active{filter:brightness(50%)}.disabled[_nghost-%COMP%]   civ-spells[_ngcontent-%COMP%]{filter:saturate(.2) brightness(.3)}[_nghost-%COMP%]   .cooldown[_ngcontent-%COMP%]{position:absolute;top:1px;left:1px;display:flex;justify-content:center;align-items:center;font-family:Bangers,cursive;color:#fff;width:50px;height:50px;z-index:5;font-size:28px;text-shadow:0 1px 0 #bb9d77,1px 0 0 #bb9d77,0 -1px 0 #bb9d77,-1px 0 0 #bb9d77}"]}),t})();function Mm(t,e){if(1&t){const t=Fi();zi(0,"civ-spell-item",2),Hi("click",function(){Ie(t);const e=Yi().$implicit;return Yi().launchSpell(e)}),ji()}if(2&t){const t=Yi().$implicit,e=Yi();so("disabled",t.timer>0),Li("spell",t)("civ-tooltip",t)("civ-tooltip-owner",e.actor)}}function Sm(t,e){if(1&t&&(zi(0,"div"),Ri(1,Mm,1,5,"civ-spell-item",1),ji()),2&t){const t=e.$implicit;cs(1),Li("ngIf",t.unlocked)}}let Im=(()=>{class t{constructor(){this.damageDone=new $a}ngOnInit(){}launchSpell(t){if(0===t.timer){const e=new sm(this.actor,{allies:this.allies,enemies:this.enemies,target:this.target},t);this.damageDone.emit(e)}else console.error("spell on cooldown")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-spell-list"]],inputs:{actor:"actor",allies:"allies",enemies:"enemies",target:"target"},outputs:{damageDone:"damageDone"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"disabled","spell","civ-tooltip","civ-tooltip-owner","click",4,"ngIf"],[3,"spell","civ-tooltip","civ-tooltip-owner","click"]],template:function(t,e){1&t&&Ri(0,Sm,2,1,"div",0),2&t&&Li("ngForOf",e.actor.spells)},directives:[Dl,Ul,Tm,Uf],styles:["[_nghost-%COMP%]{display:flex;justify-content:center}button[_ngcontent-%COMP%]{width:60px;height:60px}"]}),t})();const km=["lootContainer"];function Am(t,e){if(1&t){const t=Fi();zi(0,"civ-item-characters",10),Hi("click",function(){const e=Ie(t).$implicit;return Yi().setTarget(e)}),qi(1,"div",null,11),ji()}if(2&t){const t=e.$implicit,n=e.index,r=Yi();yo("slot-",n,""),Li("damageAnimation",t.id)("damageDisplay",t.id)("current-turn",(null==r.actorTurn?null:r.actorTurn.id)===t.id)("character",t)("isTarget",(null==r.target?null:r.target.id)===t.id)("civ-tooltip",t)}}function Nm(t,e){if(1&t){const t=Fi();zi(0,"civ-item-characters",10),Hi("click",function(){const e=Ie(t).$implicit;return Yi().setTarget(e)}),qi(1,"div",null,11),ji()}if(2&t){const t=e.$implicit,n=Yi();Li("damageAnimation",t.id)("damageDisplay",t.id)("current-turn",(null==n.actorTurn?null:n.actorTurn.id)===t.id)("character",t)("isTarget",(null==n.target?null:n.target.id)===t.id)("civ-tooltip",t)}}function Rm(t,e){if(1&t){const t=Fi();zi(0,"civ-spell-list",18),Hi("damageDone",function(e){return Ie(t),Yi(2).endPlayerTurn(e)}),ji()}if(2&t){const t=Yi(2);Li("actor",t.actorTurn)("target",t.target)("allies",t.getAllies())("enemies",t.getEnemies())}}function Dm(t,e){if(1&t&&(zi(0,"div",12),qi(1,"char-deco"),qi(2,"civ-progress-bar",13),zi(3,"div",14),zi(4,"div",15),Ri(5,Rm,1,4,"civ-spell-list",16),ji(),zi(6,"div",17),mo(7),ji(),ji(),ji()),2&t){const t=Yi();cs(1),Ai("character",t.actorTurn.name)("big",!0),cs(1),Li("current",t.actorTurn.health.current)("max",t.actorTurn.health.max)("color","#eb4444"),cs(3),Li("ngIf",2===t.mode),cs(2),vo(t.actorTurn.name)}}function Lm(t,e){1&t&&(zi(0,"div",19),mo(1,"vs"),ji())}function Um(t,e){if(1&t&&qi(0,"civ-spells",23),2&t){const t=e.$implicit,n=Yi(2);Li("spell",t)("civ-tooltip",t)("civ-tooltip-owner",n.target)}}function zm(t,e){if(1&t&&(zi(0,"div",20),qi(1,"char-deco"),qi(2,"civ-progress-bar",13),zi(3,"div",14),zi(4,"div",21),Ri(5,Um,1,3,"civ-spells",22),ji(),zi(6,"div",17),mo(7),ji(),ji(),ji()),2&t){const t=Yi();cs(1),Ai("character",t.target.name)("big",!0),cs(1),Li("current",t.target.health.current)("max",t.target.health.max)("color","#eb4444"),cs(3),Li("ngForOf",t.target.spells),cs(2),vo(t.target.name)}}let jm=(()=>{class t{constructor(t,e,n,r,s,i,o){this.scoreService=t,this.queue=e,this.combatService=n,this._router=r,this.ms=s,this.cs=i,this.cfs=o,this.combatLog=[],this.mode$=Au.BEGIN}get mode(){return this.mode$}set mode(t){this.mode$=t,t===Au.WIN&&this.getLoot(),t===Au.WAITING&&this.selectNextActorTurn(),t===Au.AI_TURN&&this.launchAiAttack()}ngOnInit(){this.ms.antiCheat([Ru.COMBAT_TIER_1,Ru.COMBAT_TIER_2,Ru.COMBAT_TIER_3]),this.actorSubscription=this.combatService.actors$.subscribe(t=>this.actors=t),this.combatService.initCombat(this.ms.currentLevel),this.queue.createQueue(this.actors)}ngOnDestroy(){this.actorSubscription.unsubscribe()}beginCombat(){this.mode===Au.BEGIN&&(this.mode=Au.WAITING)}selectNextActorTurn(){this.cs.isPartyDead()&&this._router.navigate(["end"]),this.setTarget(this.target),this.queue.findNextActorTurn(t=>{this.actorTurn=t,this.actorTurn.runCooldowns(),setTimeout(()=>{this.applyDamages(this.actorTurn.runDots()),this.setCombatMode()},this.actorTurn.possessed?1:1e3)})}launchAiAttack(){this.abstractTurn(this.combatService.aiTurn(this.actorTurn))}endPlayerTurn(t){this.abstractTurn(t)}abstractTurn(t){this.populateLog(t),this.invoke(t.invocations),this.applyHeals(t.heals),this.applyDamages(t.damages),this.setCombatMode()}invoke(t){(null!=t?t:[]).forEach(t=>{this.actors.push(t),this.queue.addActor(t)})}applyDamages(t){(null!=t?t:[]).forEach((t,e)=>{t.applyDamage()&&this.queue.removeActorFromQueue(t.target),this.animateActor(t),this.createDamageView(t)})}applyHeals(t){(null!=t?t:[]).forEach(t=>{t.applyHeal(),this.animateActor(t),this.createDamageView(t)})}populateLog(t){this.combatLog.unshift({actor:this.actorTurn,spell:t})}animateActor(t){let e=this.animatedActors.toArray(),n=e.find(e=>e.id===t.caster.id),r=e.find(e=>e.id===t.target.id);t instanceof af&&(t.damageType!==ku.DOT&&n.animateHit(t),r.animateHurt(t)),t instanceof Qf&&(n.animateHealing(),r.animateHealed())}createDamageView(t){this.actorCards.toArray().find(e=>e.id===t.target.id).displayDamage(t)}setCombatMode(){if(this.combatService.isCombatWin())this.mode=Au.WIN;else{if(this.mode!==Au.AI_TURN&&this.mode!==Au.PLAYER_TURN)return this.actorTurn.isIncapacitated()?(this.mode=Au.WAITING,void this.actorTurn.runCooldowns()):this.actorTurn.possessed?void(this.mode=Au.PLAYER_TURN):void(this.mode=Au.AI_TURN);this.mode=Au.WAITING}}getLoot(){setTimeout(()=>{this.ms.currentLevel.type===Ru.COMBAT_TIER_1?this._router.navigate(["loot"]):this.ms.currentLevel.type===Ru.COMBAT_TIER_2?this._router.navigate(["treasure"]):this.ms.currentLevel.type===Ru.COMBAT_TIER_3&&(this.ms.finished(),this._router.navigate(["end"]))},1e3)}getAllies(){return this.combatService.getAllies()}getEnemies(){return this.combatService.getEnemies()}setTarget(t){let e=this.combatService.getTargetableAi();this.target=Vu(this.target)&&e.some(e=>e.id===t.id)?t:Gu(e)}}return t.\u0275fac=function(e){return new(e||t)(Di(zu),Di(rm),Di(om),Di(Cg),Di(am),Di($g),Di(Lf))},t.\u0275cmp=Ft({type:t,selectors:[["civ-combat"]],viewQuery:function(t,e){if(1&t&&(ec(km,5,ya),ec(nm,5),ec(Zf,5)),2&t){let t;tc(t=nc())&&(e.lootContainer=t.first),tc(t=nc())&&(e.actorCards=t),tc(t=nc())&&(e.animatedActors=t)}},decls:10,vars:7,consts:[[1,"flex","center-align","combat-viewport"],[1,"allies","flex"],[3,"class","damageAnimation","damageDisplay","current-turn","character","isTarget","civ-tooltip","click",4,"ngFor","ngForOf"],[3,"log","mode","nextActorTurn","begin","getLoot"],[1,"enemies","flex"],[3,"damageAnimation","damageDisplay","current-turn","character","isTarget","civ-tooltip","click",4,"ngFor","ngForOf"],[1,"actions","flex"],["class","turn",4,"ngIf"],["class","versus",4,"ngIf"],["class","target",4,"ngIf"],[3,"damageAnimation","damageDisplay","current-turn","character","isTarget","civ-tooltip","click"],["damage",""],[1,"turn"],[3,"current","max","color"],[1,"turn-wrapper"],[1,"flex"],[3,"actor","target","allies","enemies","damageDone",4,"ngIf"],[1,"text"],[3,"actor","target","allies","enemies","damageDone"],[1,"versus"],[1,"target"],[1,"flex","row-reverse"],["class","square-wrapper",3,"spell","civ-tooltip","civ-tooltip-owner",4,"ngFor","ngForOf"],[1,"square-wrapper",3,"spell","civ-tooltip","civ-tooltip-owner"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),Ri(2,Am,3,9,"civ-item-characters",2),ji(),zi(3,"civ-next-turn-button",3),Hi("nextActorTurn",function(){return e.selectNextActorTurn()})("begin",function(){return e.beginCombat()})("getLoot",function(){return e.getLoot()}),ji(),zi(4,"div",4),Ri(5,Nm,3,6,"civ-item-characters",5),ji(),ji(),zi(6,"div",6),Ri(7,Dm,8,7,"div",7),Ri(8,Lm,2,0,"div",8),Ri(9,zm,8,7,"div",9),ji()),2&t&&(cs(2),Li("ngForOf",e.getAllies()),cs(1),Li("log",e.combatLog)("mode",e.mode),cs(2),Li("ngForOf",e.getEnemies()),cs(2),Li("ngIf",e.actorTurn&&e.actorTurn.possessed&&2===e.mode),cs(1),Li("ngIf",2===e.mode),cs(1),Li("ngIf",e.target&&2===e.mode))},directives:[Dl,fm,Ul,xm,Zf,nm,Pm,Uf,Vg,vm,Im,Bg],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:space-around;z-index:100}[_nghost-%COMP%]   .current-turn[_ngcontent-%COMP%]{border:1px solid #000}[_nghost-%COMP%]   .combat-viewport[_ngcontent-%COMP%]{width:100vw;height:65vh;justify-content:space-around}[_nghost-%COMP%]   .combat-viewport[_ngcontent-%COMP%]   .allies[_ngcontent-%COMP%], [_nghost-%COMP%]   .combat-viewport[_ngcontent-%COMP%]   .enemies[_ngcontent-%COMP%]{padding:50px;position:relative;height:100%;display:flex;flex-direction:column;flex-wrap:wrap;align-items:center;justify-content:space-around;z-index:3}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{justify-content:center;align-items:center;position:absolute;bottom:30px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .versus[_ngcontent-%COMP%]{color:#fff;filter:drop-shadow(0 0 8px black);font-size:30px;font-family:Bangers,cursive}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   char-deco[_ngcontent-%COMP%]{position:absolute;left:-60px;z-index:3;top:-40px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   civ-progress-bar[_ngcontent-%COMP%]{position:absolute;height:10px;top:-13px;left:-25px;width:90%}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .turn-wrapper[_ngcontent-%COMP%]{border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;background:#7e6042;z-index:2;position:relative;border-radius:5px;padding:5px 5px 5px 20px;display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .turn-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#1d150c;font-size:20px;font-family:Bangers,cursive;padding:0 20px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   .turn-wrapper[_ngcontent-%COMP%]{padding-right:20px;padding-left:0;flex-direction:row-reverse}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   char-deco[_ngcontent-%COMP%]{right:-60px;left:auto;transform:scaleX(-1)}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   civ-progress-bar[_ngcontent-%COMP%]{right:-25px;left:auto}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   civ-spells[_ngcontent-%COMP%]{margin-left:5px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   civ-spells[_ngcontent-%COMP%]:hover{filter:none;cursor:normal}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%], [_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   .turn[_ngcontent-%COMP%]{margin:0 80px;position:relative;min-width:200px}"]}),t})(),qm=(()=>{class t{constructor(t,e){this.renderer=t,this.el=e}ngOnInit(){}drawLine(t){const e=this.el.nativeElement.getBoundingClientRect(),n=t.el.nativeElement.getBoundingClientRect();let r=this.renderer.createElement("div");this.renderer.addClass(r,"line"),this.renderer.appendChild(this.el.nativeElement,r);let s=e.x,i=e.y,o=n.x,a=n.y,c=s-o,l=i-a,u=Math.sqrt(c*c+l*l),h=180*Math.atan2(a-i,o-s)/Math.PI,d=e.width/2;this.renderer.setStyle(r,"width",u+"px"),this.renderer.setStyle(r,"left",s+d+"px"),this.renderer.setStyle(r,"top",i+50+"px"),this.renderer.setStyle(r,"transform","rotate("+h+"deg)")}}return t.\u0275fac=function(e){return new(e||t)(Di(jo),Di(Lo))},t.\u0275dir=Yt({type:t,selectors:[["","mapNode",""]],inputs:{node:["mapNode","node"]}}),t})(),Fm=(()=>{class t{constructor(){this.currency$=new Uu(0),this.maxSpells=6,this.maxEquipments=3,this.maxCharacter=1}set currency(t){this.currency$.next(t)}get currency(){return this.currency$.getValue()}generateEquipmentShop(t){let e;return e=t.length<this.maxEquipments?t:Yu(t,this.maxEquipments),this.currentNumberInShop+=e.length,this.anyToShopItem(e)}generateSpellShop(t){let e;return e=t.length<this.maxSpells?t:Yu(t,this.maxSpells),this.currentNumberInShop+=e.length,this.anyToShopItem(e)}generateCharacterShop(t){let e;return e=t.length<this.maxCharacter?t:Yu(t,this.maxCharacter),e}anyToShopItem(t){let e=[];return t.forEach(t=>{e.push({sold:!1,item:t})}),e}addCurrency(t){zu.getInstance().stats.goldAcquired+=t,this.currency+=t}removeCurrency(t){zu.getInstance().stats.goldSpent+=t,this.currency-=t,this.currency<0&&(this.currency=0)}hasEnough(t){return t<=this.currency}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $m=[{owners:[Du.CLEMENT],title:"Beauty San\xe9",description:"Cl\xe9ment se permet de prendre une petite collation avant de continuer l'aventure. Choisissez votre mixture:",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Soupe indienne",text:()=>"Cl\xe9ment est soign\xe9 \xe0 100%",reward:(t,e)=>{t.getCharacterByName(Du.CLEMENT).health.heal(1e3)}},{name:"Collag\xe8ne marin",text:()=>"Cl\xe9ment gagne 10 points de vie maximum",reward:(t,e)=>{const n=t.getCharacterByName(Du.CLEMENT);n.health.heal(10),n.health.max+=10}},{name:"Vitamines D3",text:()=>"Cl\xe9ment apprend Entra\xeenement\n        mais perd 50% points de vie",reward:(t,e)=>{const n=t.getCharacterByName(Du.CLEMENT);n.spells.find(t=>t.name===Ju.TRAINING.name).unlocked=!0,n.health.current=Math.round(n.health.current/2)},condition:t=>!t.getCharacterByName(Du.CLEMENT).hasSpell(Ju.TRAINING)}]},{owners:[Du.CLEMENT],title:"Match important",description:"La coupe de France a commenc\xe9, un match important pour Cl\xe9ment s'annonce.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Jouer le match",text:()=>"Cl\xe9ment perd  10 points de vie. Vous gagnez 40 euros.",reward:(t,e)=>{t.getCharacterByName(Du.CLEMENT).health.hurt(10),e.addCurrency(10)}},{name:"Inventer une excuse",text:()=>"Cl\xe9ment r\xe9cup\xe8re 10 points de vie. Vous perdez 40 euros.",reward:(t,e)=>{t.getCharacterByName(Du.CLEMENT).health.heal(10),e.removeCurrency(10)},condition:(t,e)=>e.hasEnough(10)},{name:"Inviter les amis \xe0 voir le match",text:()=>"Rien ne se passe",reward:(t,e)=>{}}]},{owners:[Du.COSTY],title:"Partie Blitz",description:"Costy lance une partie Blitz sur son t\xe9l\xe9phone.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Ouverture Queens Gambit",text:()=>"Costy apprend Noob maisperd 50% points de vie",reward:(t,e)=>{const n=t.getCharacterByName(Du.COSTY);n.spells.find(t=>t.name===Ju.NOOB.name).unlocked=!0,n.health.current=Math.round(n.health.current/2)},condition:t=>!t.getCharacterByName(Du.COSTY).hasSpell(Ju.NOOB)},{name:"Ouverture Londonienne",text:()=>"Costy gagne 10% d'esquive mais perd 3 attaque",reward:(t,e)=>{const n=t.getCharacterByName(Du.COSTY);n.stats$.dodge+=10,n.stats$.attack-=3}},{name:"Ouverture Ruy Lopez",text:()=>"Costy gagne 5 d'attaque mais perd 5% esquive",reward:(t,e)=>{const n=t.getCharacterByName(Du.COSTY);n.stats$.dodge-=5,n.stats$.attack+=5}}]},{owners:[Du.COSTY],title:"Message priv\xe9",description:"Costy envoie un message priv\xe9 \xe0 un de ses amis pour lui demander de rejoindre l'aventure.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name))&&t.length<6,choices:[{name:'"Un p\'tit Lol?"',text:()=>"Demande \xe0 Quentin de rejoindre le groupe",reward:(t,e)=>{t.addCharacter(Du.QUENTIN)},condition:t=>!t.isInParty(Du.QUENTIN)},{name:"Chaud pour un d\xe9vers?",text:()=>"Demande \xe0 Adrien de rejoindre le groupe",reward:(t,e)=>{t.addCharacter(Du.ADRIEN)},condition:t=>!t.isInParty(Du.ADRIEN)},{name:"On se rejoint \xe0 Intermarch\xe9?",text:()=>"Demande \xe0 Lo\xefc de rejoindre le groupe",reward:(t,e)=>{t.addCharacter(Du.LOIC)},condition:t=>!t.isInParty(Du.LOIC)},{name:"Thauvin est l\xe0, tu viens?",text:()=>"Demande \xe0 Kevin de rejoindre le groupe",reward:(t,e)=>{t.addCharacter(Du.KEVIN)},condition:t=>!t.isInParty(Du.KEVIN)},{name:"Oui Cl\xe9ment, je suis toujours c\xe9libataire....",text:()=>"Demande \xe0 Cl\xe9ment de rejoindre le groupe",reward:(t,e)=>{t.addCharacter(Du.CLEMENT)},condition:t=>!t.isInParty(Du.CLEMENT)}]},{owners:[Du.KEVIN],title:"Jam musical",description:"Kevin passe une bonne soir\xe9e \xe0 pr\xe9parer une musique \xe0 faire \xe9couter aux copains.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Rap",text:()=>"Tous le monde gagne 7 PV Max",reward:(t,e)=>{t.characters.forEach(t=>{t.health.heal(7),t.health.max+=7})}},{name:"Electro",text:()=>"Tout le monde gagne 3 attaque",reward:(t,e)=>{t.characters.forEach(t=>{t.stats$.attack+=3})}},{name:"Chill",text:()=>"Tout le monde gagne 3 puissances",reward:(t,e)=>{t.characters.forEach(t=>{t.stats$.power+=3})}}]},{owners:[Du.KEVIN],title:"Barbecue",description:"Kevin invite tout le monde \xe0 un barbecue chez lui. Le long trajet et les projets d'alcol\xe9mie pousse \xe0 faire des choix.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Dormir sur place",text:()=>"Tout le monde est soign\xe9 de 20 PV mais vous perdez 80 euros",reward:(t,e)=>{e.removeCurrency(80),t.characters.forEach(t=>{t.health.heal(20)})},condition:(t,e)=>e.hasEnough(80)},{name:"Rentrer quand m\xeame",text:()=>"Vous gagnez 80 euros mais tout le monde perd 10 PV",reward:(t,e)=>{e.addCurrency(80),t.characters.forEach(t=>{t.health.hurt(10)})}},{name:"Ne pas y aller",text:()=>"Rien ne se passe",reward:(t,e)=>{}}]},{owners:[Du.ADRIEN],title:"Venue bimensuelle",description:"Adrien vient sur la r\xe9gion et une soir\xe9e s'organise, l'occasion de r\xe9cup\xe9rer certains aventuriers perdus au combat.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Pr\xe9venir tout le monde",text:()=>"R\xe9anime tous les personnages mort pour 120 euros",reward:(t,e)=>{t.getDeadActors().forEach(t=>t.health.ressucitate()),e.removeCurrency(120)},condition:(t,e)=>e.hasEnough(120)&&t.getDeadActors().length>0},{name:"Pr\xe9venir personne",text:()=>"Le trajet vous co\xfbte quand m\xeame 30 euros",reward:(t,e)=>{e.removeCurrency(30)}}]},{owners:[Du.ADRIEN],title:"Clients nombreux",description:"Les affaires de Adrien vont bon train et beaucoup de clients sonnent \xe0 la porte.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Accepter tous les projets",text:()=>"Vous gagnez 150 euros mais Adrien perd 10 PV max",reward:(t,e)=>{const n=t.getCharacterByName(Du.ADRIEN);n.health.max-=10,n.health.current>n.health.max&&(n.health.current=n.health.max),e.addCurrency(150)}},{name:"Accepter juste une partie",text:()=>"Vous gagnez 100 euros mais Adrien perd 30% de ses PV actuels",reward:(t,e)=>{const n=t.getCharacterByName(Du.ADRIEN);n.health.current=.3*n.health.current,e.addCurrency(100)}},{name:"En accepter aucun",text:()=>"Rien ne se passe",reward:(t,e)=>{}}]},{owners:[Du.LOIC],title:"F\xeate forraine",description:"Une f\xeate forraine a lieu dans les environs, Lo\xefc d\xe9cide de s'y rendre.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Punchin-ball",text:()=>"Loic apprend T\xeate la premi\xe8re mais vous perdez 40 euros",reward:(t,e)=>{t.getCharacterByName(Du.LOIC).spells.find(t=>t.name===Ju.TETE_PREMIERE.name).unlocked=!0,e.removeCurrency(40)},condition:(t,e)=>e.hasEnough(40)&&!t.getCharacterByName(Du.LOIC).hasSpell(Ju.TETE_PREMIERE)},{name:"Buvette",text:()=>"Loic apprend Discussion Insens\xe9e mais vous perdez 30 euros",reward:(t,e)=>{t.getCharacterByName(Du.LOIC).spells.find(t=>t.name===Ju.DISCUSSION_INSENSEE.name).unlocked=!0,e.removeCurrency(30)},condition:(t,e)=>e.hasEnough(30)&&!t.getCharacterByName(Du.LOIC).hasSpell(Ju.DISCUSSION_INSENSEE)},{name:"Annuler la soir\xe9e",text:()=>"Rien ne se passe",reward:(t,e)=>{}}]},{owners:[Du.LOIC],title:"Je vous aime !",description:"Lo\xefc boit trop et atteint un stade de son alcol\xe9mie o\xf9 il propage son amour \xe0 son entourage.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Stade 3",text:()=>"Tout le monde est soign\xe9 \xe0 100% mais Loic perd 40% de ses PV",reward:(t,e)=>{t.characters.filter(t=>t.name!==Du.LOIC).forEach(t=>t.health.heal(1e3)),t.getCharacterByName(Du.LOIC).health.current*=.4}},{name:"Stade 2",text:()=>"Tout le monde est soign\xe9 de 20 PV mais Loic perd 20% de ses PV",reward:(t,e)=>{t.characters.filter(t=>t.name!==Du.LOIC).forEach(t=>t.health.heal(20)),t.getCharacterByName(Du.LOIC).health.current*=.8}},{name:"Stade 1",text:()=>"Tout le monde est soign\xe9 de 10 PV, m\xeame Loic",reward:(t,e)=>{t.characters.forEach(t=>t.health.heal(10))}}]},{owners:[Du.QUENTIN],title:"Pand\xe9mie mondiale",description:"Une pand\xe9mie se r\xe9pand dans le monde, ce qui donne lieu \xe0 d'int\xe9ressantes discussion.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"D\xe9bat entre amis",text:()=>"Quentin apprend D\xe9bat politique. Tout le monde d\xe9marre le prochain combat avec Poison",reward:(t,e)=>{const n=t.getCharacterByName(Du.QUENTIN);n.spells.find(t=>t.name===Ju.DEBAT_POLITIQUE.name).unlocked=!0,t.characters.forEach(t=>{new cf(n,t,Su.POISON)})},condition:(t,e)=>!t.getCharacterByName(Du.QUENTIN).hasSpell(Ju.DEBAT_POLITIQUE)},{name:"D\xe9bat en famille",text:()=>"Quentin apprend Fuite. Tout le monde d\xe9marre le prochain combat avec Poison",reward:(t,e)=>{const n=t.getCharacterByName(Du.QUENTIN);n.spells.find(t=>t.name===Ju.FUITE.name).unlocked=!0,t.characters.forEach(t=>new cf(n,t,Su.POISON))},condition:(t,e)=>!t.getCharacterByName(Du.QUENTIN).hasSpell(Ju.FUITE)},{name:"Jouons plut\xf4t",text:()=>"Quentin apprend Smart Life. Tout le monde d\xe9marre le prochain combat avec Poison",reward:(t,e)=>{const n=t.getCharacterByName(Du.QUENTIN);n.spells.find(t=>t.name===Ju.SMART_LIFE.name).unlocked=!0,t.characters.forEach(t=>new cf(n,t,Su.POISON))},condition:(t,e)=>!t.getCharacterByName(Du.QUENTIN).hasSpell(Ju.SMART_LIFE)}]},{owners:[Du.QUENTIN],title:"F\xeate de famille",description:"Une f\xeate de famille s'organise chez les Gillon. Ca sent l'alcool jusque la mairie.",condition:(t,e)=>t.some(t=>e.owners.some(e=>e===t.name)),choices:[{name:"Rester jusqu'\xe0 l'aubre",text:()=>"Quentin gagne 5 AP mais perdez 15 PV.",reward:(t,e)=>{const n=t.getCharacterByName(Du.QUENTIN);n.stats$.power+=5,n.health.hurt(15)}},{name:"Se coucher t\xf4t",text:()=>"Quentin r\xe9cup\xe8re 15 PV",reward:(t,e)=>{t.getCharacterByName(Du.QUENTIN).health.heal(15)}}]}];let Vm=(()=>{class t{constructor(){}generateEvent(t){return Gu(this.getEventsFor(t))}getEventsFor(t){let e=[];for(const n of $m)(Vu(n.condition)&&n.condition(t,n)||!Vu(n.condition))&&e.push(n);return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Hm=new Fn("cdk-dir-doc",{providedIn:"root",factory:function(){return or(il)}});let Bm,Gm=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new $a,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(ir(Hm,8))},t.\u0275prov=ut({factory:function(){return new t(ir(Hm,8))},token:t,providedIn:"root"}),t})(),Ym=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({}),t})(),Wm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({}),t})();try{Bm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(iy){Bm=!1}let Xm,Km=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Vl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(ir(dc))},t.\u0275prov=ut({factory:function(){return new t(ir(dc))},token:t,providedIn:"root"}),t})(),Qm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({}),t})();function Zm(){if("object"!=typeof document||!document)return 0;if(null==Xm){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),Xm=0,0===t.scrollLeft&&(t.scrollLeft=1,Xm=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Xm}function Jm(t){return null!=t&&"false"!=`${t}`}function tv(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function ev(t,e,n,s){return r(n)&&(s=n,n=void 0),s?ev(t,e,n).pipe(E(t=>c(t)?s(...t):s(t))):new b(r=>{nv(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function nv(t,e,n,r,s){let i;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,s),i=()=>r.removeEventListener(e,n,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),i=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),i=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let i=0,o=t.length;i<o;i++)nv(t[i],e,n,r,s)}r.add(i)}class rv extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class sv extends rv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(s){r=!0,n=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class iv extends sv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}let ov=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class av extends ov{constructor(t,e=ov.now){super(t,()=>av.delegate&&av.delegate!==this?av.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return av.delegate&&av.delegate!==this?av.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class cv extends av{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,s=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,n){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw n}}}const lv=new cv(iv);class uv{constructor(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}call(t,e){return e.subscribe(new hv(t,this.project,this.concurrent,this.scheduler))}}class hv extends z{constructor(t,e,n,r){super(t),this.project=e,this.concurrent=n,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:n,value:r,index:s}=t;e.subscribeToProjection(n,r,s)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,r=e(t,n);this.scheduler?this.destination.add(this.scheduler.schedule(hv.dispatch,0,{subscriber:this,result:r,value:t,index:n})):this.subscribeToProjection(r,t,n)}catch(r){e.error(r)}}else this.buffer.push(t)}subscribeToProjection(t,e,n){this.active++,this.destination.add(j(t,new U(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}class dv{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new pv(t,this.predicate,this.inclusive))}}class pv extends g{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}function gv(t){return e=>e.lift(new fv(t))}class fv{constructor(t){this.notifier=t}call(t,e){const n=new mv(t),r=j(this.notifier,new U(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class mv extends z{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var vv=n(10),bv=n.n(vv);const _v=new Fn("SMOOTH_SCROLL_OPTIONS");let yv=(()=>{class t{constructor(t,e,n){this._document=t,this._platform=e,this._onGoingScrolls=new Map,this._defaultOptions=Object.assign({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},n)}get _w(){return this._document.defaultView}get _now(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now}_scrollElement(t,e,n){t.scrollLeft=e,t.scrollTop=n}_getElement(t,e){return"string"==typeof t?(e||this._document).querySelector(t):(n=t)instanceof Lo?n.nativeElement:n;var n}_initSmoothScroll(t){return this._onGoingScrolls.has(t)&&this._onGoingScrolls.get(t).next(),this._onGoingScrolls.set(t,new O).get(t)}_isFinished(t,e,n){return t.currentX!==t.x||t.currentY!==t.y||(e.next(),n(),!1)}_interrupted(t,e){return B(ev(t,"wheel",{passive:!0,capture:!0}),ev(t,"touchmove",{passive:!0,capture:!0}),e).pipe(mh(1))}_destroy(t,e){e.complete(),this._onGoingScrolls.delete(t)}_step(t){return new b(e=>{let n=(this._now()-t.startTime)/t.duration;n=n>1?1:n;const r=t.easing(n);t.currentX=t.startX+(t.x-t.startX)*r,t.currentY=t.startY+(t.y-t.startY)*r,this._scrollElement(t.scrollable,t.currentX,t.currentY),lv.schedule(()=>e.next(t))})}_applyScrollToOptions(t,e){if(!e.duration)return this._scrollElement(t,e.left,e.top),Promise.resolve();const n=this._initSmoothScroll(t),r={scrollable:t,startTime:this._now(),startX:t.scrollLeft,startY:t.scrollTop,x:null==e.left?t.scrollLeft:~~e.left,y:null==e.top?t.scrollTop:~~e.top,duration:e.duration,easing:bv()(e.easing.x1,e.easing.y1,e.easing.x2,e.easing.y2)};return new Promise(e=>{th(null).pipe(function(t,e=Number.POSITIVE_INFINITY,n){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,r=>r.lift(new uv(t,e,n))}(()=>this._step(r).pipe(function(t,e=!1){return n=>n.lift(new dv(t,e))}(t=>this._isFinished(t,n,e)))),gv(this._interrupted(t,n)),Hh(()=>this._destroy(t,n))).subscribe()})}scrollTo(t,e){if(Vl(this._platform)){const n=this._getElement(t),r="rtl"===getComputedStyle(n).direction,s=Zm(),i=Object.assign(Object.assign(Object.assign({},this._defaultOptions),e),{left:null==e.left?r?e.end:e.start:e.left,right:null==e.right?r?e.start:e.end:e.right});return null!=i.bottom&&(i.top=n.scrollHeight-n.clientHeight-i.bottom),r&&0!==s?(null!=i.left&&(i.right=n.scrollWidth-n.clientWidth-i.left),2===s?i.left=i.right:1===s&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=n.scrollWidth-n.clientWidth-i.right),this._applyScrollToOptions(n,i)}return Promise.resolve()}scrollToElement(t,e,n={}){const r=this._getElement(t),s=this._getElement(e,r),i=Object.assign(Object.assign({},n),{left:s.offsetLeft+(n.left||0),top:s.offsetTop+(n.top||0)});return s?this.scrollTo(r,i):Promise.resolve()}}return t.\u0275fac=function(e){return new(e||t)(ir(il),ir(dc),ir(_v,8))},t.\u0275prov=ut({factory:function(){return new t(ir(il),ir(dc),ir(_v,8))},token:t,providedIn:"root"}),t})(),wv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({}),t})();function Cv(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>E(function(t,e){return n=>{let r=n;for(let s=0;s<e;s++){const e=null!=r?r[t[s]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}class Ov{call(t,e){return e.subscribe(new xv(t))}}class xv extends g{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}const Pv=new av(sv);class Ev{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Tv(t,this.durationSelector))}}class Tv extends z{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=j(n,new U(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Mv(t){return!c(t)&&t-parseFloat(t)+1>=0}function Sv(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Iv(t,e=Pv){return n=>n.lift(new kv(t,e))}class kv{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Av(t,this.dueTime,this.scheduler))}}class Av extends g{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Nv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Nv(t){t.debouncedNext()}function Rv(t,e){return n=>n.lift(new Dv(t,e))}class Dv{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Lv(t,this.compare,this.keySelector))}}class Lv extends g{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const Uv=["scrollbarY"],zv=["scrollbarX"];function jv(t,e){if(1&t&&qi(0,"scrollbar-x",null,4),2&t){const t=Yi(2);Ai("scrollable",t.state.isHorizontallyScrollable)("fit",t.state.verticalUsed)}}function qv(t,e){if(1&t&&qi(0,"scrollbar-y",null,5),2&t){const t=Yi(2);Ai("scrollable",t.state.isVerticallyScrollable)("fit",t.state.horizontalUsed)}}function Fv(t,e){if(1&t&&(function(t,e,n){const r=Me(),s=Se(),i=s.firstCreatePass?function(t,e,n,r,s){const i=e.consts,o=Oe(i,undefined),a=bs(e,20,8,"ng-container",o);return null!==o&&ni(a,o,!0),ks(e,n,a,Oe(i,undefined)),null!==e.queries&&e.queries.elementStart(e,a),a}(0,s,r):s.data[20];Ne(i,!0);const o=r[20]=r[11].createComment("");qr(s,r,o,i),pr(o,r),re(i)&&(Ps(s,r,i),xs(s,i,r))}(),Ri(1,jv,2,2,"scrollbar-x",3),Ri(2,qv,2,2,"scrollbar-y",3),function(){let t=ke();const e=Se();Re()?De():(t=t.parent,Ne(t,!1)),e.firstCreatePass&&(rn(e,t),ee(t)&&e.queries.elementEnd(t))}()),2&t){const t=Yi();cs(1),Li("ngIf",t.state.horizontalUsed),cs(1),Li("ngIf",t.state.verticalUsed)}}const $v=["*"];function Vv(t){return Fh(()=>{t.onselectstart=()=>!1})}function Hv(t){return Fh(()=>{t.onselectstart=null})}function Bv(){return Fh(t=>t.stopPropagation())}function Gv(t,e){return t.clientX>=e.left&&t.clientX<=e.left+e.width&&t.clientY>=e.top&&t.clientY<=e.top+e.height}let Yv=(()=>{class t{constructor(t){this.viewPort=t,this.nativeElement=t.nativeElement}get clientHeight(){return this.nativeElement.clientHeight}get clientWidth(){return this.nativeElement.clientWidth}get scrollHeight(){return this.nativeElement.scrollHeight}get scrollWidth(){return this.nativeElement.scrollWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get scrollMaxX(){return this.scrollWidth-this.clientWidth}get scrollMaxY(){return this.scrollHeight-this.clientHeight}get contentHeight(){var t;return(null===(t=this.contentWrapperElement)||void 0===t?void 0:t.clientHeight)||0}get contentWidth(){var t;return(null===(t=this.contentWrapperElement)||void 0===t?void 0:t.clientWidth)||0}activatePointerEvents(t,e){this.hovered=new b(n=>{const r=ev(this.nativeElement,"mousemove",{passive:!0});B(t?r:r.pipe(Bv()),ev(this.nativeElement,"mouseleave").pipe(E(()=>!1))).pipe(Fh(t=>n.next(t)),gv(e)).subscribe()}),this.clicked=new b(t=>{const n=ev(this.nativeElement,"mousedown",{passive:!0}).pipe(Fh(e=>t.next(e))),r=ev(this.nativeElement,"mouseup",{passive:!0}).pipe(Fh(()=>t.next(!1)));n.pipe(dh(()=>r),gv(e)).subscribe()})}setAsWrapper(){this.nativeElement.className="ng-native-scrollbar-hider ng-scroll-layer",this.nativeElement.firstElementChild&&(this.nativeElement.firstElementChild.className="ng-scroll-layer")}setAsViewport(t){this.nativeElement.className=`ng-native-scrollbar-hider ng-scroll-viewport ${t}`,this.nativeElement.firstElementChild&&(this.contentWrapperElement=this.nativeElement.firstElementChild,this.contentWrapperElement.classList.add("ng-scroll-content"))}scrollYTo(t){this.nativeElement.scrollTop=t}scrollXTo(t){this.nativeElement.scrollLeft=t}}return t.\u0275fac=function(e){return new(e||t)(Di(Lo))},t.\u0275dir=Yt({type:t,selectors:[["","scrollViewport",""]]}),t})();const Wv=new Fn("NG_SCROLLBAR_OPTIONS"),Xv={viewClass:"",trackClass:"",thumbClass:"",track:"vertical",appearance:"compact",visibility:"native",position:"native",pointerEventsMethod:"viewport",trackClickScrollDuration:300,minThumbSize:20,windowResizeDebounce:0,sensorDebounce:0,scrollAuditTime:0,viewportPropagateMouseMove:!0,autoHeightDisabled:!0,autoWidthDisabled:!0,sensorDisabled:!1,pointerEventsDisabled:!1};let Kv=(()=>{class t{constructor(t){this.globalOptions=t?Object.assign(Object.assign({},Xv),t):Xv,this.rtlScrollAxisType=Zm()}}return t.\u0275fac=function(e){return new(e||t)(ir(Wv,8))},t.\u0275prov=ut({factory:function(){return new t(ir(Wv,8))},token:t,providedIn:"root"}),t})(),Qv=(()=>{class t{constructor(t,e,n,r,s,i){this.el=t,this.zone=e,this.changeDetectorRef=n,this.dir=r,this.smoothScroll=s,this.manager=i,this._disabled=!1,this._sensorDisabled=this.manager.globalOptions.sensorDisabled,this._pointerEventsDisabled=this.manager.globalOptions.pointerEventsDisabled,this._autoHeightDisabled=this.manager.globalOptions.autoHeightDisabled,this._autoWidthDisabled=this.manager.globalOptions.autoWidthDisabled,this._viewportPropagateMouseMove=this.manager.globalOptions.viewportPropagateMouseMove,this.viewClass=this.manager.globalOptions.viewClass,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.minThumbSize=this.manager.globalOptions.minThumbSize,this.trackClickScrollDuration=this.manager.globalOptions.trackClickScrollDuration,this.pointerEventsMethod=this.manager.globalOptions.pointerEventsMethod,this.track=this.manager.globalOptions.track,this.visibility=this.manager.globalOptions.visibility,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.sensorDebounce=this.manager.globalOptions.sensorDebounce,this.scrollAuditTime=this.manager.globalOptions.scrollAuditTime,this.updated=new $a,this.state={},this.destroyed=new O}get disabled(){return this._disabled}set disabled(t){this._disabled=Jm(t)}get sensorDisabled(){return this._sensorDisabled}set sensorDisabled(t){this._sensorDisabled=Jm(t)}get pointerEventsDisabled(){return this._pointerEventsDisabled}set pointerEventsDisabled(t){this._pointerEventsDisabled=Jm(t)}get viewportPropagateMouseMove(){return this._viewportPropagateMouseMove}set viewportPropagateMouseMove(t){this._viewportPropagateMouseMove=Jm(t)}get autoHeightDisabled(){return this._autoHeightDisabled}set autoHeightDisabled(t){this._autoHeightDisabled=Jm(t)}get autoWidthDisabled(){return this._autoWidthDisabled}set autoWidthDisabled(t){this._autoWidthDisabled=Jm(t)}get nativeElement(){return this.el.nativeElement}updateState(){let t=!1,e=!1,n=!1,r=!1;"all"!==this.track&&"vertical"!==this.track||(n=this.viewport.scrollHeight>this.viewport.clientHeight,t="always"===this.visibility||n),"all"!==this.track&&"horizontal"!==this.track||(r=this.viewport.scrollWidth>this.viewport.clientWidth,e="always"===this.visibility||r),this.setState({position:this.position,track:this.track,appearance:this.appearance,visibility:this.visibility,deactivated:this.disabled,dir:this.dir.value,pointerEventsMethod:this.pointerEventsMethod,verticalUsed:t,horizontalUsed:e,isVerticallyScrollable:n,isHorizontallyScrollable:r})}setState(t){this.state=Object.assign(Object.assign({},this.state),t),this.changeDetectorRef.detectChanges()}getScrolledByDirection(t){let e;return this.scrolled.pipe(Fh(t=>e=t),Cv("target",t),t=>t.lift(new Ov),Ch(([t,e])=>t!==e),E(()=>e))}setHovered(t){this.zone.run(()=>this.setState(Object.assign({},t)))}setDragging(t){this.zone.run(()=>this.setState(Object.assign({},t)))}setClicked(t){this.zone.run(()=>this.setState({scrollbarClicked:t}))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.customViewPort?(this.viewport=this.customViewPort,this.defaultViewPort.setAsWrapper()):this.viewport=this.defaultViewPort,this.viewport.setAsViewport(this.viewClass);let t=ev(this.viewport.nativeElement,"scroll",{passive:!0});t=this.scrollAuditTime?t.pipe(function(t,e=Pv){return n=()=>function(t=0,e,n){let r=-1;return Mv(e)?r=Number(e)<1?1:Number(e):P(e)&&(n=e),P(n)||(n=Pv),new b(e=>{const s=Mv(t)?t:+t-n.now();return n.schedule(Sv,s,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Ev(n))};var n}(this.scrollAuditTime)):t,this.scrolled=t.pipe(gv(this.destroyed)),this.verticalScrolled=this.getScrolledByDirection("scrollTop"),this.horizontalScrolled=this.getScrolledByDirection("scrollLeft")})}ngOnChanges(t){this.viewport&&this.update()}ngAfterViewInit(){this.update(),this.dir.change.pipe(Fh(()=>this.update()),gv(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}update(){this.autoHeightDisabled||this.updateHeight(),this.autoWidthDisabled||this.updateWidth(),this.updateState(),this.updated.next()}scrollTo(t){return this.smoothScroll.scrollTo(this.viewport.nativeElement,t)}scrollToElement(t,e){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,t,e)}updateHeight(){this.nativeElement.style.height="standard"===this.appearance&&this.scrollbarX?`${this.viewport.contentHeight+this.scrollbarX.nativeElement.clientHeight}px`:`${this.viewport.contentHeight}px`}updateWidth(){this.nativeElement.style.width="standard"===this.appearance&&this.scrollbarY?`${this.viewport.contentWidth+this.scrollbarY.nativeElement.clientWidth}px`:`${this.viewport.contentWidth}px`}}return t.\u0275fac=function(e){return new(e||t)(Di(Lo),Di(Tc),Di(ca),Di(Gm),Di(yv),Di(Kv))},t.\u0275cmp=Ft({type:t,selectors:[["ng-scrollbar"]],contentQueries:function(t,e,n){if(1&t&&function(t,e,n,r){const s=Se();if(s.firstCreatePass){const n=ke();sc(s,new Ya(e,7,void 0),n.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(s,t),s.staticContentQueries=!0}rc(s,Me(),7)}(n,Yv),2&t){let t;tc(t=nc())&&(e.customViewPort=t.first)}},viewQuery:function(t,e){if(1&t&&(ec(Uv,5,Lo),ec(zv,5,Lo),ec(Yv,7)),2&t){let t;tc(t=nc())&&(e.scrollbarY=t.first),tc(t=nc())&&(e.scrollbarX=t.first),tc(t=nc())&&(e.defaultViewPort=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&so("ng-scrollbar",!0)},inputs:{viewClass:"viewClass",trackClass:"trackClass",thumbClass:"thumbClass",minThumbSize:"minThumbSize",trackClickScrollDuration:"trackClickScrollDuration",pointerEventsMethod:"pointerEventsMethod",track:"track",visibility:"visibility",appearance:"appearance",position:"position",sensorDebounce:"sensorDebounce",scrollAuditTime:"scrollAuditTime",disabled:"disabled",sensorDisabled:"sensorDisabled",pointerEventsDisabled:"pointerEventsDisabled",viewportPropagateMouseMove:"viewportPropagateMouseMove",autoHeightDisabled:"autoHeightDisabled",autoWidthDisabled:"autoWidthDisabled"},outputs:{updated:"updated"},exportAs:["ngScrollbar"],features:[ae],ngContentSelectors:$v,decls:6,vars:4,consts:[[1,"ng-scrollbar-wrapper",3,"ngAttr"],[1,"ng-scroll-viewport-wrapper",3,"sensorDebounce","sensorDisabled","resizeSensor"],["scrollViewport","","hideNativeScrollbar",""],[4,"ngIf"],["scrollbarX",""],["scrollbarY",""]],template:function(t,e){1&t&&(Xi(),zi(0,"div",0),zi(1,"div",1),Hi("resizeSensor",function(){return e.update()}),zi(2,"div",2),zi(3,"div"),Ki(4),ji(),ji(),ji(),Ri(5,Fv,3,2,"ng-container",3),ji()),2&t&&(Li("ngAttr",e.state),cs(1),Li("sensorDebounce",e.sensorDebounce)("sensorDisabled",e.sensorDisabled),cs(4),Li("ngIf",!e.disabled))},directives:function(){return[tb,eb,Yv,Jv,Ul,ub,lb]},styles:[".ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}  .ng-scrollbar-measure::-webkit-scrollbar{display:none}[_nghost-%COMP%]{--scrollbar-border-radius:7px;--scrollbar-padding:4px;--scrollbar-track-color:transparent;--scrollbar-thumb-color:rgba(0,0,0,0.2);--scrollbar-thumb-hover-color:var(--scrollbar-thumb-color);--scrollbar-size:5px;--scrollbar-hover-size:var(--scrollbar-size);--scrollbar-overscroll-behavior:initial;--scrollbar-transition-duration:400ms;--scrollbar-transition-delay:800ms;--scrollbar-thumb-transition:height ease-out 150ms,width ease-out 150ms;--scrollbar-track-transition:height ease-out 150ms,width ease-out 150ms;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}[_nghost-%COMP%] > .ng-scrollbar-wrapper[_ngcontent-%COMP%]{--scrollbar-total-size:calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size:var(--scrollbar-size);--horizontal-scrollbar-size:var(--scrollbar-size);--vertical-scrollbar-total-size:calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size:calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalDragging=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalHovered=true][_ngcontent-%COMP%]{--vertical-scrollbar-size:var(--scrollbar-hover-size);--vertical-scrollbar-total-size:calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalDragging=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalHovered=true][_ngcontent-%COMP%]{--horizontal-scrollbar-size:var(--scrollbar-hover-size);--horizontal-scrollbar-total-size:calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:0;bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:var(--scrollbar-total-size);bottom:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport::-webkit-scrollbar, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-native-scrollbar-hider, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%]{bottom:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-native-scrollbar-hider, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%]{left:0;right:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-native-scrollbar-hider, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%]{right:0;left:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%] > .scrollbar-control[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:active > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:focus > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:hover > .scrollbar-control[_ngcontent-%COMP%]{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >  .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]{overflow:auto}.ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng-scroll-viewport[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}  .ng-scroll-content{position:relative!important;display:inline-block;min-width:100%}.ng-scroll-layer[_ngcontent-%COMP%], .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], .ng-scrollbar-wrapper[_ngcontent-%COMP%],   .ng-scroll-viewport{position:absolute;left:0;right:0;top:0;bottom:0}",".ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}  .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*> .ng-scroll-viewport,   .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*> .ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*> .ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}  .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}  .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}  .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}  .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}"],changeDetection:0}),t})(),Zv=(()=>{class t{constructor(t,e,n){this.document=t,this.manager=e,this.platform=n,this._scrollbarSize=new Uu(this.getNativeScrollbarSize()),this.scrollbarSize=this._scrollbarSize.asObservable(),n.isBrowser&&ev(this.document.defaultView,"resize",{passive:!0}).pipe(Iv(this.manager.globalOptions.windowResizeDebounce),E(()=>this.getNativeScrollbarSize()),Rv(),Fh(t=>this._scrollbarSize.next(t))).subscribe()}getNativeScrollbarSize(){if(!this.platform.isBrowser)return 0;if(this.platform.IOS)return 6;const t=this.document.createElement("div");t.className="ng-scrollbar-measure",t.style.left=0,t.style.overflow="scroll",t.style.position="fixed",t.style.top="-9999px",this.document.body.appendChild(t);const e=t.getBoundingClientRect().right;return this.document.body.removeChild(t),e}}return t.\u0275fac=function(e){return new(e||t)(ir(il),ir(Kv),ir(Km))},t.\u0275prov=ut({factory:function(){return new t(ir(il),ir(Kv),ir(Km))},token:t,providedIn:"root"}),t})(),Jv=(()=>{class t{constructor(t,e,n){this.renderer=e,this.hideNativeScrollbar=n,this._subscriber=h.EMPTY,this._subscriber=n.scrollbarSize.subscribe(e=>{this.renderer.setStyle(t.nativeElement,"--native-scrollbar-size",`-${e}px`,wr.DashCase)})}ngOnDestroy(){this._subscriber.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Di(Lo),Di(jo),Di(Zv))},t.\u0275dir=Yt({type:t,selectors:[["","hideNativeScrollbar",""]]}),t})(),tb=(()=>{class t{constructor(t){this.el=t}set ngAttr(t){for(const[e,n]of Object.entries(t))this.el.nativeElement.setAttribute(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Di(Lo))},t.\u0275dir=Yt({type:t,selectors:[["","ngAttr",""]],inputs:{ngAttr:"ngAttr"}}),t})(),eb=(()=>{class t{constructor(t,e,n){if(this.zone=t,this.platform=e,this.scrollbar=n,this._disabled=!1,this._currentSubscription=null,this.event=new $a,!n)throw new Error("[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.")}get debounce(){return this._debounce}set debounce(t){this._debounce=tv(t),this._subscribe()}get disabled(){return this._disabled}set disabled(t){this._disabled=Jm(t),this._disabled?this._unsubscribe():this._subscribe()}ngAfterContentInit(){this._currentSubscription||this._disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){if(this._unsubscribe(),this.platform.isBrowser){const t=new b(t=>{this._resizeObserver=new ResizeObserver(e=>t.next(e)),this._resizeObserver.observe(this.scrollbar.viewport.nativeElement),this.scrollbar.viewport.contentWrapperElement&&this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement)});this.zone.runOutsideAngular(()=>{this._currentSubscription=(this._debounce?t.pipe(Iv(this._debounce)):t).subscribe(this.event)})}}_unsubscribe(){var t,e;null===(t=this._resizeObserver)||void 0===t||t.disconnect(),null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Di(Tc),Di(Km),Di(Qv))},t.\u0275dir=Yt({type:t,selectors:[["","resizeSensor",""]],inputs:{debounce:["sensorDebounce","debounce"],disabled:["sensorDisabled","disabled"]},outputs:{event:"resizeSensor"}}),t})(),nb=(()=>{class t{constructor(t,e,n){this.cmp=t,this.trackElement=e,this.document=n}get clicked(){return B(ev(this.trackElement,"mousedown",{passive:!0}).pipe(Bv(),Vv(this.document)),ev(this.document,"mouseup",{passive:!0}).pipe(Bv(),Hv(this.document),dh(()=>lh)))}get clientRect(){return this.trackElement.getBoundingClientRect()}onTrackClicked(t,e,n){return th(t).pipe(Cv(this.pageProperty),E(t=>(t-this.offset-e/2)/this.size*n),Fh(t=>{this.cmp.scrollTo(Object.assign(Object.assign({},this.mapToScrollToOption(t)),{duration:tv(this.cmp.trackClickScrollDuration)}))}))}}return t.\u0275fac=function(e){return new(e||t)(Di(Qv),Di(HTMLElement),Di(void 0))},t.\u0275dir=Yt({type:t}),t})(),rb=(()=>{class t{constructor(t,e,n,r){this.cmp=t,this.track=e,this.thumbElement=n,this.document=r,this._dragging=new O,this.dragging=this._dragging.pipe(Rv())}get trackMax(){return this.track.size-this.size}get clientRect(){return this.thumbElement.getBoundingClientRect()}get clicked(){return ev(this.thumbElement,"mousedown",{passive:!0}).pipe(Bv())}update(){const t=(e=this.track.size,Math.max(~~(e/this.viewportScrollSize*e),this.cmp.minThumbSize));var e;const n=this.viewportScrollOffset*this.trackMax/this.viewportScrollMax;lv.schedule(()=>this.updateStyles(this.handleDirection(n,this.trackMax),t))}dragged(t){let e,n;const r=th(t).pipe(Vv(this.document),Fh(()=>{e=this.trackMax,n=this.viewportScrollMax,this.setDragging(!0)})),s=ev(this.document,"mousemove",{capture:!0,passive:!0}).pipe(Bv()),i=ev(this.document,"mouseup",{capture:!0}).pipe(Bv(),Hv(this.document),Fh(()=>this.setDragging(!1)));return r.pipe(Cv(this.pageProperty),E(t=>t-this.dragStartOffset),q(t=>s.pipe(Cv(this.clientProperty),E(t=>t-this.track.offset),E(r=>n*(r-t)/e),E(t=>this.handleDrag(t,n)),Fh(t=>this.scrollTo(t)),gv(i))))}}return t.\u0275fac=function(e){return new(e||t)(Di(Qv),Di(nb),Di(HTMLElement),Di(void 0))},t.\u0275dir=Yt({type:t,outputs:{dragging:"dragging"}}),t})(),sb=(()=>{class t extends nb{constructor(t,e,n){super(t,e.nativeElement,n),this.cmp=t,this.document=n}get pageProperty(){return"pageX"}get offset(){return this.clientRect.left}get size(){return this.trackElement.clientWidth}mapToScrollToOption(t){return{left:t}}}return t.\u0275fac=function(e){return new(e||t)(Di(Qv),Di(Lo),Di(il))},t.\u0275dir=Yt({type:t,selectors:[["","scrollbarTrackX",""]],features:[_i]}),t})(),ib=(()=>{class t extends nb{constructor(t,e,n){super(t,e.nativeElement,n),this.cmp=t,this.document=n}get pageProperty(){return"pageY"}get offset(){return this.clientRect.top}get size(){return this.trackElement.clientHeight}mapToScrollToOption(t){return{top:t}}}return t.\u0275fac=function(e){return new(e||t)(Di(Qv),Di(Lo),Di(il))},t.\u0275dir=Yt({type:t,selectors:[["","scrollbarTrackY",""]],features:[_i]}),t})(),ob=(()=>{class t extends rb{constructor(t,e,n,r,s){super(t,e,n.nativeElement,r),this.cmp=t,this.track=e,this.element=n,this.document=r,this.dir=s}get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset||0}get size(){return this.thumbElement.clientWidth}updateStyles(t,e){this.thumbElement.style.width=`${e}px`,this.thumbElement.style.transform=`translate3d(${t}px, 0, 0)`}handleDrag(t,e){if("rtl"===this.dir.value){if(1===this.cmp.manager.rtlScrollAxisType)return t-e;if(2===this.cmp.manager.rtlScrollAxisType)return e-t}return t}handleDirection(t,e){if("rtl"===this.dir.value){if(2===this.cmp.manager.rtlScrollAxisType)return-t;if(0===this.cmp.manager.rtlScrollAxisType)return t-e}return t}setDragging(t){this.cmp.setDragging({horizontalDragging:t})}scrollTo(t){this.cmp.viewport.scrollXTo(t)}}return t.\u0275fac=function(e){return new(e||t)(Di(Qv),Di(sb),Di(Lo),Di(il),Di(Gm))},t.\u0275dir=Yt({type:t,selectors:[["","scrollbarThumbX",""]],features:[_i]}),t})(),ab=(()=>{class t extends rb{constructor(t,e,n,r){super(t,e,n.nativeElement,r),this.cmp=t,this.track=e,this.element=n,this.document=r}get pageProperty(){return"pageY"}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset||0}get size(){return this.thumbElement.clientHeight}updateStyles(t,e){this.thumbElement.style.height=`${e}px`,this.thumbElement.style.transform=`translate3d(0px, ${t}px, 0)`}handleDrag(t){return t}handleDirection(t){return t}setDragging(t){this.cmp.setDragging({verticalDragging:t})}scrollTo(t){this.cmp.viewport.scrollYTo(t)}}return t.\u0275fac=function(e){return new(e||t)(Di(Qv),Di(ib),Di(Lo),Di(il))},t.\u0275dir=Yt({type:t,selectors:[["","scrollbarThumbY",""]],features:[_i]}),t})(),cb=(()=>{class t{constructor(t,e,n,r,s){this.el=t,this.cmp=e,this.platform=n,this.document=r,this.zone=s,this.destroyed=new O}activatePointerEvents(){let t,e,n;return"viewport"===this.cmp.pointerEventsMethod?(this.viewportTrackClicked=new O,this.viewportThumbClicked=new O,this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove,this.destroyed),t=this.viewportThumbClicked,e=this.viewportTrackClicked,n=this.cmp.viewport.hovered.pipe(E(t=>Gv(t,this.el.getBoundingClientRect())),Rv(),Fh(t=>this.document.onselectstart=t?()=>!1:null)),this.cmp.viewport.clicked.pipe(Fh(t=>{t?Gv(t,this.thumb.clientRect)?this.viewportThumbClicked.next(t):Gv(t,this.track.clientRect)&&(this.cmp.setClicked(!0),this.viewportTrackClicked.next(t)):this.cmp.setClicked(!1)}),gv(this.destroyed)).subscribe()):(t=this.thumb.clicked,e=this.track.clicked,n=this.hovered),B(n.pipe(Fh(t=>this.setHovered(t))),t.pipe(dh(t=>this.thumb.dragged(t))),e.pipe(dh(t=>this.track.onTrackClicked(t,this.thumb.size,this.viewportScrollSize))))}get hovered(){return B(ev(this.el,"mouseenter",{passive:!0}).pipe(Bv(),E(()=>!0)),ev(this.el,"mouseleave",{passive:!0}).pipe(Bv(),E(()=>!1)))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.platform.IOS||this.platform.ANDROID||this.cmp.pointerEventsDisabled||this.activatePointerEvents().pipe(gv(this.destroyed)).subscribe(),B(this.cmp.scrolled,this.cmp.updated).pipe(Fh(()=>{var t;return null===(t=this.thumb)||void 0===t?void 0:t.update()}),gv(this.destroyed)).subscribe()})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.viewportThumbClicked&&this.viewportTrackClicked&&(this.viewportTrackClicked.complete(),this.viewportThumbClicked.complete())}}return t.\u0275fac=function(e){return new(e||t)(Di(HTMLElement),Di(Qv),Di(Km),Di(void 0),Di(Tc))},t.\u0275dir=Yt({type:t}),t})(),lb=(()=>{class t extends cb{constructor(t,e,n,r,s){super(t.nativeElement,e,n,r,s),this.cmp=e,this.platform=n,this.document=r,this.zone=s}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}setHovered(t){this.cmp.setHovered({verticalHovered:t})}}return t.\u0275fac=function(e){return new(e||t)(Di(Lo),Di(Qv),Di(Km),Di(il),Di(Tc))},t.\u0275cmp=Ft({type:t,selectors:[["scrollbar-y"]],viewQuery:function(t,e){if(1&t&&(ec(ib,7),ec(ab,7)),2&t){let t;tc(t=nc())&&(e.track=t.first),tc(t=nc())&&(e.thumb=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&so("scrollbar-control",!0)},features:[_i],decls:2,vars:6,consts:[["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(t,e){1&t&&(zi(0,"div",0),qi(1,"div",1),ji()),2&t&&(yo("ng-scrollbar-track ",e.cmp.trackClass,""),cs(1),yo("ng-scrollbar-thumb ",e.cmp.thumbClass,""))},directives:[ib,ab],styles:[".ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}  .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control{left:unset;right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"],changeDetection:0}),t})(),ub=(()=>{class t extends cb{constructor(t,e,n,r,s){super(t.nativeElement,e,n,r,s),this.cmp=e,this.platform=n,this.document=r,this.zone=s}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}setHovered(t){this.cmp.setHovered({horizontalHovered:t})}}return t.\u0275fac=function(e){return new(e||t)(Di(Lo),Di(Qv),Di(Km),Di(il),Di(Tc))},t.\u0275cmp=Ft({type:t,selectors:[["scrollbar-x"]],viewQuery:function(t,e){if(1&t&&(ec(sb,7),ec(ob,7)),2&t){let t;tc(t=nc())&&(e.track=t.first),tc(t=nc())&&(e.thumb=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&so("scrollbar-control",!0)},features:[_i],decls:2,vars:6,consts:[["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(t,e){1&t&&(zi(0,"div",0),qi(1,"div",1),ji()),2&t&&(yo("ng-scrollbar-track ",e.cmp.trackClass,""),cs(1),yo("ng-scrollbar-thumb ",e.cmp.thumbClass,""))},directives:[sb,ob],styles:[".ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}  .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}  .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"],changeDetection:0}),t})(),hb=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Wv,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[$l,Ym,Wm,Qm,wv]]}),t})(),db=(()=>{class t{constructor(t,e){this.el=t,this.renderer=e}get isUnlocked(){return this.node.unlocked}ngOnInit(){this.renderer.addClass(this.el.nativeElement,"animate-"+Bu(1,29)),this.renderer.addClass(this.el.nativeElement,"type-"+this.node.type)}}return t.\u0275fac=function(e){return new(e||t)(Di(Lo),Di(jo))},t.\u0275cmp=Ft({type:t,selectors:[["civ-map-node"]],hostVars:2,hostBindings:function(t,e){2&t&&so("unlocked",e.isUnlocked)},inputs:{node:"node"},decls:3,vars:3,template:function(t,e){1&t&&(zi(0,"strong"),mo(1),La(2,"nodeType"),ji()),2&t&&(cs(1),vo(Ua(2,1,e.node.type)))},pipes:[gf],styles:["[_nghost-%COMP%]{display:block;width:77px;height:77px;background:url(map_badges.c83cdc8181aa775ec76e.png);position:relative;filter:drop-shadow(0 2px 8px rgba(0,0,0,.5)) saturate(0) brightness(.5) contrast(.8)}.unlocked[_nghost-%COMP%]{filter:drop-shadow(0 2px 8px rgba(0,0,0,.5)) saturate(1)}.unlocked[_nghost-%COMP%]:hover{filter:drop-shadow(0 2px 8px rgba(0,0,0,.5)) saturate(1) brightness(1.5);cursor:pointer}.done[_nghost-%COMP%]{filter:drop-shadow(0 2px 8px rgba(0,0,0,.5)) saturate(1)}[_nghost-%COMP%]   strong[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:17px;position:absolute;bottom:-2px;width:100%;text-align:center;text-shadow:0 1px 0 #bb9d77,1px 0 0 #bb9d77,0 -1px 0 #bb9d77,-1px 0 0 #bb9d77;color:#292719}.type-0[_nghost-%COMP%]{background:url(combat.8ffe3c4a23efdc5a4ea6.png)}.type-1[_nghost-%COMP%]{background:url(nemesis.5b43a73299bbdd7785a9.png)}.type-2[_nghost-%COMP%]{background-position:-83px -4px;height:87px}.type-3[_nghost-%COMP%]{background:url(rest.307a04bcbf75337c3e8d.png)}.type-4[_nghost-%COMP%]{background:url(treasure.a7ea8e087d5d3a47a0c7.png)}.type-5[_nghost-%COMP%]{background:url(shop.a7c55a0ab9b3e5f6a1db.png)}.type-6[_nghost-%COMP%]{background:url(event.ccdaf124ae0e5e1d7171.png)}.animate-1[_nghost-%COMP%]{animation-name:animate1;animation-duration:24s;animation-iteration-count:infinite}.animate-2[_nghost-%COMP%]{animation-name:animate2;animation-duration:19s;animation-iteration-count:infinite}.animate-3[_nghost-%COMP%]{animation-name:animate3;animation-duration:23s;animation-iteration-count:infinite}.animate-4[_nghost-%COMP%]{animation-name:animate4;animation-duration:17s;animation-iteration-count:infinite}.animate-5[_nghost-%COMP%]{animation-name:animate5;animation-duration:21s;animation-iteration-count:infinite}.animate-6[_nghost-%COMP%]{animation-name:animate6;animation-duration:24s;animation-iteration-count:infinite}.animate-7[_nghost-%COMP%]{animation-name:animate7;animation-duration:27s;animation-iteration-count:infinite}.animate-8[_nghost-%COMP%]{animation-name:animate8;animation-duration:21s;animation-iteration-count:infinite}.animate-9[_nghost-%COMP%]{animation-name:animate9;animation-duration:19s;animation-iteration-count:infinite}.animate-10[_nghost-%COMP%]{animation-name:animate10;animation-duration:30s;animation-iteration-count:infinite}.animate-11[_nghost-%COMP%]{animation-name:animate11;animation-duration:26s;animation-iteration-count:infinite}.animate-12[_nghost-%COMP%]{animation-name:animate12;animation-duration:26s;animation-iteration-count:infinite}.animate-13[_nghost-%COMP%]{animation-name:animate13;animation-duration:22s;animation-iteration-count:infinite}.animate-14[_nghost-%COMP%]{animation-name:animate14;animation-duration:23s;animation-iteration-count:infinite}.animate-15[_nghost-%COMP%]{animation-name:animate15;animation-duration:29s;animation-iteration-count:infinite}.animate-16[_nghost-%COMP%]{animation-name:animate16;animation-duration:29s;animation-iteration-count:infinite}.animate-17[_nghost-%COMP%]{animation-name:animate17;animation-duration:25s;animation-iteration-count:infinite}.animate-18[_nghost-%COMP%]{animation-name:animate18;animation-duration:27s;animation-iteration-count:infinite}.animate-19[_nghost-%COMP%]{animation-name:animate19;animation-duration:21s;animation-iteration-count:infinite}.animate-20[_nghost-%COMP%]{animation-name:animate20;animation-duration:18s;animation-iteration-count:infinite}.animate-21[_nghost-%COMP%]{animation-name:animate21;animation-duration:18s;animation-iteration-count:infinite}.animate-22[_nghost-%COMP%]{animation-name:animate22;animation-duration:17s;animation-iteration-count:infinite}.animate-23[_nghost-%COMP%]{animation-name:animate23;animation-duration:16s;animation-iteration-count:infinite}.animate-24[_nghost-%COMP%]{animation-name:animate24;animation-duration:27s;animation-iteration-count:infinite}.animate-25[_nghost-%COMP%]{animation-name:animate25;animation-duration:30s;animation-iteration-count:infinite}.animate-26[_nghost-%COMP%]{animation-name:animate26;animation-duration:26s;animation-iteration-count:infinite}.animate-27[_nghost-%COMP%]{animation-name:animate27;animation-duration:23s;animation-iteration-count:infinite}.animate-28[_nghost-%COMP%]{animation-name:animate28;animation-duration:23s;animation-iteration-count:infinite}.animate-29[_nghost-%COMP%]{animation-name:animate29;animation-duration:17s;animation-iteration-count:infinite}@keyframes animate1{25%{transform:rotate(-2deg) scale(1.05) translateY(5px) translateX(9px)}50%{transform:rotate(4deg) scale(1.05) translateY(6px) translateX(8px)}75%{transform:rotate(-5deg) scale(1.05) translateY(4px) translateX(3px)}}@keyframes animate2{25%{transform:rotate(-4deg) scale(1) translateY(9px) translateX(10px)}50%{transform:rotate(2deg) scale(1) translateY(7px) translateX(8px)}75%{transform:rotate(-4deg) scale(1.05) translateY(8px) translateX(6px)}}@keyframes animate3{25%{transform:rotate(-3deg) scale(1) translateY(3px) translateX(2px)}50%{transform:rotate(2deg) scale(1) translateY(1px) translateX(6px)}75%{transform:rotate(-3deg) scale(1) translateY(10px) translateX(6px)}}@keyframes animate4{25%{transform:rotate(-1deg) scale(1.05) translateY(10px) translateX(4px)}50%{transform:rotate(3deg) scale(1) translateY(10px) translateX(4px)}75%{transform:rotate(-3deg) scale(1) translateY(5px) translateX(3px)}}@keyframes animate5{25%{transform:rotate(-1deg) scale(1.05) translateY(9px) translateX(5px)}50%{transform:rotate(2deg) scale(1.05) translateY(4px) translateX(3px)}75%{transform:rotate(-1deg) scale(1.05) translateY(5px) translateX(8px)}}@keyframes animate6{25%{transform:rotate(-4deg) scale(1.05) translateY(2px) translateX(10px)}50%{transform:rotate(2deg) scale(1.05) translateY(1px) translateX(1px)}75%{transform:rotate(-1deg) scale(1) translateY(3px) translateX(10px)}}@keyframes animate7{25%{transform:rotate(-2deg) scale(1) translateY(1px) translateX(2px)}50%{transform:rotate(2deg) scale(1) translateY(5px) translateX(10px)}75%{transform:rotate(-4deg) scale(1) translateY(1px) translateX(6px)}}@keyframes animate8{25%{transform:rotate(-2deg) scale(1.05) translateY(7px) translateX(9px)}50%{transform:rotate(5deg) scale(1.05) translateY(10px) translateX(10px)}75%{transform:rotate(-2deg) scale(1) translateY(3px) translateX(6px)}}@keyframes animate9{25%{transform:rotate(-2deg) scale(1.05) translateY(7px) translateX(10px)}50%{transform:rotate(2deg) scale(1.05) translateY(4px) translateX(4px)}75%{transform:rotate(-5deg) scale(1) translateY(4px) translateX(5px)}}@keyframes animate10{25%{transform:rotate(-2deg) scale(1) translateY(6px) translateX(2px)}50%{transform:rotate(4deg) scale(1.05) translateY(5px) translateX(8px)}75%{transform:rotate(-4deg) scale(1.05) translateY(10px) translateX(1px)}}@keyframes animate11{25%{transform:rotate(-2deg) scale(1) translateY(9px) translateX(1px)}50%{transform:rotate(2deg) scale(1) translateY(4px) translateX(10px)}75%{transform:rotate(-4deg) scale(1.05) translateY(10px) translateX(3px)}}@keyframes animate12{25%{transform:rotate(-2deg) scale(1.05) translateY(7px) translateX(6px)}50%{transform:rotate(3deg) scale(1) translateY(3px) translateX(3px)}75%{transform:rotate(-2deg) scale(1) translateY(8px) translateX(4px)}}@keyframes animate13{25%{transform:rotate(-1deg) scale(1) translateY(6px) translateX(7px)}50%{transform:rotate(2deg) scale(1) translateY(8px) translateX(8px)}75%{transform:rotate(-2deg) scale(1.05) translateY(7px) translateX(8px)}}@keyframes animate14{25%{transform:rotate(-4deg) scale(1) translateY(4px) translateX(8px)}50%{transform:rotate(5deg) scale(1) translateY(4px) translateX(6px)}75%{transform:rotate(-5deg) scale(1) translateY(4px) translateX(2px)}}@keyframes animate15{25%{transform:rotate(-3deg) scale(1.05) translateY(9px) translateX(9px)}50%{transform:rotate(1deg) scale(1.05) translateY(4px) translateX(1px)}75%{transform:rotate(-4deg) scale(1) translateY(7px) translateX(3px)}}@keyframes animate16{25%{transform:rotate(-5deg) scale(1.05) translateY(8px) translateX(6px)}50%{transform:rotate(1deg) scale(1.05) translateY(9px) translateX(10px)}75%{transform:rotate(-4deg) scale(1.05) translateY(10px) translateX(6px)}}@keyframes animate17{25%{transform:rotate(-3deg) scale(1) translateY(5px) translateX(2px)}50%{transform:rotate(2deg) scale(1) translateY(4px) translateX(9px)}75%{transform:rotate(-5deg) scale(1) translateY(7px) translateX(4px)}}@keyframes animate18{25%{transform:rotate(-4deg) scale(1) translateY(2px) translateX(9px)}50%{transform:rotate(1deg) scale(1.05) translateY(8px) translateX(1px)}75%{transform:rotate(-2deg) scale(1.05) translateY(7px) translateX(9px)}}@keyframes animate19{25%{transform:rotate(-5deg) scale(1.05) translateY(6px) translateX(2px)}50%{transform:rotate(4deg) scale(1.05) translateY(4px) translateX(6px)}75%{transform:rotate(-5deg) scale(1.05) translateY(10px) translateX(10px)}}@keyframes animate20{25%{transform:rotate(-3deg) scale(1.05) translateY(1px) translateX(8px)}50%{transform:rotate(5deg) scale(1.05) translateY(10px) translateX(8px)}75%{transform:rotate(-3deg) scale(1.05) translateY(10px) translateX(4px)}}@keyframes animate21{25%{transform:rotate(-4deg) scale(1.05) translateY(10px) translateX(6px)}50%{transform:rotate(4deg) scale(1.05) translateY(5px) translateX(9px)}75%{transform:rotate(-5deg) scale(1) translateY(4px) translateX(3px)}}@keyframes animate22{25%{transform:rotate(-3deg) scale(1) translateY(4px) translateX(5px)}50%{transform:rotate(4deg) scale(1) translateY(8px) translateX(2px)}75%{transform:rotate(-1deg) scale(1.05) translateY(3px) translateX(2px)}}@keyframes animate23{25%{transform:rotate(-5deg) scale(1.05) translateY(10px) translateX(8px)}50%{transform:rotate(4deg) scale(1) translateY(10px) translateX(1px)}75%{transform:rotate(-5deg) scale(1) translateY(10px) translateX(10px)}}@keyframes animate24{25%{transform:rotate(-2deg) scale(1.05) translateY(1px) translateX(9px)}50%{transform:rotate(3deg) scale(1.05) translateY(8px) translateX(2px)}75%{transform:rotate(-4deg) scale(1) translateY(7px) translateX(1px)}}@keyframes animate25{25%{transform:rotate(-2deg) scale(1) translateY(5px) translateX(6px)}50%{transform:rotate(3deg) scale(1) translateY(6px) translateX(6px)}75%{transform:rotate(-5deg) scale(1.05) translateY(7px) translateX(5px)}}@keyframes animate26{25%{transform:rotate(-5deg) scale(1) translateY(4px) translateX(9px)}50%{transform:rotate(3deg) scale(1) translateY(8px) translateX(3px)}75%{transform:rotate(-4deg) scale(1.05) translateY(7px) translateX(8px)}}@keyframes animate27{25%{transform:rotate(-4deg) scale(1) translateY(1px) translateX(10px)}50%{transform:rotate(3deg) scale(1.05) translateY(5px) translateX(7px)}75%{transform:rotate(-3deg) scale(1) translateY(7px) translateX(8px)}}@keyframes animate28{25%{transform:rotate(-1deg) scale(1.05) translateY(3px) translateX(8px)}50%{transform:rotate(4deg) scale(1.05) translateY(1px) translateX(1px)}75%{transform:rotate(-4deg) scale(1.05) translateY(7px) translateX(2px)}}@keyframes animate29{25%{transform:rotate(-3deg) scale(1.05) translateY(9px) translateX(8px)}50%{transform:rotate(4deg) scale(1.05) translateY(4px) translateX(1px)}75%{transform:rotate(-5deg) scale(1.05) translateY(7px) translateX(10px)}}"]}),t})();const pb=["mapContainer"],gb=["mapWrapper"];function fb(t,e){if(1&t){const t=Fi();zi(0,"div",10),Hi("click",function(){Ie(t);const e=Yi().$implicit;return Yi(2).launch(e)}),qi(1,"civ-map-node",11),ji()}if(2&t){const t=Yi().$implicit;Li("mapNode",t),cs(1),Li("node",t)}}function mb(t,e){if(1&t&&(zi(0,"div",8),Ri(1,fb,2,2,"div",9),ji()),2&t){const t=e.$implicit;cs(1),Li("ngIf",t)}}function vb(t,e){if(1&t&&(zi(0,"div",6),Ri(1,mb,2,1,"div",7),ji()),2&t){const t=e.$implicit;cs(1),Li("ngForOf",t)}}let bb=(()=>{class t{constructor(t,e,n,r,s,i,o){this.ss=t,this.charService=e,this._router=n,this.ms=r,this.renderer=s,this.cs=i,this.es=o,this.characters=[],this.map=[],this.charSub=this.charService.characters$.subscribe(t=>this.characters=t),this.mapSub=this.ms.map$.subscribe(t=>this.map=t),this.currSub=this.ss.currency$.subscribe(t=>this.currency=t)}ngOnInit(){0===this.characters.length&&this._router.navigate([""]),this.characters.length>0&&this.charService.isPartyDead()&&this._router.navigate(["end"]),this.ms.generateMap(),zu.getInstance().stats.fullStuffCharacters=this.charService.countFullStuff()}ngOnDestroy(){this.charSub.unsubscribe(),this.mapSub.unsubscribe(),this.currSub.unsubscribe()}ngAfterViewInit(){this.drawLines(),setTimeout(()=>{this.repositionMap()},1e3)}finished(t){t.unlocked&&!t.done&&this.ms.finished()}launch(t){this.ms.setCurrentLevel(t),t.unlocked&&!t.done&&(t.type===Ru.COMBAT_TIER_1||t.type===Ru.COMBAT_TIER_2||t.type===Ru.COMBAT_TIER_3?this._router.navigate(["combat"]):t.type===Ru.EVENT?this._router.navigate(["event"]):t.type===Ru.HEAL?this._router.navigate(["heal"]):t.type===Ru.SHOP?this._router.navigate(["shop"]):t.type===Ru.TREASURE&&this._router.navigate(["treasure"]))}drawLines(){let t=this.mapNodes.toArray();t.forEach(e=>{e.node.parents.length>0&&e.node.parents.forEach(n=>{const r=t.find(t=>t.node.id===n);void 0!==r&&e.drawLine(r)})})}repositionMap(){this.renderer.setStyle(this.mapContainer.nativeElement,"width","870px"),this.renderer.setStyle(this.mapWrapper.nativeElement,"top","150px"),this.renderer.setStyle(this.mapContainer.nativeElement,"opacity","1")}}return t.\u0275fac=function(e){return new(e||t)(Di(Fm),Di($g),Di(Cg),Di(am),Di(jo),Di(om),Di(Vm))},t.\u0275cmp=Ft({type:t,selectors:[["civ-map"]],viewQuery:function(t,e){if(1&t&&(ec(pb,5),ec(gb,5),ec(qm,5)),2&t){let t;tc(t=nc())&&(e.mapContainer=t.first),tc(t=nc())&&(e.mapWrapper=t.first),tc(t=nc())&&(e.mapNodes=t)}},decls:6,vars:1,consts:[[1,"map-content"],["mapContainer",""],[1,"scroll"],[1,"map-wrapper"],["mapWrapper",""],["class","rows",4,"ngFor","ngForOf"],[1,"rows"],["class","cols",4,"ngFor","ngForOf"],[1,"cols"],["class","node",3,"mapNode","click",4,"ngIf"],[1,"node",3,"mapNode","click"],[3,"node"]],template:function(t,e){1&t&&(zi(0,"div",0,1),zi(2,"ng-scrollbar",2),zi(3,"div",3,4),Ri(5,vb,2,1,"div",5),ji(),ji(),ji()),2&t&&(cs(5),Li("ngForOf",e.map))},directives:[Qv,Dl,Ul,qm,db],styles:["[_nghost-%COMP%]{position:relative;color:#fff;display:flex;justify-content:center;align-items:center;filter:drop-shadow(0 0 30px black)}[_nghost-%COMP%]   .map-content[_ngcontent-%COMP%]{position:relative;display:block;height:100vh;opacity:0;width:100vw}[_nghost-%COMP%]   .map-wrapper[_ngcontent-%COMP%]{position:relative;background:url(map_background.37da66dc14e942b024af.png);width:870px;padding:250px 50px 50px;box-sizing:border-box}[_nghost-%COMP%]   .rows[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .rows[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]{width:110px;height:150px}[_nghost-%COMP%]   .rows[_ngcontent-%COMP%]   .cols[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;height:2px;transform-origin:left;z-index:0;background-image:linear-gradient(90deg,#b48a4c 33%,#2d2c3000 0);background-position:bottom;background-size:15px 2px;background-repeat:repeat-x}"]}),t})();function _b(t,e){if(1&t){const t=Fi();zi(0,"div"),zi(1,"div",6),Hi("click",function(){const e=Ie(t).$implicit;return Yi().applyChoice(e)}),zi(2,"strong",7),mo(3),ji(),qi(4,"span",8),ji(),ji()}if(2&t){const t=e.$implicit,n=Yi();cs(1),so("disabled",!n.checkChoice(t)),cs(2),vo(t.name),cs(1),Li("injectHTML",t.text())}}let yb=(()=>{class t{constructor(t,e,n,r,s){this.es=t,this.cs=e,this._router=n,this.ss=r,this.ms=s}ngOnInit(){this.ms.antiCheat([Ru.EVENT]),this.characters=this.cs.characters,this.event=this.es.generateEvent(this.cs.characters)}checkChoice(t){return t.condition&&t.condition(this.cs,this.ss)||!t.condition}applyChoice(t){this.checkChoice(t)&&(t.reward(this.cs,this.ss),this.ms.finished(),this._router.navigate(["map"]))}}return t.\u0275fac=function(e){return new(e||t)(Di(Vm),Di($g),Di(Cg),Di(Fm),Di(am))},t.\u0275cmp=Ft({type:t,selectors:[["civ-event"]],decls:8,vars:3,consts:[[1,"loot-wrapper"],[1,"title"],[1,"description"],[1,"loot-table"],[4,"ngFor","ngForOf"],[1,"overlay"],[1,"choice",3,"click"],[1,"choice-name"],[3,"injectHTML"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),mo(2),ji(),zi(3,"div",2),mo(4),ji(),zi(5,"div",3),Ri(6,_b,5,4,"div",4),ji(),ji(),qi(7,"div",5)),2&t&&(cs(2),vo(e.event.title),cs(2),bo("",e.event.description," "),cs(2),Li("ngForOf",e.event.choices))},directives:[Dl,Wg],styles:['[_nghost-%COMP%]{position:fixed;width:100vw;height:100vh;display:block}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]{filter:drop-shadow(0 0 36px black);position:absolute;top:50%;left:50%;padding:40px 80px 60px;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:28px;margin:20px 0 15px;color:#292719}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{font-size:13px;color:#353324;max-width:400px;text-align:center}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]{margin:20px 0}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{z-index:2;-webkit-backdrop-filter:blur(15px) saturate(.5) brightness(.5);backdrop-filter:blur(15px) saturate(.5) brightness(.5)}[_nghost-%COMP%]   .choice[_ngcontent-%COMP%]{border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;background:#84674a;cursor:pointer;transition:all .2s cubic-bezier(.17,.67,.3,.97);font-family:Poppins,sans-serif;margin-top:15px;padding:15px 25px;color:#18160d}[_nghost-%COMP%]   .choice[_ngcontent-%COMP%]:hover{filter:brightness(150%)}[_nghost-%COMP%]   .choice[_ngcontent-%COMP%]:active{filter:brightness(50%)}[_nghost-%COMP%]   .choice.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;filter:saturate(0)}[_nghost-%COMP%]   .choice[_ngcontent-%COMP%]   .choice-name[_ngcontent-%COMP%]{display:block;color:#18160d;font-family:Bangers,cursive;font-size:15px;margin-bottom:4px}']}),t})();function wb(t,e){if(1&t){const t=Fi();zi(0,"div",4),Hi("click",function(){const e=Ie(t).$implicit;return Yi().ressucitate(e)}),zi(1,"strong",5),mo(2),ji(),zi(3,"span"),mo(4),ji(),ji()}if(2&t){const t=e.$implicit;cs(2),bo("R\xe9animer ",t.name,""),cs(2),bo("Ram\xe8ne ",t.name," \xe0 la vie")}}let Cb=(()=>{class t{constructor(t,e,n){this.cs=t,this._router=e,this.ms=n,this.characters=this.cs.characters,this.deadCharacters=this.cs.getDeadActors()}ngOnInit(){this.ms.antiCheat([Ru.HEAL])}healAll(){this.characters.filter(t=>!t.health.isDead).forEach(t=>{t.health.heal(1e3)}),this.ms.finished(),this._router.navigate(["map"])}ressucitate(t){t.health.ressucitate(),this.ms.finished(),this._router.navigate(["map"])}}return t.\u0275fac=function(e){return new(e||t)(Di($g),Di(Cg),Di(am))},t.\u0275cmp=Ft({type:t,selectors:[["civ-rest"]],decls:13,vars:1,consts:[[1,"loot-wrapper"],[1,"title"],[1,"description"],[1,"loot-table"],[1,"choice",3,"click"],[1,"choice-name"],["class","choice",3,"click",4,"ngFor","ngForOf"],[1,"overlay"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),mo(2,"Ap\xe9ro"),ji(),zi(3,"div",2),mo(4,"Vous prenez le temps de vous reposer. "),ji(),zi(5,"div",3),zi(6,"div",4),Hi("click",function(){return e.healAll()}),zi(7,"strong",5),mo(8,"Soigner"),ji(),zi(9,"span"),mo(10,"Tous les personnages bless\xe9s sont soign\xe9s \xe0 100%"),ji(),ji(),Ri(11,wb,5,2,"div",6),ji(),ji(),qi(12,"div",7)),2&t&&(cs(11),Li("ngForOf",e.deadCharacters))},directives:[Dl],styles:['[_nghost-%COMP%]{position:fixed;width:100vw;height:100vh;display:block}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]{filter:drop-shadow(0 0 36px black);position:absolute;top:50%;left:50%;padding:40px 80px 60px;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:28px;margin:20px 0 15px;color:#292719}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{font-size:13px;color:#353324;max-width:400px;text-align:center}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]{margin:20px 0}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{z-index:2;-webkit-backdrop-filter:blur(15px) saturate(.5) brightness(.5);backdrop-filter:blur(15px) saturate(.5) brightness(.5)}[_nghost-%COMP%]   .choice[_ngcontent-%COMP%]{border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;background:#84674a;cursor:pointer;transition:all .2s cubic-bezier(.17,.67,.3,.97);font-family:Poppins,sans-serif;margin-top:15px;padding:15px 25px;color:#18160d}[_nghost-%COMP%]   .choice[_ngcontent-%COMP%]:hover{filter:brightness(150%)}[_nghost-%COMP%]   .choice[_ngcontent-%COMP%]:active{filter:brightness(50%)}[_nghost-%COMP%]   .choice.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;filter:saturate(0)}[_nghost-%COMP%]   .choice[_ngcontent-%COMP%]   .choice-name[_ngcontent-%COMP%]{display:block;color:#18160d;font-family:Bangers,cursive;font-size:15px;margin-bottom:4px}']}),t})();function Ob(t,e){if(1&t&&(zi(0,"div",1),zi(1,"div",2),zi(2,"div",3),mo(3),ji(),ji(),zi(4,"div",4),zi(5,"strong"),mo(6),ji(),zi(7,"span",5),mo(8,"A utiliser dans la boutique"),ji(),ji(),ji()),2&t){const t=Yi();cs(3),vo(t.loot),cs(3),bo("",t.loot," Euros")}}function xb(t,e){if(1&t&&(zi(0,"div",1),zi(1,"div",2),qi(2,"char-deco",6),ji(),zi(3,"div",4),zi(4,"strong"),mo(5),ji(),zi(6,"span",5),mo(7),La(8,"specialtyName"),ji(),ji(),ji()),2&t){const t=Yi();cs(2),Li("civ-tooltip",t.loot),Ai("character",t.loot.name)("big",!0),cs(3),vo(t.loot.name),cs(2),vo(Ua(8,5,t.loot.specialty))}}function Pb(t,e){if(1&t&&(zi(0,"div",1),zi(1,"div",2),qi(2,"civ-equipment",7),ji(),zi(3,"div",4),zi(4,"strong"),mo(5),ji(),zi(6,"span",5),mo(7),ji(),ji(),ji()),2&t){const t=Yi();cs(2),Li("equipment",t.loot.equipment)("civ-tooltip",t.loot.equipment)("civ-tooltip-owner",t.loot.actor),cs(3),vo(t.loot.equipment.name),cs(2),bo("Nouvel \xe9quipement pour ",t.loot.actor.name,"")}}function Eb(t,e){if(1&t&&qi(0,"civ-spells",9),2&t){const t=Yi(2);Li("spell",t.loot.spell)("civ-tooltip",t.loot.spell)("civ-tooltip-owner",t.loot.actor)}}function Tb(t,e){if(1&t&&(zi(0,"div",1),zi(1,"div",2),Ri(2,Eb,1,3,"civ-spells",8),ji(),zi(3,"div",4),zi(4,"strong"),mo(5),ji(),zi(6,"span",5),mo(7),ji(),ji(),ji()),2&t){const t=Yi();cs(2),Li("ngIf",3===t.type),cs(3),vo(t.loot.spell.name),cs(2),bo("Nouveau sort pour ",t.loot.actor.name,"")}}let Mb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-loot-item"]],inputs:{loot:"loot",type:"type"},decls:4,vars:4,consts:[["class","loot-content",4,"ngIf"],[1,"loot-content"],[1,"reward-icon-wrapper"],[1,"money"],[1,"title"],[1,"smaller"],[3,"civ-tooltip"],[1,"square-wrapper",3,"equipment","civ-tooltip","civ-tooltip-owner"],["class","square-wrapper",3,"spell","civ-tooltip","civ-tooltip-owner",4,"ngIf"],[1,"square-wrapper",3,"spell","civ-tooltip","civ-tooltip-owner"]],template:function(t,e){1&t&&(Ri(0,Ob,9,2,"div",0),Ri(1,xb,9,7,"div",0),Ri(2,Pb,8,5,"div",0),Ri(3,Tb,8,3,"div",0)),2&t&&(Li("ngIf",0===e.type),cs(1),Li("ngIf",1===e.type),cs(1),Li("ngIf",2===e.type),cs(1),Li("ngIf",3===e.type))},directives:[Ul,Vg,Uf,Yg,Bg],pipes:[pf],styles:["[_nghost-%COMP%]{cursor:pointer;transition:all .2s cubic-bezier(.17,.67,.3,.97);border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;background:#b79067;display:block;position:relative;width:180px;height:230px;margin:10px;padding:1px 1px 20px;border-radius:10px}[_nghost-%COMP%]:hover{filter:brightness(150%)}[_nghost-%COMP%]:active{filter:brightness(50%)}.selected[_nghost-%COMP%]{filter:brightness(1.5)}[_nghost-%COMP%]   .loot-content[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .loot-content[_ngcontent-%COMP%]   .reward-icon-wrapper[_ngcontent-%COMP%]{border-color:#68513c #7e6147 #bb9d77;border-style:solid;border-width:2px;box-shadow:inset 0 0 20px 0 #0b080633,inset 0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;padding:1px;background:#816343;background-color:#3b362f;position:absolute;top:0;border-radius:5px;height:153px;top:4px;left:4px;right:5px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .loot-content[_ngcontent-%COMP%]   .reward-icon-wrapper[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{background:url(shop.a7c55a0ab9b3e5f6a1db.png);width:80px;height:80px;font-size:20px;font-family:Bangers,cursive;color:#fff;display:flex;align-items:flex-end;justify-content:center}[_nghost-%COMP%]   .loot-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:100%}[_nghost-%COMP%]   .loot-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{width:100%;text-align:center;font-family:Bangers,cursive;font-size:20px;text-shadow:0 1px 0 #bb9d77,1px 0 0 #bb9d77,0 -1px 0 #bb9d77,-1px 0 0 #bb9d77;display:block;color:#292719;margin-bottom:5px}[_nghost-%COMP%]   .loot-content[_ngcontent-%COMP%]   .smaller[_ngcontent-%COMP%]{font-size:11px;width:100%;text-align:center;display:block;color:#494230}"]}),t})();function Sb(t,e){if(1&t&&(zi(0,"div"),qi(1,"civ-loot-item",10),ji()),2&t){const t=e.$implicit;cs(1),Li("loot",t.value)("type",t.type)}}let Ib=(()=>{class t{constructor(t,e,n,r){this.cs=t,this._router=e,this.ss=n,this.ms=r,this.rerollPrice=20,this.lootTable=[],this.treasure=[],this.currentMoneySub=this.ss.currency$.subscribe(t=>this.currentMoney=t)}ngOnInit(){this.ms.antiCheat([Ru.TREASURE,Ru.COMBAT_TIER_2]),this.generateLootTable(),this.treasure=Yu(this.lootTable,3),this.ss.addCurrency(200)}ngOnDestroy(){this.currentMoneySub.unsubscribe()}generateLootTable(){const t=this.cs.getFreeCharacters().map(t=>({type:Lu.CHARACTER,value:this.cs.createCharacterByName(t)})),e=this.cs.getLockedSpells().map(t=>({type:Lu.SPELL,value:t})),n=this.cs.getLockedEquipments().map(t=>({type:Lu.EQUIPMENT,value:t}));this.lootTable=this.lootTable.concat(t,e,n);for(let r of Array(Math.round(this.lootTable.length/3)))this.lootTable.push({type:Lu.GOLD,value:Bu(150,200)})}reroll(){this.ss.hasEnough(this.rerollPrice)&&(this.ss.removeCurrency(this.rerollPrice),this.treasure=Yu(this.lootTable,3))}leave(){this.treasure.forEach(t=>{t.type===Lu.CHARACTER&&this.cs.characters.push(t.value),t.type===Lu.GOLD&&this.ss.addCurrency(t.value),t.type===Lu.SPELL&&(t.value.spell.unlocked=!0),t.type===Lu.EQUIPMENT&&(t.value.equipment.unlocked=!0)}),this.ms.finished(),this._router.navigate(["map"])}}return t.\u0275fac=function(e){return new(e||t)(Di($g),Di(Cg),Di(Fm),Di(am))},t.\u0275cmp=Ft({type:t,selectors:[["civ-treasure"]],decls:17,vars:5,consts:[[1,"loot-wrapper"],[1,"title"],[1,"description"],[1,"loot-table","flex"],[4,"ngFor","ngForOf"],[1,"reroll",3,"click"],[1,"money"],[1,"leave-button",3,"click"],[1,"money-wrapper"],[1,"overlay"],[3,"loot","type"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),mo(2,"Tr\xe9sor"),ji(),zi(3,"div",2),mo(4,"Vous obtenez ces 3 r\xe9compenses ! Si elles ne vous satisfont pas, payez pour relancer. "),ji(),zi(5,"div",3),Ri(6,Sb,2,2,"div",4),ji(),zi(7,"button",5),Hi("click",function(){return e.reroll()}),mo(8,"Relancer "),zi(9,"span",6),mo(10),ji(),ji(),zi(11,"button",7),Hi("click",function(){return e.leave()}),mo(12,"Continuer"),ji(),zi(13,"div",8),zi(14,"div",6),mo(15),ji(),ji(),ji(),qi(16,"div",9)),2&t&&(cs(6),Li("ngForOf",e.treasure),cs(1),so("disabled",e.currentMoney<e.rerollPrice),cs(3),vo(e.rerollPrice),cs(5),bo(" ",e.currentMoney," "))},directives:[Dl,Mb],styles:['[_nghost-%COMP%]{position:fixed;width:100vw;height:100vh;display:block}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]{filter:drop-shadow(0 0 36px black);position:absolute;top:50%;left:50%;padding:40px 80px 60px;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:28px;margin:20px 0 15px;color:#292719}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{font-size:13px;color:#353324;max-width:400px;text-align:center}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]{margin:20px 0}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{z-index:2;-webkit-backdrop-filter:blur(15px) saturate(.5) brightness(.5);backdrop-filter:blur(15px) saturate(.5) brightness(.5)}[_nghost-%COMP%]   .reroll[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .reroll[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{padding-left:40px;margin-left:25px}[_nghost-%COMP%]   .leave-button[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;height:44px}[_nghost-%COMP%]   .money-wrapper[_ngcontent-%COMP%]{border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;background:#9c7d5f;padding:0 15px 0 5px;position:absolute;bottom:0;right:105px}[_nghost-%COMP%]   .money-wrapper[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{padding-left:50px}']}),t})();function kb(t,e){if(1&t){const t=Fi();zi(0,"div",15),Hi("click",function(){const e=Ie(t).$implicit;return Yi().unlockActor(e,80)}),qi(1,"char-deco",16),zi(2,"div",3),mo(3,"80"),ji(),ji()}if(2&t){const t=e.$implicit;so("disabled",Yi().currentMoney<80||t.sold),cs(1),Li("civ-tooltip",t.item),Ai("character",t.item.name)}}function Ab(t,e){if(1&t){const t=Fi();zi(0,"div",15),Hi("click",function(){const e=Ie(t).$implicit;return Yi().unlockSpell(e,e.item.spell.price)}),qi(1,"civ-spells",17),zi(2,"div",3),mo(3),ji(),ji()}if(2&t){const t=e.$implicit;so("disabled",Yi().currentMoney<t.item.spell.price||t.sold),cs(1),Li("spell",t.item.spell)("civ-tooltip",t.item.spell)("civ-tooltip-owner",t.item.actor),cs(2),vo(t.item.spell.price)}}function Nb(t,e){if(1&t){const t=Fi();zi(0,"div",15),Hi("click",function(){const e=Ie(t).$implicit;return Yi().unlockEquipment(e,e.item.equipment.price)}),qi(1,"civ-equipment",18),zi(2,"div",3),mo(3),ji(),ji()}if(2&t){const t=e.$implicit;so("disabled",Yi().currentMoney<t.item.equipment.price||t.sold),cs(1),Li("equipment",t.item.equipment)("civ-tooltip",t.item.equipment)("civ-tooltip-owner",t.item.actor),cs(2),vo(t.item.equipment.price)}}let Rb=(()=>{class t{constructor(t,e,n,r){this.cs=t,this._router=e,this.ss=n,this.ms=r,this.charactersInShop=[],this.currentMoneySub=this.ss.currency$.subscribe(t=>this.currentMoney=t)}ngOnDestroy(){this.currentMoneySub.unsubscribe()}ngOnInit(){this.ms.antiCheat([Ru.SHOP]),this.equipmentToBuy=this.ss.generateEquipmentShop(this.cs.getLockedEquipments()),this.spellsToBuy=this.ss.generateSpellShop(this.cs.getLockedSpells()),this.charactersToBuy=this.ss.generateCharacterShop(this.cs.getFreeCharacters()),this.charactersToBuy.forEach(t=>{const e={sold:!1,item:this.cs.createCharacterByName(t)};this.charactersInShop.push(e)})}unlockActor(t,e){this.ss.hasEnough(e)&&!t.sold&&(this.cs.addCharacter(t.item.name),this.ss.removeCurrency(e),t.sold=!0)}unlockSpell(t,e){this.ss.hasEnough(e)&&!t.sold&&(t.item.spell.unlocked=!0,this.ss.removeCurrency(e),t.sold=!0)}unlockEquipment(t,e){this.ss.hasEnough(e)&&!t.sold&&(console.log(t.item.equipment),t.item.equipment.unlocked=!0,this.ss.removeCurrency(e),t.sold=!0)}leave(){this.ms.finished(),this._router.navigate(["map"])}}return t.\u0275fac=function(e){return new(e||t)(Di($g),Di(Cg),Di(Fm),Di(am))},t.\u0275cmp=Ft({type:t,selectors:[["civ-shop"]],decls:26,vars:4,consts:[[1,"loot-wrapper"],[1,"leave-button",3,"click"],[1,"money-wrapper"],[1,"money"],[1,"title"],[1,"description"],[1,"loot-table","flex"],[1,"left"],[1,"title-section"],[1,"characters"],["class","square-wrapper",3,"disabled","click",4,"ngFor","ngForOf"],[1,"right"],[1,"spells"],[1,"equipment"],[1,"overlay"],[1,"square-wrapper",3,"click"],[3,"civ-tooltip"],[3,"spell","civ-tooltip","civ-tooltip-owner"],[3,"equipment","civ-tooltip","civ-tooltip-owner"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"button",1),Hi("click",function(){return e.leave()}),mo(2,"Continuer"),ji(),zi(3,"div",2),zi(4,"div",3),mo(5),ji(),ji(),zi(6,"div",4),mo(7,"Boutique"),ji(),zi(8,"div",5),mo(9,"Vous pouvez acheter ce que vous voulez, tant que vous avez assez de sous. "),ji(),zi(10,"div",6),zi(11,"div",7),zi(12,"strong",8),mo(13,"Personnage"),ji(),zi(14,"div",9),Ri(15,kb,4,4,"div",10),ji(),ji(),zi(16,"div",11),zi(17,"strong",8),mo(18,"Sorts"),ji(),zi(19,"div",12),Ri(20,Ab,4,6,"div",10),ji(),zi(21,"strong",8),mo(22,"Equipement"),ji(),zi(23,"div",13),Ri(24,Nb,4,6,"div",10),ji(),ji(),ji(),ji(),qi(25,"div",14)),2&t&&(cs(5),bo(" ",e.currentMoney," "),cs(10),Li("ngForOf",e.charactersInShop),cs(5),Li("ngForOf",e.spellsToBuy),cs(4),Li("ngForOf",e.equipmentToBuy))},directives:[Dl,Vg,Uf,Bg,Yg],styles:['[_nghost-%COMP%]{position:fixed;width:100vw;height:100vh;display:block}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]{filter:drop-shadow(0 0 36px black);position:absolute;top:50%;left:50%;padding:40px 80px 60px;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:28px;margin:20px 0 15px;color:#292719}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{font-size:13px;color:#353324;max-width:400px;text-align:center}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]{margin:20px 0 40px}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-right:80px}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:block;font-family:Bangers,cursive;font-size:20px;margin:20px 0 15px;color:#292719}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%]{position:relative;margin-right:25px;border-radius:8px;cursor:pointer;transition:all .2s cubic-bezier(.17,.67,.3,.97)}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%]:hover{filter:brightness(150%)}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%]:active{filter:brightness(50%)}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .square-wrapper.disabled[_ngcontent-%COMP%]{filter:saturate(0) contrast(.6) brightness(.7)}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%]   .current-money[_ngcontent-%COMP%], [_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{position:absolute;height:30px;top:calc(100% + 5px);padding-left:32px;text-shadow:none}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .spells[_ngcontent-%COMP%]{margin-bottom:60px}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .equipment[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .spells[_ngcontent-%COMP%]   .square-wrapper[_ngcontent-%COMP%]{height:50px}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .characters[_ngcontent-%COMP%], [_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .equipment[_ngcontent-%COMP%], [_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .spells[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{z-index:2;-webkit-backdrop-filter:blur(15px) saturate(.5) brightness(.5);backdrop-filter:blur(15px) saturate(.5) brightness(.5)}[_nghost-%COMP%]   .money-wrapper[_ngcontent-%COMP%]{border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;background:#9c7d5f;padding:0 15px 0 5px;position:absolute;bottom:0;right:105px}[_nghost-%COMP%]   .money-wrapper[_ngcontent-%COMP%]   .current-money[_ngcontent-%COMP%], [_nghost-%COMP%]   .money-wrapper[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{padding-left:50px}[_nghost-%COMP%]   .leave-button[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;height:44px}[_nghost-%COMP%]   .current-money[_ngcontent-%COMP%]{top:0}']}),t})();function Db(t,e){if(1&t){const t=Fi();zi(0,"div"),zi(1,"civ-loot-item",7),Hi("click",function(){const e=Ie(t).$implicit;return Yi().select(e)}),ji(),ji()}if(2&t){const t=e.$implicit,n=Yi();cs(1),so("selected",n.selectedLoot===t),Li("loot",t.value)("type",t.type)}}let Lb=(()=>{class t{constructor(t,e,n,r,s){this.cs=t,this.combatService=e,this.ss=n,this.ms=r,this._router=s,this.retrievedLoot=new $a,this.lootTable=[],this.currentLevel=this.ms.currentLevel}ngOnInit(){this.ms.antiCheat([Ru.COMBAT_TIER_1]),this.combatService.getEnemies().some(t=>!t.health.isDead)&&this._router.navigate(["combat"]),this.forcedCurrencyEarning=3+this.currentLevel.floor*Bu(4,6),this.generateLootRates(),this.generateLootTable()}ngOnDestroy(){}generateLootRates(){this.lootRates={characters:this.cs.getFreeCharacters().length,spells:this.cs.getLockedSpells().length,equipment:this.cs.getLockedEquipments().length,gold:1}}generateLootTable(){let t=function(t){var e,n,r=[];for(e in t)for(n=0;n<1*t[e];n++)r.push(e);return r}(this.lootRates),e=this.cs.getFreeCharacters(),n=this.cs.getLockedSpells(),r=this.cs.getLockedEquipments();for(let s of Array(3)){const s=Bu(0,t.length-1),i=t[s];switch(t.splice(s,1),i){case"characters":this.lootTable.push({type:Lu.CHARACTER,value:this.cs.createCharacterByName(this.getLootFrom(e))});break;case"spells":this.lootTable.push({type:Lu.SPELL,value:this.getLootFrom(n)});break;case"equipment":this.lootTable.push({type:Lu.EQUIPMENT,value:this.getLootFrom(r)});break;case"gold":this.lootTable.push({type:Lu.GOLD,value:30+this.currentLevel.floor*Bu(12,15)})}}}getLootFrom(t){const e=Bu(0,t.length-1),n=t[e];return t.splice(e,1),n}select(t){this.selectedLoot=t}confirmLoot(){void 0!==this.selectedLoot&&(this.selectedLoot.type===Lu.CHARACTER&&this.cs.characters.push(this.selectedLoot.value),this.selectedLoot.type===Lu.EQUIPMENT&&this.selectedLoot.value.actor.equipment.find(t=>t.name===this.selectedLoot.value.equipment.name).giveEquipmentTo(this.selectedLoot.value.actor),this.selectedLoot.type===Lu.SPELL&&(this.selectedLoot.value.actor.spells.find(t=>t.name===this.selectedLoot.value.spell.name).unlocked=!0),this.selectedLoot.type===Lu.GOLD&&this.ss.addCurrency(this.selectedLoot.value),this.ss.addCurrency(this.forcedCurrencyEarning),this.ms.finished(),this._router.navigate(["map"]))}}return t.\u0275fac=function(e){return new(e||t)(Di($g),Di(om),Di(Fm),Di(am),Di(Cg))},t.\u0275cmp=Ft({type:t,selectors:[["civ-loot"]],outputs:{retrievedLoot:"retrievedLoot"},decls:10,vars:3,consts:[[1,"loot-wrapper"],[1,"title"],[1,"description"],[1,"flex","loot-table"],[4,"ngFor","ngForOf"],[3,"disabled","click"],[1,"overlay"],[3,"loot","type","click"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),mo(2,"Choisissez une r\xe9compense"),ji(),zi(3,"div",2),mo(4),ji(),zi(5,"div",3),Ri(6,Db,2,4,"div",4),ji(),zi(7,"button",5),Hi("click",function(){return e.confirmLoot()}),mo(8,"Confirmer"),ji(),ji(),qi(9,"div",6)),2&t&&(cs(4),bo(" Vous gagnez ",e.forcedCurrencyEarning," euros et vous pouvez choisir l'une des r\xe9compenses suivantes. "),cs(2),Li("ngForOf",e.lootTable),cs(1),Li("disabled",void 0===e.selectedLoot))},directives:[Dl,Mb],styles:['[_nghost-%COMP%]{z-index:600;position:fixed;width:100vw;height:100vh;display:block}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]{filter:drop-shadow(0 0 36px black);position:absolute;top:50%;left:50%;padding:40px 40px 60px;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:28px;margin:20px 0 15px;color:#292719}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{font-size:13px;color:#353324}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]{margin:20px 0}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{z-index:2;-webkit-backdrop-filter:blur(15px) saturate(.5) brightness(.5);backdrop-filter:blur(15px) saturate(.5) brightness(.5)}']}),t})();class Ub{}class zb{}class jb{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),s=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof jb?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new jb;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof jb?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===s.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class qb{encodeKey(t){return Fb(t)}encodeValue(t){return Fb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Fb(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function $b(t){return`${t}`}class Vb{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qb,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[s,i]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(s)||[];o.push(i),n.set(s,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Vb({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push($b(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf($b(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Hb{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Bb(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Gb(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Yb(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Wb{constructor(t,e,n,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new jb),this.context||(this.context=new Hb),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Vb,this.urlWithParams=e}serializeBody(){return null===this.body?null:Bb(this.body)||Gb(this.body)||Yb(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vb?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yb(this.body)?null:Gb(this.body)?this.body.type||null:Bb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vb?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Wb(n,r,i,{params:l,headers:c,context:u,reportProgress:a,responseType:s,withCredentials:o})}}var Xb=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Kb{constructor(t,e=200,n="OK"){this.headers=t.headers||new jb,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Qb extends Kb{constructor(t={}){super(t),this.type=Xb.ResponseHeader}clone(t={}){return new Qb({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Zb extends Kb{constructor(t={}){super(t),this.type=Xb.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Zb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Jb extends Kb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function t_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let e_=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Wb)r=t;else{let s,i;s=n.headers instanceof jb?n.headers:new jb(n.headers),n.params&&(i=n.params instanceof Vb?n.params:new Vb({fromObject:n.params})),r=new Wb(t,e,void 0!==n.body?n.body:null,{headers:s,context:n.context,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=th(r).pipe(Mh(t=>this.handler.handle(t)));if(t instanceof Wb||"events"===n.observe)return s;const i=s.pipe(Ch(t=>t instanceof Zb));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return i.pipe(E(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return i.pipe(E(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return i.pipe(E(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));default:return i.pipe(E(t=>t.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Vb).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,t_(n,e))}post(t,e,n={}){return this.request("POST",t,t_(n,e))}put(t,e,n={}){return this.request("PUT",t,t_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(ir(Ub))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class n_{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const r_=new Fn("HTTP_INTERCEPTORS");let s_=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),i_=0;class o_{}let a_=(()=>{class t{constructor(t,e){this.callbackMap=t,this.document=e,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+i_++}handle(t){if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new b(e=>{const n=this.nextCallback(),r=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),s=this.document.createElement("script");s.src=r;let i=null,o=!1,a=!1;this.callbackMap[n]=t=>{delete this.callbackMap[n],a||(i=t,o=!0)};const c=()=>{s.parentNode&&s.parentNode.removeChild(s),delete this.callbackMap[n]},l=t=>{a||this.resolvedPromise.then(()=>{c(),o?(e.next(new Zb({body:i,status:200,statusText:"OK",url:r})),e.complete()):e.error(new Jb({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},u=t=>{a||(c(),e.error(new Jb({error:t,status:0,statusText:"JSONP Error",url:r})))};return s.addEventListener("load",l),s.addEventListener("error",u),this.document.body.appendChild(s),e.next({type:Xb.Sent}),()=>{a=!0,s.removeEventListener("load",l),s.removeEventListener("error",u),c()}})}}return t.\u0275fac=function(e){return new(e||t)(ir(o_),ir(il))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),c_=(()=>{class t{constructor(t){this.jsonp=t}intercept(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(ir(a_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const l_=/^\)\]\}',?\n/;let u_=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let s=null;const i=()=>{if(null!==s)return s;const e=1223===n.status?204:n.status,r=n.statusText||"OK",i=new jb(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return s=new Qb({headers:i,status:e,statusText:r,url:o}),s},o=()=>{let{headers:r,status:s,statusText:o,url:a}=i(),c=null;204!==s&&(c=void 0===n.response?n.responseText:n.response),0===s&&(s=c?200:0);let l=s>=200&&s<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(l_,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new Zb({body:c,headers:r,status:s,statusText:o,url:a||void 0})),e.complete()):e.error(new Jb({error:c,headers:r,status:s,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=i(),s=new Jb({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(s)};let c=!1;const l=r=>{c||(e.next(i()),c=!0);let s={type:Xb.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(s.total=r.total),"text"===t.responseType&&n.responseText&&(s.partialText=n.responseText),e.next(s)},u=t=>{let n={type:Xb.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:Xb.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(ir(Yl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const h_=new Fn("XSRF_COOKIE_NAME"),d_=new Fn("XSRF_HEADER_NAME");class p_{}let g_=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(ir(il),ir(dc),ir(h_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),f_=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(ir(p_),ir(d_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),m_=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(r_,[]);this.chain=t.reduceRight((t,e)=>new n_(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(ir(zb),ir(vi))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function v_(){return"object"==typeof window?window:{}}let b_=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:f_,useClass:s_}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:h_,useValue:e.cookieName}:[],e.headerName?{provide:d_,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:[f_,{provide:r_,useExisting:f_,multi:!0},{provide:p_,useClass:g_},{provide:h_,useValue:"XSRF-TOKEN"},{provide:d_,useValue:"X-XSRF-TOKEN"}]}),t})(),__=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:[e_,{provide:Ub,useClass:m_},u_,{provide:zb,useExisting:u_}],imports:[[b_.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),y_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:[a_,{provide:o_,useFactory:v_},{provide:r_,useClass:c_,multi:!0}]}),t})(),w_=(()=>{class t{constructor(t){this.http=t,this.apiUrl="http://localhost:4200/api",this.gtd="highs",this.getAccessToken()}getAccessToken(){const t=new jb({"Cache-Control":"no-cache","Content-Type":"application/x-www-form-urlencoded"});return this.http.post(this.apiUrl+"/oauth/access_token","grant_type=client_credentials&scope=endpoint_client&client_id=Z49NOgXFA61fCo3mIGKN24aGjVahAebAjln8BlNc&client_secret=Pr4evqWbaKefVUyQ5Qqk21DnoLZKzbbpDfD8GAjQ",{headers:t}).subscribe({next:t=>{this.accessToken="Bearer "+t.access_token},error:t=>{console.log(t)}})}getScore(){const t=new jb({"Cache-Control":"no-cache","Content-Type":"application/json",Authorization:this.accessToken});return this.http.post(this.apiUrl+"/v1/gtdleaderboard/"+this.gtd,{limit:10},{headers:t}).toPromise()}saveScore(t,e){const n=new jb({"Cache-Control":"no-cache","Content-Type":"application/json",Authorization:this.accessToken});let r={name:"",values:{}};return r.name=t,r.values[this.gtd]=e,this.http.post(this.apiUrl+"/v1/statistics",r,{headers:n}).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(ir(e_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function C_(t,e){if(1&t&&(zi(0,"div",6),zi(1,"div",7),mo(2),ji(),zi(3,"div",8),mo(4),ji(),zi(5,"div",9),mo(6),ji(),ji()),2&t){const t=e.$implicit;cs(2),vo(t.rank),cs(2),vo(t.name),cs(2),vo(t.value)}}let O_=(()=>{class t{constructor(){this.showRankingBool=!1,this.hide=new $a}ngOnInit(){}ngAfterViewInit(){}hideRanking(){this.hide.emit(!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["civ-ranking"]],inputs:{leaderboard:"leaderboard"},outputs:{hide:"hide"},decls:8,vars:1,consts:[[1,"loot-wrapper"],[1,"title"],[1,"ranking-wrapper"],["class","rank-item",4,"ngFor","ngForOf"],[3,"click"],[1,"overlay"],[1,"rank-item"],[1,"ranking"],[1,"name"],[1,"score"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),mo(2,"Classement"),ji(),zi(3,"div",2),Ri(4,C_,7,3,"div",3),ji(),zi(5,"button",4),Hi("click",function(){return e.hideRanking()}),mo(6,"Fermer"),ji(),ji(),qi(7,"div",5)),2&t&&(cs(4),Li("ngForOf",e.leaderboard))},directives:[Dl],styles:['[_nghost-%COMP%]{z-index:600;position:fixed;width:100vw;height:100vh;display:block}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]{filter:drop-shadow(0 0 36px black);position:absolute;top:50%;left:50%;padding:40px 40px 60px;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:28px;margin:20px 0 15px;color:#292719}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{font-size:13px;color:#353324}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]{margin:20px 0}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{z-index:2;-webkit-backdrop-filter:blur(15px) saturate(.5) brightness(.5);backdrop-filter:blur(15px) saturate(.5) brightness(.5)}.ranking-wrapper[_ngcontent-%COMP%]{margin:50px}.rank-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;min-width:500px;margin:20px 30px}.rank-item[_ngcontent-%COMP%]   .ranking[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:25px;width:60px}.rank-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;margin-right:20px;flex:1}.rank-item[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:25px}']}),t})();const x_=["usernameInput"];function P_(t,e){if(1&t){const t=Fi();zi(0,"civ-ranking",15),Hi("hide",function(){return Ie(t),Yi().hideRanking()}),ji()}2&t&&Li("leaderboard",Yi().leaderboard)}const E_=[{path:"",component:Kf},{path:"map",component:bb},{path:"combat",component:jm},{path:"event",component:yb},{path:"heal",component:Cb},{path:"shop",component:Rb},{path:"treasure",component:Ib},{path:"loot",component:Lb},{path:"end",component:(()=>{class t{constructor(t,e,n){this.statsService=t,this.cs=e,this._router=n,this.score=zu.getInstance(),this.showRankingBool=!1,this.usernameValid=!1,this.usernameValue=""}ngOnInit(){0===this.cs.characters.length&&this._router.navigate([""]),this.scoreSub=this.score.score$.subscribe(t=>{this.total=t})}ngOnDestroy(){this.scoreSub.unsubscribe()}isUsernameOk(t){this.usernameValid=t.srcElement.value.length>3,this.usernameValue=t.srcElement.value}saveScore(){this.statsService.saveScore(this.usernameValue,this.total).then(t=>{this.showRanking()})}showRanking(){this.statsService.getScore().then(t=>{this.leaderboard=t.data,this.showRankingBool=!0})}hideRanking(){this.showRankingBool=!1}restart(){window.location.reload()}}return t.\u0275fac=function(e){return new(e||t)(Di(w_),Di($g),Di(Cg))},t.\u0275cmp=Ft({type:t,selectors:[["civ-end"]],viewQuery:function(t,e){if(1&t&&ec(x_,5),2&t){let t;tc(t=nc())&&(e.username=t.first)}},decls:111,vars:25,consts:[[1,"loot-wrapper"],[1,"title"],[1,"description"],[1,"flex","space-between","total"],[1,"name"],[1,"value"],[1,"loot-table","flex"],[1,"score-item"],[1,"stat"],[1,""],[1,"flex","actions"],["type","text",3,"keyup"],[3,"click"],[3,"leaderboard","hide",4,"ngIf"],[1,"overlay"],[3,"leaderboard","hide"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),mo(2,"La partie est termin\xe9e !"),ji(),zi(3,"div",2),mo(4," L'aventure se termine ici. Voici votre score: "),ji(),zi(5,"div",3),zi(6,"strong",4),mo(7,"Score"),ji(),zi(8,"div",5),mo(9),ji(),ji(),zi(10,"div",6),zi(11,"div"),zi(12,"div",7),zi(13,"div"),zi(14,"div",1),mo(15,"Ascension"),ji(),zi(16,"div",8),mo(17),ji(),ji(),zi(18,"div",5),mo(19),ji(),ji(),zi(20,"div",7),zi(21,"div",9),zi(22,"div",1),mo(23,"Tueur de monstres"),ji(),zi(24,"div",8),mo(25),ji(),ji(),zi(26,"div",5),mo(27),ji(),ji(),zi(28,"div",7),zi(29,"div",9),zi(30,"div",1),mo(31,"David contre Goliath"),ji(),zi(32,"div",8),mo(33),ji(),ji(),zi(34,"div",5),mo(35),ji(),ji(),zi(36,"div",7),zi(37,"div",9),zi(38,"div",1),mo(39,"Victoire"),ji(),zi(40,"div",8),mo(41,"Boss tu\xe9"),ji(),ji(),zi(42,"div",5),mo(43),ji(),ji(),zi(44,"div",7),zi(45,"div",9),zi(46,"div",1),mo(47,"Riche comme cresus"),ji(),zi(48,"div",8),mo(49),ji(),ji(),zi(50,"div",5),mo(51),ji(),ji(),zi(52,"div",7),zi(53,"div",9),zi(54,"div",1),mo(55,"Reine du shopping"),ji(),zi(56,"div",8),mo(57),ji(),ji(),zi(58,"div",5),mo(59),ji(),ji(),ji(),zi(60,"div"),zi(61,"div",7),zi(62,"div",9),zi(63,"div",1),mo(64,"Plus on est de fous"),ji(),zi(65,"div",8),mo(66),ji(),ji(),zi(67,"div",5),mo(68),ji(),ji(),zi(69,"div",7),zi(70,"div",9),zi(71,"div",1),mo(72,"Plus on rit"),ji(),zi(73,"div",8),mo(74),ji(),ji(),zi(75,"div",5),mo(76),ji(),ji(),zi(77,"div",7),zi(78,"div",9),zi(79,"div",1),mo(80,"D\xe9vastateur"),ji(),zi(81,"div",8),mo(82),ji(),ji(),zi(83,"div",5),mo(84),ji(),ji(),zi(85,"div",7),zi(86,"div",9),zi(87,"div",1),mo(88,"Bouclier humain"),ji(),zi(89,"div",8),mo(90),ji(),ji(),zi(91,"div",5),mo(92),ji(),ji(),zi(93,"div",7),zi(94,"div",9),zi(95,"div",1),mo(96,"Aucun instinct de survie"),ji(),zi(97,"div",8),mo(98),ji(),ji(),zi(99,"div",5),mo(100),ji(),ji(),ji(),ji(),zi(101,"div",10),zi(102,"input",11),Hi("keyup",function(t){return e.isUsernameOk(t)}),ji(),zi(103,"button",12),Hi("click",function(){return e.saveScore()}),mo(104,"Enregistrer son score"),ji(),zi(105,"button",12),Hi("click",function(){return e.showRanking()}),mo(106,"Classement"),ji(),ji(),zi(107,"button",12),Hi("click",function(){return e.restart()}),mo(108,"R\xe9essayer"),ji(),ji(),Ri(109,P_,1,1,"civ-ranking",13),qi(110,"div",14)),2&t&&(cs(9),bo(" ",e.total," "),cs(8),bo("",e.score.stats.floorsClimbed," \xe9tages franchis"),cs(2),bo(" ",e.score.score.floorsClimbed," "),cs(6),bo("",e.score.stats.tierOneKilled," monstres basiques tu\xe9s"),cs(2),bo(" ",e.score.score.tierOneKilled," "),cs(6),bo("",e.score.stats.tierTwoKilled," Nemesis tu\xe9s"),cs(2),bo(" ",e.score.score.tierTwoKilled," "),cs(8),bo(" ",e.score.score.tierThreeKilled," "),cs(6),bo("",e.score.stats.goldAcquired," euros gagn\xe9s"),cs(2),bo(" ",e.score.score.goldAcquired," "),cs(6),bo("",e.score.stats.goldSpent," euros d\xe9pens\xe9s"),cs(2),bo(" ",e.score.score.goldSpent," "),cs(7),bo("",e.score.stats.sizeTeam," aventuriers"),cs(2),bo(" ",e.score.score.sizeTeam," "),cs(6),bo("",e.score.stats.fullStuffCharacters," aventuriers sur\xe9quip\xe9s"),cs(2),bo(" ",e.score.score.fullStuffCharacters," "),cs(6),bo("",e.score.stats.damageInflicted," d\xe9g\xe2ts inflig\xe9s"),cs(2),bo(" ",e.score.score.damageInflicted," "),cs(6),bo("",e.score.stats.damageReceived," d\xe9g\xe2ts re\xe7us"),cs(2),bo(" ",e.score.score.damageReceived," "),cs(6),bo("",e.score.stats.death," morts au combat"),cs(2),bo(" ",e.score.score.death," "),cs(3),so("disabled",!e.usernameValid),cs(6),Li("ngIf",e.showRankingBool))},directives:[Ul,O_],styles:['[_nghost-%COMP%]{z-index:600;position:fixed;width:100vw;height:100vh;display:block}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{margin-bottom:80px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:inset 0 0 20px 0 #0b080633,inset 0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;background:#816343;background:#5a4a3c;border-color:#68513c #7e6147 #bb9d77;border-style:solid;border-width:1px;color:#fff;padding:1px 1px 1px 10px;font-family:Bangers,cursive;font-size:18px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]{filter:drop-shadow(0 0 36px black);position:absolute;top:50%;left:50%;padding:40px 40px 60px;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:before{background:url(map_background.37da66dc14e942b024af.png) no-repeat;content:"";position:absolute;top:0;bottom:60px;left:0;right:0;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .loot-wrapper[_ngcontent-%COMP%]:after{background:url(map_background.37da66dc14e942b024af.png) no-repeat;background-position:bottom;content:"";position:absolute;bottom:0;left:0;right:0;height:61px;background-size:cover;z-index:-1;filter:saturate(.6) brightness(.9)}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:28px;margin:20px 0 15px;color:#292719}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{font-size:13px;color:#353324}[_nghost-%COMP%]   .total[_ngcontent-%COMP%]{width:150px;font-family:Bangers,cursive;font-size:28px;margin:30px 0 0;border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;background:#362d24;color:#fff;padding:20px}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]{margin:20px 0}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]{margin:30px;width:300px;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;margin:0;font-family:Bangers,cursive}[_nghost-%COMP%]   .loot-table[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;font-family:Bangers,cursive}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{z-index:2;-webkit-backdrop-filter:blur(15px) saturate(.5) brightness(.5);backdrop-filter:blur(15px) saturate(.5) brightness(.5)}']}),t})()}];let T_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[Ng.forRoot(E_)],Ng]}),t})(),M_=(()=>{class t{constructor(){}ngOnInit(){}ngOnChanges(t){t&&(this.name=this.equipment)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["equip-deco"]],inputs:{equipment:"equipment"},features:[ae],decls:2,vars:1,consts:[[1,""]],template:function(t,e){1&t&&(zi(0,"div",0),mo(1),ji()),2&t&&(cs(1),bo("",e.name," "))},styles:[""],changeDetection:0}),t})();function S_(t,e){1&t&&(zi(0,"span"),mo(1,"physiques"),ji())}function I_(t,e){1&t&&(zi(0,"span"),mo(1,"magiques"),ji())}function k_(t,e){1&t&&qi(0,"civ-stats",5)}function A_(t,e){1&t&&qi(0,"civ-stats",6)}function N_(t,e){1&t&&(zi(0,"span"),mo(1,"attaque"),ji())}function R_(t,e){1&t&&(zi(0,"span"),mo(1,"puissance"),ji())}let D_=(()=>{class t{constructor(){}ngOnInit(){this.damage=Math.round(Number(this.stat)*Number(this.amount))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["dmg-deco"]],inputs:{type:"type",stat:"stat",amount:"amount"},decls:12,vars:11,consts:[[1,"detail"],[4,"ngIf"],[1,"small"],["class","attack",4,"ngIf"],["class","power",4,"ngIf"],[1,"attack"],[1,"power"]],template:function(t,e){1&t&&(zi(0,"strong"),zi(1,"span",0),mo(2),Ri(3,S_,2,0,"span",1),Ri(4,I_,2,0,"span",1),ji(),zi(5,"span",2),mo(6),Ri(7,k_,1,0,"civ-stats",3),Ri(8,A_,1,0,"civ-stats",4),Ri(9,N_,2,0,"span",1),Ri(10,R_,2,0,"span",1),mo(11,")\n"),ji(),ji()),2&t&&(yo("damage-",e.type,""),cs(2),bo(" ",e.damage," d\xe9g\xe2ts "),cs(1),Li("ngIf","physical"===e.type),cs(1),Li("ngIf","magical"===e.type),cs(2),bo(" (",100*e.amount,"% "),cs(1),Li("ngIf","physical"===e.type),cs(1),Li("ngIf","magical"===e.type),cs(1),Li("ngIf","physical"===e.type),cs(1),Li("ngIf","magical"===e.type))},directives:[Ul,Hg],styles:["civ-stats[_ngcontent-%COMP%]{position:relative;top:3px;margin:0 3px;width:12px;height:12px}.small[_ngcontent-%COMP%]{font-size:9px;white-space:nowrap;color:#494230}"],changeDetection:0}),t})();class L_ extends sv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class U_ extends av{}const z_=new U_(L_);let j_=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return th(this.value);case"E":return t=this.error,new b(e=>e.error(t));case"C":return uh()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class q_ extends g{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(q_.dispatch,this.delay,new F_(t,this.destination)))}_next(t){this.scheduleMessage(j_.createNext(t))}_error(t){this.scheduleMessage(j_.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(j_.createComplete()),this.unsubscribe()}}class F_{constructor(t,e){this.notification=t,this.destination=e}}class $_ extends O{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new V_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=n.length;let i;if(this.closed)throw new y;if(this.isStopped||this.hasError?i=h.EMPTY:(this.observers.push(t),i=new w(this,t)),r&&t.add(t=new q_(t,r)),e)for(let o=0;o<s&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<s&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),i}_getNow(){return(this.scheduler||z_).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,s=r.length;let i=0;for(;i<s&&!(t-r[i].time<n);)i++;return s>e&&(i=Math.max(i,s-e)),i>0&&r.splice(0,i),r}}class V_{constructor(t,e){this.time=t,this.value=e}}const H_={schedule(t,e){const n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if("undefined"==typeof window)return H_.schedule(t,0);if(void 0===window.requestAnimationFrame)return H_.schedule(t,16);const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};let B_;function G_(t,e,n){let r=n;return function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&e.some((e,n)=>!("*"===e||!function(t,e){if(!B_){const t=Element.prototype;B_=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE&&B_.call(t,e)}(t,e)||(r=n,0))),r}class Y_{constructor(t,e){this.componentFactory=e.get(Ao).resolveComponentFactory(t)}create(t){return new W_(this.componentFactory,t)}}class W_{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new $_(1),this.events=this.eventEmitters.pipe(dh(t=>B(...t))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:t})=>t)),this.ngZone=this.injector.get(Tc),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null!==this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=H_.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){this.runInZone(()=>{var n,r;null!==this.componentRef?((n=e)!==(r=this.getInputValue(t))&&(n==n||r==r)||void 0===e&&this.unchangedInputs.has(t))&&(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=vi.create({providers:[],parent:this.injector}),n=function(t,e){const n=t.childNodes,r=e.map(()=>[]);let s=-1;e.some((t,e)=>"*"===t&&(s=e,!0));for(let i=0,o=n.length;i<o;++i){const t=n[i],o=G_(t,e,s);-1!==o&&r[o].push(t)}return r}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,n,t),this.viewChangeDetectorRef=this.componentRef.injector.get(ca),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Yc).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:e,templateName:n})=>t.instance[e].pipe(E(t=>({name:n,value:t}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=H_.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const n=this.inputChanges[t];if(n)return void(n.currentValue=e);const r=this.unchangedInputs.has(t),s=r?void 0:this.getInputValue(t);this.inputChanges[t]=new oe(s,e,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class X_ extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function K_(t,e){const n=function(t,e){return e.get(Ao).resolveComponentFactory(t).inputs}(t,e.injector),r=e.strategyFactory||new Y_(t,e.injector),s=function(t){const e={};return t.forEach(({propName:t,templateName:n})=>{var r;e[(r=n,r.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`))]=t}),e}(n);class i extends X_{constructor(t){super(),this.injector=t}get ngElementStrategy(){if(!this._ngElementStrategy){const t=this._ngElementStrategy=r.create(this.injector||e.injector);n.forEach(({propName:e})=>{if(!this.hasOwnProperty(e))return;const n=this[e];delete this[e],t.setInputValue(e,n)})}return this._ngElementStrategy}attributeChangedCallback(t,e,n,r){this.ngElementStrategy.setInputValue(s[t],n)}connectedCallback(){let t=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),t=!0),this.ngElementStrategy.connect(this),t||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(t=>{const e=function(t,e,n){if("function"!=typeof CustomEvent){const r=t.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!1,n),r}return new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:n})}(this.ownerDocument,t.name,t.value);this.dispatchEvent(e)})}}return i.observedAttributes=Object.keys(s),n.forEach(({propName:t})=>{Object.defineProperty(i.prototype,t,{get(){return this.ngElementStrategy.getInputValue(t)},set(e){this.ngElementStrategy.setInputValue(t,e)},configurable:!0,enumerable:!0})}),i}function Q_(t,e){if(1&t&&(zi(0,"span"),mo(1),ji()),2&t){const t=Yi();cs(1),vo(t.time)}}new $o("12.2.16");let Z_=(()=>{class t{constructor(){this.displayTime=!1}ngOnInit(){switch(void 0!==this.withTime&&(this.displayTime=!0),this.effect){case"STUN":this.text="\xe9tourdit",this.time=" pendant "+Ku.STUN+" tour",this.time+=Ku.STUN>1?"s":"";break;case"TAUNT":this.text="provocation",this.time=" pendant "+Ku.TAUNT+" tour",this.time+=Ku.TAUNT>1?"s":"";break;case"UP_AP":this.text="+5",this.text+=" puissance",this.text+="s",this.time=" pendant "+Ku.UP_AP+" tour",this.time+=Ku.UP_AP>1?"s":"";break;case"UP_AD":this.text="+5",this.text+=" attaque",this.text+="s",this.time=" pendant "+Ku.UP_AD+" tour",this.time+=Ku.UP_AD>1?"s":"";break;case"UP_CRIT":this.text="+25",this.text+="% de coups critiques",this.time=" pendant "+Ku.UP_CRIT+" tour",this.time+=Ku.UP_CRIT>1?"s":"";break;case"UP_CRIT_DMG":this.text="+150",this.text+="% de d\xe9g\xe2ts aux coups critiques",this.time=" pendant "+Ku.UP_CRIT_DMG+" tour",this.time+=Ku.UP_CRIT_DMG>1?"s":"";break;case"UP_DODGE":this.text="+20",this.text+="% d'esquive",this.time=" pendant "+Ku.UP_DODGE+" tour",this.time+=Ku.UP_DODGE>1?"s":"";break;case"DOWN_DODGE":this.text="-15",this.text+="% d'esquive",this.time=" pendant "+Ku.DOWN_DODGE+" tour",this.time+=Ku.DOWN_DODGE>1?"s":"";break;case"DOWN_AP":this.text="-3",this.text+=" puissance",this.text+="s",this.time=" pendant "+Ku.DOWN_AP+" tour",this.time+=Ku.DOWN_AP>1?"s":"";break;case"DOWN_AD":this.text="-3",this.text+=" attaque",this.text+="s",this.time=" pendant "+Ku.DOWN_AD+" tour",this.time+=Ku.DOWN_AD>1?"s":"";break;case"POISON":this.text=Math.round(4+.2*this.power),this.text+=" d\xe9g\xe2ts",this.time=" \xe0 chaque tour pendant "+Ku.POISON+" tour",this.time+=Ku.POISON>1?"s":""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ft({type:t,selectors:[["eff-deco"]],inputs:{effect:"effect",withTime:"withTime",power:"power"},decls:4,vars:5,consts:[[1,"effect-decorator"],[4,"ngIf"]],template:function(t,e){1&t&&(qi(0,"civ-effects"),zi(1,"strong",0),mo(2),ji(),Ri(3,Q_,2,1,"span",1)),2&t&&(yo("effect-",e.effect,""),cs(2),vo(e.text),cs(1),Li("ngIf",e.displayTime))},directives:[ym,Ul],styles:["[_nghost-%COMP%]{position:relative;padding-left:22px}civ-effects[_ngcontent-%COMP%]{position:absolute;top:-4px;left:0;display:block}"],changeDetection:0}),t})();function J_(t,e){if(1&t&&(zi(0,"div",9),zi(1,"div",10),qi(2,"char-deco"),zi(3,"div",11),mo(4),ji(),qi(5,"civ-progress-bar",12),ji(),ji()),2&t){const t=e.$implicit;Li("civ-tooltip",t)("on-click",!0),cs(2),so("dead",t.health.isDead),Ai("character",t.name),cs(2),vo(t.name),cs(1),Li("current",t.health.current)("max",t.health.max)("color","#eb4444")}}function ty(t,e){if(1&t){const t=Fi();zi(0,"civ-ranking",13),Hi("hide",function(){return Ie(t),Yi().hideRanking()}),ji()}2&t&&Li("leaderboard",Yi().leaderboard)}let ey=(()=>{class t{constructor(t,e,n){this.charService=t,this.ss=e,this.statsService=n,this.scoreS=zu.getInstance(),this.characters=[],this.showRankingBool=!1,this.charSub=this.charService.characters$.subscribe(t=>this.characters=t),this.currSub=this.ss.currency$.subscribe(t=>this.currency=t),this.scoreSub=this.scoreS.score$.subscribe(t=>{this.score=t})}ngOnInit(){}ngOnDestroy(){this.charSub.unsubscribe(),this.currSub.unsubscribe(),this.scoreSub.unsubscribe()}showRanking(){this.statsService.getScore().then(t=>{this.leaderboard=t.data,this.showRankingBool=!0})}hideRanking(){this.showRankingBool=!1}restart(){window.location.reload()}}return t.\u0275fac=function(e){return new(e||t)(Di($g),Di(Fm),Di(w_))},t.\u0275cmp=Ft({type:t,selectors:[["civ-top-bar"]],decls:14,vars:5,consts:[[1,"top-bar"],[1,"flex","center-aligned"],[1,"score",3,"civ-tooltip"],[1,"money"],[1,"characters-content"],[3,"civ-tooltip","on-click",4,"ngFor","ngForOf"],[1,"buttons"],[3,"click"],[3,"leaderboard","hide",4,"ngIf"],[3,"civ-tooltip","on-click"],[1,"char-wrapper"],[1,"name"],[3,"current","max","color"],[3,"leaderboard","hide"]],template:function(t,e){1&t&&(zi(0,"div",0),zi(1,"div",1),zi(2,"div",2),mo(3),ji(),zi(4,"div",3),mo(5),ji(),ji(),zi(6,"div",4),Ri(7,J_,6,9,"div",5),ji(),zi(8,"div",6),zi(9,"button",7),Hi("click",function(){return e.showRanking()}),mo(10,"Classement"),ji(),zi(11,"button",7),Hi("click",function(){return e.restart()}),mo(12,"Recommencer"),ji(),ji(),ji(),Ri(13,ty,1,1,"civ-ranking",8)),2&t&&(cs(2),Li("civ-tooltip",e.scoreS),cs(1),bo(" Score: ",e.score," "),cs(2),bo(" ",e.currency," euros "),cs(2),Li("ngForOf",e.characters),cs(6),Li("ngIf",e.showRankingBool))},directives:[Uf,Dl,Ul,Vg,vm,O_],styles:[".top-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;height:72px;background:url(top-bar.90181753b9e8ee8b3cd4.png);background-position:0 100%;display:flex;justify-content:space-between;align-items:center;padding:0 5px 0 30px;z-index:10000}.top-bar[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:80px}.top-bar[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%], .top-bar[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:Bangers,cursive;font-size:19px;text-shadow:0 1px 0 #bb9d77,1px 0 0 #bb9d77,0 -1px 0 #bb9d77,-1px 0 0 #bb9d77;position:relative;top:-8px;color:#18160d;height:40px}.top-bar[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{background:url(shop.a7c55a0ab9b3e5f6a1db.png) no-repeat;background-size:contain;width:100px;padding-left:50px;margin-right:60px}.top-bar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{top:-8px;border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;background:#362d24;padding:3px}.top-bar[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:3px}.top-bar[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]{display:flex;position:relative;flex:1;top:15px;flex-direction:row-reverse;margin-right:50px}.top-bar[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]   .char-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:#201d12;display:flex;align-items:center;justify-content:center;margin-left:30px;border-color:#bb9d77 #7e6147 #68513c;border-style:solid;border-width:2px;box-shadow:0 0 20px 0 #0b080633,0 5px 10px 0 #0b080633,0 0 0 1px #0b0806;position:relative;padding:1px;background:#362d24}.top-bar[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]   .char-wrapper[_ngcontent-%COMP%]   .dead[_ngcontent-%COMP%]{filter:saturate(0) contrast(.7)}.top-bar[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]   .char-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{position:absolute;bottom:-8px;font-family:Bangers,cursive;font-size:15px;z-index:2;color:#fff}.top-bar[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]   .char-wrapper[_ngcontent-%COMP%]   civ-progress-bar[_ngcontent-%COMP%]{height:6px;position:absolute;bottom:-11px;left:-5px;right:-5px;z-index:1}"]}),t})(),ny=(()=>{class t{constructor(t){this.injector=t,this.title="Corronsac Adventures";const e=K_(Z_,{injector:t}),n=K_(D_,{injector:t}),r=K_(Vg,{injector:t}),s=K_(M_,{injector:t});customElements.define("eff-deco",e),customElements.define("dmg-deco",n),customElements.define("char-deco",r),customElements.define("equip-deco",s)}ngOnInit(){}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(Di(vi))},t.\u0275cmp=Ft({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(qi(0,"civ-top-bar"),qi(1,"router-outlet"))},directives:[ey,Og],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:10}"]}),t})();var ry=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({}),t}();let sy=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t,bootstrap:[ny]}),t.\u0275inj=ht({providers:[],imports:[[Ou,T_,Tu,Eu,hb,ry,__,y_]]}),t})();!function(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map($t),r.pipeDefs=()=>n.map(Vt)}(Df,[Vg,vm,Dl,ym,Uf,Hg,Ul,Bg,Yg],[pf]),function(){if(qc)throw new Error("Cannot enable prod mode after platform setup.");jc=!1}(),wu().bootstrapModule(sy).catch(t=>console.error(t))}},t=>{"use strict";t(t.s=55)}]);